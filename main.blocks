<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="KIND_SpriteKind" id="aqRf*%REODi{^LUX^m4W">npc</variable><variable type="KIND_SpriteKind" id=":%qkfjj5v`q`4tu7=eq!">bullet_poryectile</variable><variable type="KIND_SpriteKind" id="]zMqQWKrbHai~K,AB_|V">tp_sala</variable><variable type="KIND_SpriteKind" id="tR(*F?uH3zS*PSbX9$.s">tp_jefe</variable><variable type="KIND_SpriteKind" id="DY9^m3G~8QfbtXY*RbZq">Player</variable><variable type="KIND_SpriteKind" id="0TK@Hly$=4=c%uP6H91:">Projectile</variable><variable type="KIND_SpriteKind" id="!Uu?wYtSxYI2b%^*@K:2">Food</variable><variable type="KIND_SpriteKind" id="?3jgaFG_eNR=L7.sW[K3">Enemy</variable><variable id="W/m8`#pWJZN65QWrEgz~">un_enemigo</variable><variable id="64@](QrCPi2;v/L.iXiy">mySprite</variable><variable id="ZVAehQC[TN2vo,XY,RQ)">projectile</variable><variable id="^W((0H[!v;|m[n^jB1hS">distancia_repulsion</variable><variable id=",=(IPYs.VCI$?GrM-r^}">npc_controles</variable><variable id="L)wW)-)ALg^Op+BN|1CC">npc_historia</variable><variable id="|*iQIkqg!A47AN1pmQv_">delta_x</variable><variable id="SvJm(HcWkY4NY7a8u-/|">sprite_player</variable><variable id="Ft$jgziCT^EtAOU7}vQs">delta_y</variable><variable id=":z,P=x[qsdEJYlpoWu:X">dodge_roll</variable><variable id="8(^5_bk6O{gw0K!*d|vd">posiciones_sala1</variable><variable id="O1iwyDTe1urPN-AKjx(*">pos_tile</variable><variable id="FLjituJGHFw{O0bjCdA)">nuevo_enemigo</variable><variable id=";M6S`?y{}FSS{y|;k$sA">x_coord</variable><variable id="C^c369$N[uxz[%s.!=/@">y_coord</variable><variable id="|xZLpay`fTI!VzKWwYCz">posiciones_enemigo1</variable><variable id="3=2}BHY.(~:{bSZK/j#r">tp_lobby_sala</variable><variable id="$R:3YH~uGa}KnDVud|vL">tp_sala_jefe</variable><variable id="~ALVfZ8+rpcFBh{?;Vu|">npc_tienda</variable></variables><block type="pxt-on-start" id="xRRgvHNlG#rZ^u`HECiY" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="H8C?U%Y$Y?0E}E_aIyTc"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let distancia_repulsion = 0" numlines="1" declaredvars="distancia_repulsion"></mutation><next><block type="variables_set" id="|V1,B@zWcBbT,RE=^e4c"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field><value name="VALUE"><shadow type="math_number" id="gxw4{,$fdiJ|t)uB`z`+"><field name="NUM">0</field></shadow><block type="spritescreate" id=";/O`QM~jtI{4/*[o:h,8"><value name="img"><shadow type="screen_image_picker" id="yOy0U#bM_FAF!xFX?oi)"><field name="img">assets.image`myImage`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image1"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="zJIh:hnnTD8uwjFtfpc}"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="ugFZvwVElH)fO5z11NA#"><field name="VAR" id=",=(IPYs.VCI$?GrM-r^}">npc_controles</field><value name="VALUE"><shadow type="math_number" id="Y2D0CB?(M(/Mvra++q-x"><field name="NUM">0</field></shadow><block type="spritescreate" id="SM]y;jW5om`I;MLN3A.6"><value name="img"><shadow type="screen_image_picker" id="@EdBaa2Uc),sdb]t)EZc"><field name="img">assets.image`cultist_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image8"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="Y|i:[Pgtl7!XBAJZQhk7"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="{RAL6%n|}nA{9Uqv@RrU"><field name="VAR" id="3=2}BHY.(~:{bSZK/j#r">tp_lobby_sala</field><value name="VALUE"><shadow type="math_number" id="GN,F=fniL5?AxQ3SBnff"><field name="NUM">0</field></shadow><block type="spritescreate" id="QTL!H)n+?_s{YwoPl@E!"><value name="img"><shadow type="screen_image_picker" id="4O]_VcT}qR8=LY%fn`gf"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="}6H(i05Xf3-ZwwyquX,~"><field name="MEMBER">tp_sala</field></shadow></value></block></value><next><block type="variables_set" id="5y:*xg@jw)l~C6TI5SsX"><field name="VAR" id="$R:3YH~uGa}KnDVud|vL">tp_sala_jefe</field><value name="VALUE"><shadow type="math_number" id="A=[crn]V*^2G-HHL}Vvh"><field name="NUM">0</field></shadow><block type="spritescreate" id=":f{B9c{usRS]-d.jd__f"><value name="img"><shadow type="screen_image_picker" id="*+cd4N[,p6U}:U_+}=*C"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="lf+1dCzc!F8#ytq:15j."><field name="MEMBER">tp_jefe</field></shadow></value></block></value><next><block type="variables_set" id="K(@!$Bk4cZVU$?3Mm;*`"><field name="VAR" id="L)wW)-)ALg^Op+BN|1CC">npc_historia</field><value name="VALUE"><shadow type="math_number" id="D[w`m:Ty|Ex.|36=({O."><field name="NUM">0</field></shadow><block type="spritescreate" id="-L-_nXd%nWAeCsK$3DhN"><value name="img"><shadow type="screen_image_picker" id="a;6z/V!gHr~MI0X]`{!1"><field name="img">assets.image`bullet_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image7"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="@7yxNievZ/?JH~aX?O#|"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="*z~aF-Ix3KYm.#Dey);i"><field name="VAR" id="~ALVfZ8+rpcFBh{?;Vu|">npc_tienda</field><value name="VALUE"><shadow type="math_number" id="mG`#c`,dJJHVxQ+dqo5_"><field name="NUM">0</field></shadow><block type="spritescreate" id=")9I9BHuiLluhn@KTQ)P+"><value name="img"><shadow type="screen_image_picker" id="W{FauDRGqsKLX-N(mnH;"><field name="img">assets.image`dallas_shoper`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image9"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="L#L;#s86kIgilVM,t1wx"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="spritesetpos" id="E.2EYyGyq9N{fzxaZ6{@"><value name="sprite"><block type="variables_get" id="=C+f+cJ7#nJN{Hn6)!S5"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id=",%M!IfN[mk/-Q|LS;pV."><field name="index">335</field></shadow></value><value name="y"><shadow type="positionPicker" id="j@MS#HXeb.2:dVXH6GR8"><field name="index">316</field></shadow></value><next><block type="spritesetpos" id="D2=0PS@h,*ui9RxrcyZg"><value name="sprite"><block type="variables_get" id="dGBz?|#MI%v5!5YB9|TF"><field name="VAR" id=",=(IPYs.VCI$?GrM-r^}">npc_controles</field></block></value><value name="x"><shadow type="positionPicker" id="nI,O$yFc53iHeEu++@R3"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="^A?Nk{|KKsF=,ssHvk|u"><field name="index">270</field></shadow></value><next><block type="spritesetpos" id="N!9mC(T$+TQp(E]}6GQ("><value name="sprite"><block type="variables_get" id="G(zKmtk/mle6@LCc+H58"><field name="VAR" id="3=2}BHY.(~:{bSZK/j#r">tp_lobby_sala</field></block></value><value name="x"><shadow type="positionPicker" id="XidVQ/.e3*%S`q;c*Vf7"><field name="index">330</field></shadow></value><value name="y"><shadow type="positionPicker" id="uPSyRdnjagN?^VEm7~Xt"><field name="index">360</field></shadow></value><next><block type="spritesetpos" id="acw8rBrVST9o-9O,E(T+"><value name="sprite"><block type="variables_get" id=",SxlPyH]VraKs4fLeDA@"><field name="VAR" id="$R:3YH~uGa}KnDVud|vL">tp_sala_jefe</field></block></value><value name="x"><shadow type="positionPicker" id="[H@B(R?Js1Tq}8Pknves"><field name="index">3135</field></shadow></value><value name="y"><shadow type="positionPicker" id="YZugD@5s56$opBuw1/M5"><field name="index">311</field></shadow></value><next><block type="spritesetpos" id="JhPi3~%f8bG0n-BcW?^R"><value name="sprite"><block type="variables_get" id="IlMgLH%_YV.)mr6gKp!W"><field name="VAR" id="L)wW)-)ALg^Op+BN|1CC">npc_historia</field></block></value><value name="x"><shadow type="positionPicker" id="1Gw{D=.v-_rxpgm-#%xO"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="T,]F|-)!htu9wFe4%WZY"><field name="index">330</field></shadow></value><next><block type="spritesetpos" id="(.+sau*M+[,SReN]9Fr5"><value name="sprite"><block type="variables_get" id="i!VvH4wJo0mg(c*-Q|*."><field name="VAR" id="~ALVfZ8+rpcFBh{?;Vu|">npc_tienda</field></block></value><value name="x"><shadow type="positionPicker" id="s+{=yOpr+m+t7@q*ZE7C"><field name="index">103</field></shadow></value><value name="y"><shadow type="positionPicker" id="Z/c+gV5Q1Q(g2!0Ob5jo"><field name="index">1464</field></shadow></value><next><block type="arcade_character_loop_frames" id="=!MA^B*QUpSYC^9kv6.t"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="~w~4jpSW7f!1CiA|/NPS"><field name="VAR" id=",=(IPYs.VCI$?GrM-r^}">npc_controles</field></block></value><value name="frames"><shadow type="animation_editor" id="=f]JeFT9Is@#GKso|i~8"><field name="frames">assets.animation`cultistAnimation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim13"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="sk6]`oOHFWl*3-JX=947"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="]@{5#T%akNf:PWJtU@z="><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="(K1m5YT$89k]3,/boS1~"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="FM1k=2{|l9?VA9]Ue5wA"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="z}G6Vs)XS.=[PwZcUSV$"><field name="VAR" id="L)wW)-)ALg^Op+BN|1CC">npc_historia</field></block></value><value name="frames"><shadow type="animation_editor" id="TRNJ:`2AE8f}{.YSsFf6"><field name="frames">assets.animation`Bullet_NPC_Animation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim15"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="6}B({fokT)VqzPUeSbU%"><field name="ms">400</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="RKFyD]bj4k.$uUCHj=vL"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="K3+e.NxR91iu:h`VAd0Y"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="#:}{oeBRF2U2J6H}Lk0U"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="k@{qN^d3~wq)zpj=p:H7"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="2N5Y2}7=X^TWrwXTKz?#"><field name="frames">assets.animation`run_front_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim5"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="0#+Wt3O|y7u0A+4azgM0"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="*V/+O-(|XxW0F0y49|_o"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="QGdgdymXD%3~B@D;Cng+"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="=Gu#no5X5CBsS`d!AjtI"><value name="sprite"><block type="variables_get" id="op3rR^R+h|,V6L]|T[J]"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="QWkI])Qy!hn;ahZ;_@H1"><field name="frames">assets.animation`run_back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim8"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="`{BS:jgAf3!6HE`~9KN:"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="NS*Z#d9]:5H}Xj72v0wf"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="yJUV6EdN@T|Vr[X:^O7m"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="5x0GGxx#yIqI=np}MUSD"><value name="sprite"><block type="variables_get" id="LCVn45R_fCW$f38p#.6z"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="[qISND~hcEv*jL1B5nT_"><field name="frames">assets.animation`run_right_pilot0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim7"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="y.JxWnQriB(gj*YYgg@e"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="uXyI235BW4Gwc/X1L@ZT"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="F)aayT!(K;HFzW1vO!2i"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="*ek/gx2L]^?t`c3$BF]K"><value name="sprite"><block type="variables_get" id="Hq{f;f)Va`uePE$(oey3"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="C+1k;h.~H`pc|xG+49f;"><field name="frames">assets.animation`run_right_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim6"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="k.B3#?~SQ}%!pYju;7qo"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="2:$ko+eWdrpj%3cFpAe8"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="4K#nQ}g?:17t%l|cK7zZ"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="6k8)10.sI^6`h-/VLE@:"><value name="sprite"><block type="variables_get" id="7j|-zROLVF]i|l3jFM?~"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="Hk25{yN,}5%`GW(=;w2B"><field name="frames">assets.animation`still_down`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim1"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="h6Yvq;KT7;KLTF|aBt?i"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="FBAjJs:orIaJ{Q2N=?S9"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="t;rX%_BD),u]_MJI/UN-"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="ZD6QOv7^O:,.B|jMzc._"><value name="sprite"><block type="variables_get" id="[A)wbbhYhPD/uBuBRadS"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="^-tPb;mh_x@`ARxAW@^P"><field name="frames">assets.animation`side_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim2"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="~f1VL-H$E$`}[XzilY0h"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="8c@^FM(_4;zF$a#Pg?ZW"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="q;#^8[0*7bO5$`EEmpZi"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="%`JfJzu[pjW3$!41},T9"><value name="sprite"><block type="variables_get" id="Ks8YUleFxT7Ah/pZQ8Bb"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="t*(j1C4jaGJ|l9:gJoYQ"><field name="frames">assets.animation`side_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim3"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="9C6=DWr9Y@4ymk4BZD.a"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="}o)}PY*=3VyQ5aYY:]TX"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="1!gOdD_VCFU!^.]Fa%Ot"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="WoF9S,BVuTEuf6@aJBl2"><value name="sprite"><block type="variables_get" id="LXCKd]XPT]Eb?zNEtrD$"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="Oj!@x;Lt9Q*2[_AtU)#o"><field name="frames">assets.animation`back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim4"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="AA+Yra1rQDNSXh*k+v%0"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="*ZC+{oJW=sH(}gJi1r8#"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="ex9L{G?xkrHRiG2d(u.{"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value><next><block type="function_call" id="rFKcvUiR_$kqL(8Ab{r*"><mutation name="spawn_enemis_multiple" functionid="PXIi/w}IR$;uY6G*d1@V"></mutation><comment pinned="false" h="80" w="160">⭐️ LLAMAR A LA NUEVA FUNCIÓN DE SPAWN</comment><next><block type="game_control_sprite" id="og.@/gr$[j3j07rlMRky"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="`tFN!/a4Mjak`wsE/BZ="><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><next><block type="camerafollow" id="3(p9=FNfVuXS7P%csb7,"><value name="sprite"><block type="variables_get" id="$B1QeNv3y|0!Sb0)[8+7"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><next><block type="set_current_tilemap" id=")7eNx^lmAYz{b{Mj^%?x"><value name="tilemap"><shadow type="tiles_tilemap_editor" id="6(!k@0JzLewQ0a^tIv#0"><field name="tilemap">tilemap`first_dungeon`</field><data>{"commentRefs":[],"fieldData":{"tilemap":"lobby1"}}</data></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="gameupdate" id="aFs5I+*7cY6G;saQ^fL-" x="618" y="-30"><comment pinned="false" h="80" w="160">⭐️ Opcional: Implementar aquí la lógica de animación por dirección para los enemigos</comment></block><block type="keyonevent" id="6~#mJeGNI.25b_9E3~C`" x="827" y="-30"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="nFzQZk#3vKW1I+ebA0vZ"><value name="sprite"><block type="variables_get" id="odfqcoHCojP*%K0Kr+{F"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="M0)saD=pZE%~~Hn#2Pu#"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="?C@=D?ANf5d#MO:+ob`|"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="Xl$kF_Lz!;CMtDk3zX.e" x="1351" y="-30"><field name="button">controller.B</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="jF1,:ryPj=_|JCyFE/s#"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="Q%m/6|e@HQR[]6Ow%5V,"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="kQx;N$7vW3~)^Gvv1}3^"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="%N[Z1SLM)S*zzJYawiZC"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="U2uti)C,z*/FMx9optFI"><value name="sprite"><block type="variables_get" id="8Z*!+|#yS_g+*fM=PfRQ"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="x6?Z=M5Bo(Ap0Qmp^_86"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="P[F-4c~6B4p23LA,^Q2I"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="Vu$@BF*LM?G@)#5.aHcI"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="EN5G,rP8lVWOlld~h#9)"><value name="sprite"><block type="variables_get" id="%vwp}A5I7(XHR.R1jK|]"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="sC*O^}W7im_HX49SB]Kd"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="CZU|dV%$ft*{qJfn6B)S"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="-[qRv6|jjQUv|f3v=oI?"><field name="VAR" id="ZVAehQC[TN2vo,XY,RQ)">projectile</field><value name="VALUE"><shadow type="math_number" id="M|j~CL?[i]H0wio%gUR$"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="V?$r^l1DC/k[0]9ndu?v"><value name="img"><shadow type="screen_image_picker" id="W9|4#b2Pa;v2+$Q{i*D9"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="3k]~.g9Qw1it#Q`s4:*W"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="sKw=dvdpvqPT9su)_C!W"><field name="speed">200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="v}~dBdKGzs%LusY9nQ,1"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="l:p16^!?iB;_fi6#X38*"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="83Qu6AeBZK;}nGtUS}Dd"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="g6URaUl,OJeRUmb?Fpb1"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="TI$VjjHK_PVK#qlEMRTU"><value name="sprite"><block type="variables_get" id="No6L~flpl7159-NxgQkg"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="Fn-xXD2bK5%WW1nsD?Q6"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Y-_vKWq`X/Khb,aN982N"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="[F$/2J4L6W:?b#RMCThA"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="S`zZ[IWA#PI:g6K::PIr"><value name="sprite"><block type="variables_get" id="Qi=/72+*${C3E,;2TWt7"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="n|):Qr0H%x0}pq3;AV8!"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="%GVW(@euP4nGk(qUUk(`"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></value></block></value><statement name="DO1"><block type="variables_set" id="@}n[3F^QKpD?,70pO{hn"><field name="VAR" id="ZVAehQC[TN2vo,XY,RQ)">projectile</field><value name="VALUE"><shadow type="math_number" id="O2dOzVT#uA2L3-kmS5{J"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="^lPKERe9=T:x`V*BL9oY"><value name="img"><shadow type="screen_image_picker" id="(_TsG=OCcD6OImK)dA2:"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="[h]WarD}PXQ[G6X/LhJa"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="%5bUIR19dD9:}yjg+CVi"><field name="speed">-200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="Zq^J==enP[kvP8Gri.7i"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="1=@VM+%R/07XTFS~B81L"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="V.}a5#vvcdd/[MFUF!h7"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="VgNcRC?v28N0XTNv$)24"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="Mkf839@~F,wG}KZ(mf^P"><value name="sprite"><block type="variables_get" id="nnzukMl4:S;v3+8DpF4t"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="S%*!T1CaF?,v6);Jvjig"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="G9M*SdZn$};[,}E29gyR"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="tmw#j[L1Jd;bo)]lGIFq"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="E]gq=SfmWM-S{Jcf*jvN"><value name="sprite"><block type="variables_get" id="PU@MXmAAr:).a2A@p:|S"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="es/Ui)n/y+$3Ydh{QP-_"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=".wpdUs|BC589A~ANU~K8"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></value></block></value><statement name="DO2"><block type="variables_set" id=";$!-/.@!I,SWMLi.*%]c"><field name="VAR" id="ZVAehQC[TN2vo,XY,RQ)">projectile</field><value name="VALUE"><shadow type="math_number" id="$K2W+yIiX?]g!9AB?FC%"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="K3Z}{?;r2@LUv|BVZwcV"><value name="img"><shadow type="screen_image_picker" id="Ww!ysMoTe=Dx[|Z[?_?j"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="B7G=49-6j8R?LW_h%q:."><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="V#wQqd+SV9UAJaxtNdS~"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="wb7vugBdQ,$^|3s+IRLz"><field name="speed">200</field></shadow></value></block></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="=KY90?3hU$ri[)Z-Gr{r"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="3l}VMTiu4uU!ikGJiDe9"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id=".%yr}.i)!b?MbCU41nun"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="Fv;pn34fNy^{B,[|,#PY"><value name="sprite"><block type="variables_get" id="k*@+Y,iWOgzcp@V#4paD"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="E@-qxGdyr5pkQXs.OG(_"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="+4(v1cdA5ui!Xt;W4UQm"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="zmlZl%-m~:Y[s1oHaudk"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="rX?1V3lT*=U0[n!S#ELE"><value name="sprite"><block type="variables_get" id="@s:~+-27DT]~a0,[:dVc"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="v@Nx`TFh|J^%8,OLf7@M"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="0U^)+64Pu@RB-!09mV5]"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></value></block></value><statement name="DO3"><block type="variables_set" id="r[8jSc_XzD-%{ed89nJI"><field name="VAR" id="ZVAehQC[TN2vo,XY,RQ)">projectile</field><value name="VALUE"><shadow type="math_number" id="8Oj[w:l]bBDDFAEO)Cgs"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="a7B|R{9gLf$kS|yj?MGI"><value name="img"><shadow type="screen_image_picker" id="@i$!m9,5G|kno)WTDWlQ"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="JGOtB4=Z{NNSdu4jnW;P"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id=")#57pknxeM}/?7Ac?Z]~"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="zs9spOgnd$%LJsH^.j-l"><field name="speed">-200</field></shadow></value></block></value></block></statement></block></statement></block><block type="keyonevent" id="N$|Ly]me1UZOuRyxn6Xo" x="2428" y="-30"><field name="button">controller.A</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_enabled" id="*T*v:=)j_eUGR);1c1cm"><value name="sprite"><block type="variables_get" id="o=j83qevYf9(R*vz@l0:"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="5IrWVN(%ZO!P_f.HgVWg"><field name="BOOL">FALSE</field></shadow></value><next><block type="controls_if" id="AACLhHCR_?iFiHSs}J%u"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="gEPxJrEf`yYm]VM=(iXZ"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="vE!A-~zPy]Xr,D0sqQ$V"><value name="sprite"><block type="variables_get" id=":-TJ|nuxu9DO$wDBAPL-"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="cCfhTBv;@)o3XgURnYg]"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="|u/2dwWmWsR?sz1QkP,2"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><statement name="DO0"><block type="run_image_animation" id="|X3%!GdD+*ipxrN]tSk;"><value name="sprite"><block type="variables_get" id="BDn:Sgb!KX.J/PBCt,p{"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="}XIV`}@JkEYv[leZ*)V6"><field name="frames">assets.animation`dodge_roll_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim10"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Fp?3?yQC(LYa%u~fCF3]"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="7c{w),gu,NTBPcvGes)p"><field name="on">false</field></shadow></value><next><block type="device_pause" id="O*1X4~EIj7~}S0kw3:Ft"><value name="pause"><shadow type="timePicker" id="dM_+A9t=7LtL]}2Z|ha4"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="acp{jnAWWcU/Kg|B]Y!@"><field name="VAR" id=":z,P=x[qsdEJYlpoWu:X">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="WqZeX9YbjC,,{15aTZaV"><field name="NUM">0</field></shadow><block type="logic_boolean" id="*AiZ*utAo4D#ApSq5{@R"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="ZUZ@Qd@dZz/ReXJ]ywFR"><value name="sprite"><block type="variables_get" id="SF6[==ae2qQaARhxr7rL"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=".xNW+XYv,rHAOery,2yI"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="GH|cUPN2c9PNM7FfX1_;"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="5N(}(P0sp%M}Ti,hFg={"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="k,ju$^0DQ+{GAxJ_PEIF"><value name="sprite"><block type="variables_get" id="OA/-8o]-.3z/,)m[8a*2"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="f3{r04Z[|k~zooFgrD,v"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="y)Lbbuc5PWk4pOr,gPiV"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><statement name="DO1"><block type="run_image_animation" id="cCJ|DQ,bkGy*O[Th|NqN"><value name="sprite"><block type="variables_get" id="j4^{$2-bV@}(cm!z3r)-"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="vK#NtjZ]=z|NA{-?`kr%"><field name="frames">assets.animation`dodge_roll_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim12"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Gk4cku4UnvK!d.UV1eu("><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="0EkV@|[#I:L%nIU/euqo"><field name="on">false</field></shadow></value><next><block type="device_pause" id="gk}0Z/7X2tbI:x=1h^[w"><value name="pause"><shadow type="timePicker" id="eEbSO+Gw?OUboSmQNmnP"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="kznloPj%w*LVgjraJfSO"><field name="VAR" id=":z,P=x[qsdEJYlpoWu:X">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="=,)_^~JTsAZB%INbmbU@"><field name="NUM">0</field></shadow><block type="logic_boolean" id="LMOeH#[_)QGvW^L%CiC8"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="^Ia.;]rOs;)M[rSCUn#^"><value name="sprite"><block type="variables_get" id="!dtosz+JLsMs$?imn0DG"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="=q`Y6nfZd=qou2rI=M)A"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="GF#uy]2Rs0`.O{(PZL%y"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="w_iN2kD~Ezxc5S9x-wzl"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="@%(vS3CV{/sw}g^fIG1-"><value name="sprite"><block type="variables_get" id="#ZG;_W+LW:=?-?do=bps"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="~).$[w8j(iH*OM4N5_IP"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="+?Sl,W+;6^fR~Yk.TYL|"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><statement name="DO2"><block type="run_image_animation" id="-l(CAB8;FmI2s@eX=l$_"><value name="sprite"><block type="variables_get" id="UTEENZt[zil)NmX`*,P+"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="1v)`^jn|fA.9PB*j46=!"><field name="frames">assets.animation`dodge_roll_front`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim9"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="@:!lmx+os93UZBt_v-pa"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="%a?3F#q/~`5b~zqW8%sF"><field name="on">false</field></shadow></value><next><block type="device_pause" id="Sy~3L~lwFCV}pk+Dnp*m"><value name="pause"><shadow type="timePicker" id="om]`2Z~HbS4IH7O?WMnJ"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="#DNOSB)%/@lF)9]eV1F."><field name="VAR" id=":z,P=x[qsdEJYlpoWu:X">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="k)D{d9b%ph6+$ke1+moY"><field name="NUM">0</field></shadow><block type="logic_boolean" id="7:):at]g*z(_Z;={j/re"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="Z;Rc!ZP.YHz=]#Yog;ot"><value name="sprite"><block type="variables_get" id="UIH,:Tc1::KAdj6RtBYf"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="e8WQs45iJL)0F7F25!:c"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="$+3!Cj3LFm[6c|)+rE/."><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF3"><shadow type="logic_boolean" id="+gv/0Pb(.wMdWmfs.6B)"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="1;%dmi(j-|Fi=e*XC.LJ"><value name="sprite"><block type="variables_get" id="DQ@rrY#+Uo/a]!B0OAQL"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="N*u~)hT8o1g=uV;5RS[F"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="8!S%X?[,.4quV:kWK,P?"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><statement name="DO3"><block type="run_image_animation" id="[Ra|hd{z7u};Z$QMf%Jo"><value name="sprite"><block type="variables_get" id="pi76@U$Q5:!rGw[H=JIb"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="pyZ2xnXtsJq{m?!bzGH#"><field name="frames">assets.animation`dodge_roll_back`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim11"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Q|,c7gWvguCem!0?GjT!"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="k7/PG8Jo?ZGR5?^dEZDh"><field name="on">false</field></shadow></value><next><block type="device_pause" id="xG9WE,:aGYd.{]T)9Sf|"><value name="pause"><shadow type="timePicker" id="FSVh~d_:e$-O/b_Ut:bI"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="T#YiU^(z[1bb}/xZZf~]"><field name="VAR" id=":z,P=x[qsdEJYlpoWu:X">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="~2qES,XQgK#7(j_.GRdV"><field name="NUM">0</field></shadow><block type="logic_boolean" id="sQLBlt%%(47xUz3!En,0"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="G7K;5[8F@Z3X|E12^:?W"><value name="sprite"><block type="variables_get" id="m-fOBtu3)ZNST{CD5[5w"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="+:tZ)!5;]$=qYDLFax]i"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="$jt$zi2ueLepQY{/UZ2:"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="1o`:H1P?6ZO^FI@W:4iQ"><value name="IF0"><shadow type="logic_boolean" id="Izk|U!h-F#kkjUYLHb!E"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="]+Ca!#CuMu1c6h1#ypBN"><value name="BOOL"><shadow type="logic_boolean" id="mPM~dWji:a6`K7J7A`kG"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="CO~(JJY7@M~Aqn*M+gT;"><field name="VAR" id=":z,P=x[qsdEJYlpoWu:X">dodge_roll</field></block></value></block></value><statement name="DO0"><block type="arcade_character_animation_enabled" id="R8(=9ci.~t;,Ezk^L-I~"><value name="sprite"><block type="variables_get" id="|;+nn:@+gDrcI:1EEx%;"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="HW=Q(F|OSjl{cFW`7l:E"><field name="BOOL">TRUE</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="keyonevent" id="PJFw}VQw`_B4m`]1YOlA" x="3034" y="-30"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Released</field><comment pinned="false" h="80" w="160">Funciones de released (Optimizadas en la respuesta anterior)</comment><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="{;1wtbjC,FXN~O|OFIL}"><value name="sprite"><block type="variables_get" id="8:A3YDF.#0n3U,Z./P[d"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="gb+hTeIX%a/RMoTR!h/E"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="ZXA!Xd`$;BjOYd^skpqp"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="x81_EbZvv??]O[FN(jxe" x="3576" y="-30"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="k%-xb1k5tJ.D|3I`,qZk"><value name="sprite"><block type="variables_get" id="15L%Ih+:M9C%n{{v:=@#"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="IbNT1I%JPxJE@*EPBj=D"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="N[4/*g??FwFWt_iguiRg"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="W2!alrw*C^kBc/byy~*^" x="4118" y="-30"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="$b7tVz^u]mR3_RQy31Mz"><value name="sprite"><block type="variables_get" id="y:dU27gjQh?|4U9,ST?I"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="9}jS}=9_uBRjM?`RK3#q"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="uc#6$9G!d{AxH4eA4HXA"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="x1.S|$SW/G#)w0]7!^mg" x="4668" y="-30"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="l3*D`cpMV5LMjgeg7=Ai"><value name="sprite"><block type="variables_get" id="ve($X+1f/[v]k[|XASXJ"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="/p.,159@+5QC-`z:h,Ss"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="L!!3|3_f%seem772PAei"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="+m5$a(u(BIw#D}F.u}^X" x="-17" y="3009"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="+qkF2U$_0~-?VDgZ]ffp"><value name="sprite"><block type="variables_get" id=",oSHT@]0~Xs4T(2d2u6}"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="n57fjw`(t#c_%jtnR~=8"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="ye6.gZC!;TKW[Oy%kgS/"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="mKmYw4[?8UKd@1NsmlWu" x="534" y="3009"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="JUaRb|3{29oimG|R9qqo"><value name="sprite"><block type="variables_get" id="z^Ii0.|-Z9%TVdzEK?t="><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="5ITcW::(_/Bfe(x00tn{"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="H:u7iw=D.)C8Nz^8o4K|"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="Sq`CKcKH*UXr0u.,N?9W" x="1058" y="3009"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="A+2qsQbNv*tZ^#Dhb_,r"><value name="sprite"><block type="variables_get" id="0%N(W*o`.RN7a,TkE]Im"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="J6nrgJq){nXtak:*9./}"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="%*K@$`Wc=d$K7Fv[9y%o"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></statement></block><block type="spritesoverlap" id="%}l;U03zQXf+q~crm-V-" x="1599" y="3009"><comment pinned="false" h="80" w="160">Nota: Asegúrate de que los sprites 'npc_controles' y 'npc_historia' estén definidos.</comment><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="DeAk#!yEELO6UrUm%t[L"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite_player</field></block></value><value name="kind"><shadow type="spritekind" id="DDQbG|=rpyZ0BRT]GhPi"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="C,QF(}vWF8a}y$,pcl2h"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="s4ezB[ycV:)-9Kz6ugdO"><field name="MEMBER">npc</field></shadow></value><statement name="HANDLER"><block type="typescript_statement" id="1[hOJbRn%a$/TnUm^L;a"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_x: number;" numlines="1" declaredvars="delta_x"></mutation><next><block type="typescript_statement" id="+R$y^[V6s58;XrsL7B.Y"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_y: number;" numlines="1" declaredvars="delta_y"></mutation><next><block type="variables_set" id="~tvSvkGn|#oh*VC/b~Q2"><field name="VAR" id="^W((0H[!v;|m[n^jB1hS">distancia_repulsion</field><comment pinned="false" h="80" w="160">Definimos la distancia de repulsión (ajustable)</comment><value name="VALUE"><shadow type="math_number" id="QJIdC?th%bDgO@g%y7HP"><field name="NUM">10</field></shadow></value><next><block type="controls_if" id="t!/2+^?CYaD{*nS`g6,9"><comment pinned="false" h="80" w="160">Un pequeño empujón es suficiente para romper el solapamiento.
Verificamos si la colisión es con cualquiera de los NPCs</comment><value name="IF0"><shadow type="logic_boolean" id="@ak50TW0%(2VXUJ]Z+O^"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="Rx4%VJYs~Qr]:)oxndn;"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="PFL$+~r^4shmUE6AG)}*"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="xBZ2(x_D`1,KZqaOlec2"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="*sT~]~4a9,G~3uaxBRY`"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="@;:ZuVt?{bfhpG;`op,,"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="J:A-X{Y|PEwl_b1[xCjw"><field name="NUM">0</field></shadow><block type="variables_get" id="QNX|Od_e*GK-2@G4v_.*"><field name="VAR" id=",=(IPYs.VCI$?GrM-r^}">npc_controles</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="8-dCQp5VTdUwM4@4nB5]"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="FPk0dF}fHrXEuh2[MBbA"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="]{SbTu:9UT4CDw$xa$zh"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="4tjhvjhL(-HtxQ_o#tD0"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="jtQ_{@T4qiFOxW.6YgoW"><field name="NUM">0</field></shadow><block type="variables_get" id="H;_Zy_9`u{[_c8k!;#zj"><field name="VAR" id="L)wW)-)ALg^Op+BN|1CC">npc_historia</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="wo^{Id`C6q})6k^H){fT"><field name="VAR" id="|*iQIkqg!A47AN1pmQv_">delta_x</field><comment pinned="false" h="80" w="160">⭐️ Lógica de Repulsión ⭐️
Calcular la diferencia entre las posiciones</comment><value name="VALUE"><shadow type="math_number" id="Y2$raQC$0?LH@.6$h9mv"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="C9wy(L=29J:|y-lc5=;t"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id=":L=irapsg5tDB(lF^iEN"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="t7I]=r[N*p[x=736Vg0B"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="K~(BPRMUOwKtH38saO#P"><field name="VAR" id="SvJm(HcWkY4NY7a8u-/|">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="H-7~dA-OikU..W%t7:OF"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="@|k[Lu@Oi0w`Di896`;o"><field name="property">Sprite.x</field><value name="mySprite"><block type="argument_reporter_custom" id="BRFt#Ms_C9;HtGfMxNSx"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="variables_set" id="QnXdrwNWy!lWe,b$*l:R"><field name="VAR" id="Ft$jgziCT^EtAOU7}vQs">delta_y</field><value name="VALUE"><shadow type="math_number" id="7V,)ut+$,[QSGnMxr:t$"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="!vy^*:S~](|!J/f,W+^o"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="`~k|XC{kf=b2lx9X,i9K"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id=".x-_[/{CiI9kc}!17pU0"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="$y3|`/-ssx-7ycVBP8**"><field name="VAR" id="SvJm(HcWkY4NY7a8u-/|">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="RM[/vhQuX:#_qo~~s*fd"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="J%xZh+U?Kp)4ZC{I6DfI"><field name="property">Sprite.y</field><value name="mySprite"><block type="argument_reporter_custom" id="PH1lXcq$Zw;_Y!1PJKHj"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="controls_if" id="h,_3n5q;3Gt6L*L0*9J`"><mutation elseif="1" else="1"></mutation><comment pinned="false" h="80" w="160">Repulsión Horizontal (Si la diferencia es significativa)</comment><value name="IF0"><shadow type="logic_boolean" id="}wlN`u^;f(YhqUX:V_S;"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="W%(..3zuoUokzS]PCRa("><field name="OP">GT</field><value name="A"><shadow type="math_number" id="_H7pMNL`l:sNTIxjmRLa"><field name="NUM">0</field></shadow><block type="math_op3" id="*Zl17-%586-LNo!$w4$H"><value name="x"><block type="variables_get" id="|aO)sG@DNi^e!N5^tjM?"><field name="VAR" id="|*iQIkqg!A47AN1pmQv_">delta_x</field></block></value></block></value><value name="B"><shadow type="math_number" id="%vgTJ^[H~w,#W7L^3rb2"><field name="NUM">0</field></shadow><block type="math_op3" id="K;m@*DEgL=#a6A|lQ3hU"><value name="x"><block type="variables_get" id="Lhdb.#Hj4WQ6o_B^7~=R"><field name="VAR" id="Ft$jgziCT^EtAOU7}vQs">delta_y</field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="`:wxJu$ll)n%JuO_m3zA"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="GKK4QlP6v45[]~G*~DO^"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=":/Cp!Ao!;)Xj;Hk.|hVb"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="{DXKwuCL5Sj)N9_=b:1X"><field name="NUM">0</field></shadow><block type="variables_get" id="U@1unB5d.YgLw:?zBhM@"><field name="VAR" id="|*iQIkqg!A47AN1pmQv_">delta_x</field></block></value><value name="B"><shadow type="math_number" id="ca.5.Ia9H]Ci%5gt!.j."><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="Sprite_blockCombine_change" id="rDEu#D3,M1NNk.dd:Fkp"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Jugador a la derecha del NPC, lo empuja más a la derecha</comment><value name="mySprite"><block type="variables_get" id="Cwd-=.4.^8j:{wX_=iFf"><field name="VAR" id="SvJm(HcWkY4NY7a8u-/|">sprite_player</field></block></value><value name="value"><block type="variables_get" id="#ha@d#`aFxh[f=rORg(["><field name="VAR" id="^W((0H[!v;|m[n^jB1hS">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="rhV:TWduxcus0Vh2u%RD"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.x -= distancia_repulsion" numlines="1"></mutation></block></statement></block></statement><value name="IF1"><shadow type="logic_boolean" id="Tq.]r0kgu27crs1(JgHW"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="@T3rWeUoUYP!32-T9#Oq"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="kctCo}ph^ir*/B)[*_Sm"><field name="NUM">0</field></shadow><block type="variables_get" id="$mk[JuV.+xLM,i7/3j`k"><field name="VAR" id="Ft$jgziCT^EtAOU7}vQs">delta_y</field></block></value><value name="B"><shadow type="math_number" id="vAG+ir0Juc0iN$b%l2nw"><field name="NUM">0</field></shadow></value></block></value><statement name="DO1"><block type="Sprite_blockCombine_change" id="B/~!U|[48g3x8,Y/6Qn:"><field name="property">Sprite.y@set</field><comment pinned="false" h="80" w="160">Jugador debajo del NPC, lo empuja hacia abajo</comment><value name="mySprite"><block type="variables_get" id="eq+`!SzK_C..PDdeMww{"><field name="VAR" id="SvJm(HcWkY4NY7a8u-/|">sprite_player</field></block></value><value name="value"><block type="variables_get" id="0ZOi/z-Z3[4:l:jpq/UI"><field name="VAR" id="^W((0H[!v;|m[n^jB1hS">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="IIr|1/X2;peSi6lLJeH#"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.y -= distancia_repulsion" numlines="1"></mutation></block></statement></block></next></block></next></block></statement><next><block type="controls_if" id="{LpPp=5H_ZHloUVegacQ"><mutation elseif="1"></mutation><comment pinned="false" h="80" w="160">---------------------------</comment><value name="IF0"><shadow type="logic_boolean" id="9dU%mK-iA/;Q$w+Gnu.6"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="RE]0!hmC+VpwFyg-~[:c"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="eJvut|D]_imKvLs7A*=P"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="V0p[orX2d)IJ,|,|puy)"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="mW~?9x}|.Mw#p,){df]u"><field name="NUM">0</field></shadow><block type="variables_get" id="e5?5DN^y92LTis-U+_/*"><field name="VAR" id=",=(IPYs.VCI$?GrM-r^}">npc_controles</field></block></value></block></value><statement name="DO0"><block type="game_show_long_text" id="0ac6NK)Z4LD?/eR?J#z@"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="pWImD5^j`7xv?5$(+z#U"><field name="TEXT"></field></shadow><block type="text_join" id="nQsW]sYWcO#J]M.1J@}F" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text" id="#5cYggNZ6Q4{z56+f|]5"><field name="TEXT"></field></shadow><block type="typescript_expression" id="rpCx0O/Mt8XP`mRn(ggM"><field name="EXPRESSION">`
                ¡Alto ahí, recluta!
                `</field></block></value><value name="ADD1"><shadow type="text" id="]6Fc%5?C#P{I#^sOukNk"><field name="TEXT"></field></shadow><block type="typescript_expression" id="~edcFb1:,H:HD$DV@N;#"><field name="EXPRESSION">`
                Este lugar mastica novatos como tú.
                `</field></block></value><value name="ADD2"><shadow type="text" id="N9LZ=iz$(:E#LvDgXfMs"><field name="TEXT"></field></shadow><block type="typescript_expression" id="_-J|eiRdJ/m}0?-PVqVh"><field name="EXPRESSION">`
                Si quieres vivir, aprende esto:
                `</field></block></value><value name="ADD3"><shadow type="text" id="vdTZ!hNU4ZbufJx9qUU^"><field name="TEXT"></field></shadow><block type="typescript_expression" id="_N=joLGwrD6A+d3ImXZu"><field name="EXPRESSION">`
                (A): ¡DODGE ROLL! Ruedas y eres intocable por un segundo.
                `</field></block></value><value name="ADD4"><shadow type="text" id="?%NdAz^0F{iLo*SLsF9N"><field name="TEXT">(B): ¡FUEGO! Dispara antes de que te disparen a ti.</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="2+P|GA7DR5tlu^h%UWL)"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="+6y(|Z4%WJWJX*Uq]CCd"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="ba4R!MVkVy2tq}F!pq2J"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="`lXJ24h)?^!$~HT0eyhA"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="tend]gAQG-n}H38~^U(:"><field name="NUM">0</field></shadow><block type="variables_get" id="JG5QJO^~;Nc}g;LnxTPS"><field name="VAR" id="L)wW)-)ALg^Op+BN|1CC">npc_historia</field></block></value></block></value><statement name="DO1"><block type="game_show_long_text" id="jQ!7/RX$}9Pfu`%_w#/)"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">--- 2. LA BALITA ---
Parte 1: El aviso</comment><value name="str"><shadow type="text" id=",(@+X#uM!(},g1{cY5J~"><field name="TEXT"></field></shadow><block type="text_join" id="qj;xZ{IFcb^Ad)/ItVQ)"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="NSn9V/o5yo7VT(|Iwb;j"><field name="TEXT"></field></shadow><block type="typescript_expression" id="X]-F)L)z|p;wM{|n@E-~"><field name="EXPRESSION">`
                Hola... no pareces de por aquí.
                `</field></block></value><value name="ADD1"><shadow type="text" id="^PIvUuVZ;Yi~x#w?na3v"><field name="TEXT"></field></shadow><block type="typescript_expression" id="onzh%@x#)[+AP2!^sBT9"><field name="EXPRESSION">`
                Bienvenido a la 'Cripta del Calibre Perdido'.
                `</field></block></value><value name="ADD2"><shadow type="text" id="pux{t}2Di(%V|WJM!hU|"><field name="TEXT">Antes esto era una fragua sagrada, pero 'El Detonador' lo corrompió todo...</field></shadow></value></block></value><next><block type="game_show_long_text" id="xz7n5-*SG5H-Qf.9T*A_"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 2: La leyenda</comment><value name="str"><shadow type="text" id="W:Rx4S6OI[;5}U,aJx95"><field name="TEXT"></field></shadow><block type="text_join" id="/abMoXc=_LM#1ixY`%%W"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id=":st06$rzfccG,M$4pOM-"><field name="TEXT"></field></shadow><block type="typescript_expression" id="SF9J;L7K13(4F_G618;c"><field name="EXPRESSION">`
                Ahora, mis hermanos balas se han vuelto locos por la Pólvora Negra.
                `</field></block></value><value name="ADD1"><shadow type="text" id="Q2k|{sCr?9r[4~}FJ65J"><field name="TEXT">Pero dicen que en el fondo existe el el 'Núcleo de Plomo'...</field></shadow></value></block></value><next><block type="game_show_long_text" id="xNXsP5.PPICX;B[V^X*8"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 3: El reto</comment><value name="str"><shadow type="text" id="nl*:D;s)^@o6F-XS3QWj"><field name="TEXT"></field></shadow><block type="text_join" id="t^alI1%Wi?}%E?TG`-W#"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id=")qN)5]j`,IF-obNTI$sG"><field name="TEXT"></field></shadow><block type="typescript_expression" id="c1?h-O5@ZXwYPWSVm`N+"><field name="EXPRESSION">`
                Si logras llegar y vencer a los Guardianes, el Núcleo te concederá un deseo:
                `</field></block></value><value name="ADD1"><shadow type="text" id="clh6?zI#Z%]m1N4oFqz+"><field name="TEXT"></field></shadow><block type="typescript_expression" id="xKzLj(zV$|RD|xV3%xNf"><field name="EXPRESSION">"¡Cambiar tu pasado!\n"</field></block></value><value name="ADD2"><shadow type="text" id="n5hNj2UOwhaP1CqVW4}h"><field name="TEXT">¿Tienes el valor (y la munición) para intentarlo? Suerte... la necesitarás. </field></shadow></value></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id="svc{f5fM{OV$nJdQ%H_Z" x="3468" y="3009"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="j?d)(LygY(3zCP0ip/Ui"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite</field></block></value><value name="kind"><shadow type="spritekind" id="t4L8pOS^.-@!/4|y)J:3"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="3M88Foo`iFbw],R*vBo/"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="]F!%YM6#[AYzmBR~qZJw"><field name="MEMBER">tp_sala</field></shadow></value><statement name="HANDLER"><block type="spritesetpos" id="lm_rGaNFgmv.`4nwo^FE"><value name="sprite"><block type="variables_get" id="PVY:?w6}r?)vkfaGnYE!"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="#_SmG::6,L@K)$Om!Xzp"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="wefK;^n8pP:5r%gQONIW"><field name="index">2782</field></shadow></value></block></statement></block><block type="spritesoverlap" id="_Ddp#(xn,HRSlZp],sIO" x="4196" y="3009"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="`~/~g#s|m4!L_[]j+k(W"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite</field></block></value><value name="kind"><shadow type="spritekind" id="CxX?]2S%P({^N.JW7OtY"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="u8Txv@*^7K~8w6a)m-PI"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="^OI7Wd?eDWH$Q8XKz7_P"><field name="MEMBER">tp_jefe</field></shadow></value><statement name="HANDLER"><block type="spritesetpos" id="etz9H2%e-Z12{~%})Ns,"><value name="sprite"><block type="variables_get" id="E_{VAP`-1:90bGS}Hpi2"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="iW*uA_xXnvx2Zb|u.t#2"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="N-Yg5tM$-~YujDrX)]f@"><field name="index">2782</field></shadow></value></block></statement></block><block type="function_definition" id="c.|4%N27WrU/No`9~ISH" x="-17" y="4670"><mutation name="mode_attack" functionid="HE;HR)m,#*TqpkYx:K`8"></mutation><field name="function_name">mode_attack</field><comment pinned="false" h="80" w="160">--- Inicialización del Juego ---</comment><statement name="STACK"><block type="pxt_controls_for_of" id="fJ,27*#atjFa2!SRj6b{"><comment pinned="false" h="80" w="160">⭐️ OPTIMIZACIÓN: Itera sobre TODOS los enemigos para que todos sigan al jugador</comment><value name="VAR"><block type="variables_get_reporter" id="4TPrcNsj?Ev[x.*?A_*/"><mutation duplicateondrag="true"></mutation><field name="VAR" id="W/m8`#pWJZN65QWrEgz~">un_enemigo</field></block></value><value name="LIST"><block type="allOfKind" id="@=!pK6KMX8cozKh6*@ET"><value name="kind"><shadow type="spritekind" id="F3RUyfqtU/S5szl[k!aB"><field name="MEMBER">bullet_poryectile</field></shadow></value></block></value><statement name="DO"><block type="spriteFollowOtherSprite" id="1~9oj)v:H8LauXy0JwcS"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="~DvfW1LQ4D5C*;oVpmK,"><field name="VAR" id="W/m8`#pWJZN65QWrEgz~">un_enemigo</field></block></value><value name="target"><block type="variables_get" id="|u/u^J,*|ilx]HBW|jx%"><field name="VAR" id="64@](QrCPi2;v/L.iXiy">mySprite</field></block></value><value name="speed"><shadow type="math_number" id="M#(!sc@Y$;evH|zJ}Ti~"><field name="NUM">100</field></shadow></value></block></statement></block></statement></block><block type="function_definition" id="EZ./e9Ban/f_D%kGTCQ7" x="800" y="4670"><mutation name="spawn_enemis_multiple" functionid="PXIi/w}IR$;uY6G*d1@V"></mutation><field name="function_name">spawn_enemis_multiple</field><comment pinned="false" h="80" w="160">⭐️ NUEVA FUNCIÓN: Genera múltiples enemigos en diferentes posiciones</comment><statement name="STACK"><block type="function_call" id="2}xg~v3TaLnnf=k0kr}l"><mutation name="cordenadas_sala1" functionid="h0:z+olm@Jq~f+M7HxEU"></mutation><next><block type="typescript_statement" id="|UUg:acFX4s4pNnu17v_"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nuevo_enemigo: Sprite;" numlines="1" declaredvars="nuevo_enemigo"></mutation><next><block type="typescript_statement" id="[1ffv1!QKs3u.Q(_fa8$"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x_coord: number;" numlines="1" declaredvars="x_coord"></mutation><next><block type="typescript_statement" id="}o#:=gpHbdMM{Jt3ytD;"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let y_coord: number;" numlines="1" declaredvars="y_coord"></mutation><next><block type="pxt_controls_for_of" id="U2E8iVz)_KFL=GIFqEqs"><value name="VAR"><block type="variables_get_reporter" id="Ib,|.vUr]vXr7*}}Dk!-"><mutation duplicateondrag="true"></mutation><field name="VAR" id="O1iwyDTe1urPN-AKjx(*">pos_tile</field></block></value><value name="LIST"><block type="variables_get" id="bY5[7Jkn?Ki0?Af9Q0q?"><field name="VAR" id="8(^5_bk6O{gw0K!*d|vd">posiciones_sala1</field></block></value><statement name="DO"><block type="variables_set" id="FaN,ToQ)HS9zA/=BL5NX"><field name="VAR" id="FLjituJGHFw{O0bjCdA)">nuevo_enemigo</field><value name="VALUE"><shadow type="math_number" id="ObOFXKA{M;aKrpxSxh:|"><field name="NUM">0</field></shadow><block type="spritescreate" id="Iowk?]-s;XA]ECGV8X$x"><value name="img"><shadow type="screen_image_picker" id="ZXuN:/J_/Yr0EIIUilcT"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="h{gPFbG`(x$6S#ZdDd^?"><field name="MEMBER">bullet_poryectile</field></shadow></value></block></value><next><block type="variables_set" id="]{%S.KXLam-+wfN!~^e,"><field name="VAR" id=";M6S`?y{}FSS{y|;k$sA">x_coord</field><value name="VALUE"><shadow type="math_number" id="wX?)Rp,2-8}q`M80GOHC"><field name="NUM">0</field></shadow><block type="lists_index_get" id="AqTeS.%Q#.0.-IhZ+Ew?"><value name="LIST"><block type="variables_get" id="K)j.8,;PRR04(lXhF|v!"><field name="VAR" id="O1iwyDTe1urPN-AKjx(*">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="[)VVBr|NbTOsOReNL3_f"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="?HFA;zF(%WZuiT*SH[2z"><field name="VAR" id="C^c369$N[uxz[%s.!=/@">y_coord</field><comment pinned="false" h="80" w="160">El primer elemento es la X</comment><value name="VALUE"><shadow type="math_number" id="JRWgI4V#][!X[H#bse2X"><field name="NUM">0</field></shadow><block type="lists_index_get" id="wh}DK-etIze)q?U@K~`#"><value name="LIST"><block type="variables_get" id="P#s#,Gy9nJMF9u/lx#N5"><field name="VAR" id="O1iwyDTe1urPN-AKjx(*">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="MK[!EtcPJHce$Hui^Q_V"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritesetpos" id="WoF9a3[yPj4r([-8dVdh"><comment pinned="false" h="80" w="160">El segundo elemento es la Y</comment><value name="sprite"><block type="variables_get" id="[;8qxqOD+lgnoR^gw92*"><field name="VAR" id="FLjituJGHFw{O0bjCdA)">nuevo_enemigo</field></block></value><value name="x"><shadow type="positionPicker" id="l}RRzj,%cE6sHqbo7RAo"><field name="index">0</field></shadow><block type="variables_get" id="_XF@LZ;W{j2@OW~Z8M()"><field name="VAR" id=";M6S`?y{}FSS{y|;k$sA">x_coord</field></block></value><value name="y"><shadow type="positionPicker" id="mRrsLvOT6CQ0:FH(;23E"><field name="index">0</field></shadow><block type="variables_get" id="9?0|vFa{yO1nnF4AffN]"><field name="VAR" id="C^c369$N[uxz[%s.!=/@">y_coord</field></block></value><next><block type="arcade_character_loop_frames" id="l8dWmBbF(R8*X9q~7v1e"><comment pinned="false" h="80" w="160">Configuración de animaciones para ESTE enemigo (repetir para cada uno)</comment><value name="sprite"><block type="variables_get" id="h7ALB-l%E!bpQhBm*[qJ"><field name="VAR" id="FLjituJGHFw{O0bjCdA)">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="!fxvq#cBu{[OD!~%E;r*"><field name="frames">assets.animation`myAnim`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim16"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="aNBD,N=K@:%4T0D?9iOq"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="/Af#4[KR@Ajp`$2.x+aE"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="~1yM)(EW!kYO]h,;Cq:l"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="wI|^UqS)/5Qhfd0.1mRP"><value name="sprite"><block type="variables_get" id="J,qV};=3AuWFkU{n2*Wk"><field name="VAR" id="FLjituJGHFw{O0bjCdA)">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="5)v-/jhk,f)Sih?2K.K:"><field name="frames">assets.animation`myAnim0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim17"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="f18WIGxT`ue*3sEL@w4}"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="hR-;HXIOL.:J]+|law-i"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="2lf5q,aB@0_u%npeX#b*"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="!0+2:rkoh?78=:cH9^*)" x="1556" y="4670"><mutation name="cordenadas_sala1" functionid="h0:z+olm@Jq~f+M7HxEU"></mutation><field name="function_name">cordenadas_sala1</field><statement name="STACK"><block type="variables_set" id="[GfwV$zK7dJb+*_f=YVC"><field name="VAR" id="8(^5_bk6O{gw0K!*d|vd">posiciones_sala1</field><value name="VALUE"><shadow type="math_number" id="P4*p)%jo;#6HhQb+%Jq!"><field name="NUM">0</field></shadow><block type="lists_create_with" id="[Ri6.w~92d`:E.+=FTbX" inline="false"><mutation items="4" horizontalafter="3"></mutation><value name="ADD0"><block type="lists_create_with" id=")R9`[to0?JzEA{8%kcr1"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="-1[q)5C!^:$1rl$lxLa`"><value name="min"><shadow type="math_number" id="|vnW/YY$4+2#Cz;YyeV_"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="kf2|=eP}U1^riWQOMTQ`"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="Y3QK7x$$mn%?T;wV)8JD"><value name="min"><shadow type="math_number" id="SB1_Yvu+L2f[dFu`K-IN"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="x/5`XUXqGcJb;~2RIBHN"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD1"><block type="lists_create_with" id="{E;)h,Y*EtNzhIO5)v)x"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="afh~va/pH`Mm[LruI;3M"><value name="min"><shadow type="math_number" id="|(NkKZ16JicNv/.K@Zzy"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="J98Oo]@U~[nwV`wZNt)l"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="e[,-KA`729!R3(A(A_,9"><value name="min"><shadow type="math_number" id="KIWX2CSer?s%9F`|Vhp{"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="S2U;[!;29y~(-r|4{iqT"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD2"><block type="lists_create_with" id="qExJC)EW$WZgm@ZzA_Y7"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="X,L$vBzNbi8BwaL0[CgN"><value name="min"><shadow type="math_number" id="}7prDvf#HP_1a4c?^tRa"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="`JlK:ONwePdEmQgh@L?`"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="r3cBA(HzrGJj]h_wB.3e"><value name="min"><shadow type="math_number" id="8qBw5GS{Ee)%3[`z$s!Y"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="UQrB=x`YB2pn)4]a};B9"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD3"><block type="lists_create_with" id="JNq:{|FMh+W]?+JSE%_`"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="}Kky)+GMvG#RrCvj4YJ,"><value name="min"><shadow type="math_number" id="h(R:T.CN,@Pf!lrW@X+L"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="h^4MNJ!nI`KrRb$:SDG0"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="GDSUv7_.1k5q(Ngxe{8]"><value name="min"><shadow type="math_number" id="L+1q/V@izrWP-:0/D0)!"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="$(200oVDi03N8kl;vkFX"><field name="NUM">2887</field></shadow></value></block></value></block></value></block></value></block></statement></block></xml>