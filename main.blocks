<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="kx%=L~6lPcdH1tw~qI9P">distancia_repulsion</variable><variable id="ixf7{_-OlP^k9(1ZLhV(">delta_x</variable><variable id="Jdu}VVItL}WuGg;JRb.U">sprite_player</variable><variable id=":3aY?D1eAAeg(R2SGZUP">delta_y</variable><variable id="d(1MnSpQ;FD5|h*;P{R|">npc_controles</variable><variable id="ivXQDl-#IMwtx79^d4uW">npc_historia</variable><variable id="VF2~e10JCmFYev?{c-@=">SpriteKind2</variable><variable id="@B{IZiO$-xJLD[oSNL4^">un_enemigo</variable><variable id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</variable><variable id="m!dmu#{.,_gkOw?:elO#">un_enemigo2</variable><variable id="U_qQLX2~][PNZ$JU~zC.">projectile</variable><variable id="zqk@C^Q{ts0w|y70S*w%">dodge_roll</variable><variable id="[`uC#eU7c@GX~z:o@J%J">posiciones_sala1</variable><variable id="t?+Y-|$xER5D[3i=OMq]">pos_tile</variable><variable id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</variable><variable id="BV!e^_cN;l5bJWdD:s5p">x_coord</variable><variable id="Ve_F+v[OY1~*}:=K0PBA">y_coord</variable><variable id="GA}r~u3(n]2=[7xQP=:K">pos_tile2</variable><variable id="@l#(=pX[2yKTNHkT0y(}">tp_lobby_sala</variable><variable id="cEfYXF|?u|p:M^%sTn^:">tp_sala_jefe</variable><variable id="}2!Tg^8zomcN^o.kM]+j">npc_tienda</variable><variable type="KIND_SpriteKind" id="di1+u#F7^3Eo@U4ghBB]">normal_bullet</variable><variable type="KIND_SpriteKind" id="kcpLv!C*@0)Muzyz.qt2">Player</variable><variable type="KIND_SpriteKind" id="7/NI(h+.(lqm`6R-550f">Projectile</variable><variable type="KIND_SpriteKind" id="rQALXd2tD_=dfggJbE`5">Food</variable><variable type="KIND_SpriteKind" id="2e684I]es@3A-4zdsd;A">Enemy</variable><variable type="KIND_SpriteKind" id="x{3WAUr8GfqzV(Ij=JJj">StatusBar</variable><variable type="KIND_SpriteKind" id="rHbm*8EOk1CzdJV4~~Zl">npc</variable><variable type="KIND_SpriteKind" id="JKJ;t.,%I:GZWd]q}o5m">tp_sala_lobby</variable><variable type="KIND_SpriteKind" id="@7r2$6yGZj?vvcgHZk6G">tp_sala_jefe</variable></variables><block type="pxt-on-start" id="Bi6VI45g{wRVlkeVm_ao" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="+i~gS8w]mAkG_eV$|6RX"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let distancia_repulsion = 0" numlines="1" declaredvars="distancia_repulsion"></mutation><next><block type="typescript_statement" id="sE7/c/W?6IYR%i~AHNqx"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace SpriteKind2 {" line1="    export const npc = SpriteKind.create()" line2="    info.setScore(0)" line3="    //  Creamos un sprite para el HUD" line4="    export const arma_hud = sprites.create(assets.image`" line5="        gun" line6="        `, SpriteKind.Food)" line7="    SpriteKind2.arma_hud.setFlag(SpriteFlag.RelativeToCamera, true)" line8="    SpriteKind2.arma_hud.setPosition(20, 105)" line9="    //  Variable para saber qué arma tenemos equipada" line10="    export const arma_actual = &quot;pistola&quot;" line11="    export const bullet_poryectile = SpriteKind.create()" line12="    export const tp_sala = SpriteKind.create()" line13="    export const tp_jefe = SpriteKind.create()" line14="}" numlines="15"></mutation><next><block type="variables_set" id="2qnKOr;2XheVO-8pO1mX"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field><value name="VALUE"><shadow type="math_number" id="?^aS$p]rt?|1dQ;NeE$H"><field name="NUM">0</field></shadow><block type="spritescreate" id="1QTqg?_Fq_)20ss.Kk!d"><value name="img"><shadow type="screen_image_picker" id="::,]a(Hq*ngFc6Q0PfWR"><field name="img">assets.image`myImage`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image1"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="r2eyvDs)ZQ866NaS56JV"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="q%Uu!*7o[TV}[i:6)4sr"><field name="VAR" id="d(1MnSpQ;FD5|h*;P{R|">npc_controles</field><value name="VALUE"><shadow type="math_number" id="27k.@#La,RjI4,pq33UR"><field name="NUM">0</field></shadow><block type="spritescreate" id="I(j.)_sr}O85HRabaeE)"><value name="img"><shadow type="screen_image_picker" id="8A8Tj1+%:Qkkv:L=#W!."><field name="img">assets.image`cultist_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image8"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="!x%HJq:,JIZ-wrY2ATG_"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="/TMk~Pozgh[/%^F`qi{f"><field name="VAR" id="@l#(=pX[2yKTNHkT0y(}">tp_lobby_sala</field><value name="VALUE"><shadow type="math_number" id="`Dd.,~VUE$hd*xr?JL8D"><field name="NUM">0</field></shadow><block type="spritescreate" id="1}bH8L:k=U$(P3?,X2C#"><value name="img"><shadow type="screen_image_picker" id="1B@fF.[JOB^nMKTG?X|1"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="FoQU)*0F?l|4fj#rmz*I"><field name="MEMBER">tp_sala_lobby</field></shadow></value></block></value><next><block type="variables_set" id="kxaqh0TG%sRiNAc9G9U/"><field name="VAR" id="cEfYXF|?u|p:M^%sTn^:">tp_sala_jefe</field><value name="VALUE"><shadow type="math_number" id="}`FkqH[K3(a#4e~,8vYO"><field name="NUM">0</field></shadow><block type="spritescreate" id="j%9jRr?FCX[OJhL_dXU9"><value name="img"><shadow type="screen_image_picker" id="!fq7646S4[:A|_l!`D,+"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="wmm7u^N$TO`l8V-4o8[{"><field name="MEMBER">tp_sala_jefe</field></shadow></value></block></value><next><block type="variables_set" id="0wWkX?RSYyuK^sE]1%;~"><field name="VAR" id="ivXQDl-#IMwtx79^d4uW">npc_historia</field><value name="VALUE"><shadow type="math_number" id="UF!x%t72?kZk?![3+co@"><field name="NUM">0</field></shadow><block type="spritescreate" id="K?dD}f;s|cdcWz]]}y!$"><value name="img"><shadow type="screen_image_picker" id="+!v0IX@sI:*}3Swsr+)5"><field name="img">assets.image`bullet_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image7"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="%L|D]HYUU{Be^m#QQV7N"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="O,d{@u=L%;5Z!C?gP$/j"><field name="VAR" id="}2!Tg^8zomcN^o.kM]+j">npc_tienda</field><value name="VALUE"><shadow type="math_number" id="giFN_R*,QS7u3y~|Z?J*"><field name="NUM">0</field></shadow><block type="spritescreate" id="l=%T-Qt{uvk+0|w%T$9n"><value name="img"><shadow type="screen_image_picker" id="FkSB!]6vFJS7J(f1{k!I"><field name="img">assets.image`dallas_shoper`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image9"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="Ndd(H$mE}$,f/4?Wi2Po"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="spritesetpos" id="sYOKT=@yA63H${9QOIWN"><value name="sprite"><block type="variables_get" id="J4CljB#9E1bRyJ9EsPk`"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="}RhbzY$kt$[bNLW.c38="><field name="index">335</field></shadow></value><value name="y"><shadow type="positionPicker" id="1hAx[w`TSV?uF~dG]HFf"><field name="index">316</field></shadow></value><next><block type="spritesetpos" id="f^y[VjeWKk1ozi8k)xhG"><value name="sprite"><block type="variables_get" id="_QTlq0yrvi5-s+X?.%Lr"><field name="VAR" id="d(1MnSpQ;FD5|h*;P{R|">npc_controles</field></block></value><value name="x"><shadow type="positionPicker" id="AomDsV*3D^Sm0sgx~$(+"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="DNbO_cy=ZIe}-!{%%o%d"><field name="index">270</field></shadow></value><next><block type="spritesetpos" id="quDAdD0Oz3#QGUaRFi`a"><value name="sprite"><block type="variables_get" id="di,(!R:w|B$$qvGYedc]"><field name="VAR" id="@l#(=pX[2yKTNHkT0y(}">tp_lobby_sala</field></block></value><value name="x"><shadow type="positionPicker" id="QjZ$jJ6E5jP=Bq0R;`,A"><field name="index">330</field></shadow></value><value name="y"><shadow type="positionPicker" id="riY~]twtFT0p=6983jP:"><field name="index">360</field></shadow></value><next><block type="spritesetpos" id="Cuu_OZ^_TTHym+Xt=fN8"><value name="sprite"><block type="variables_get" id="yugKh]vZE$Fsmh)Xozdn"><field name="VAR" id="cEfYXF|?u|p:M^%sTn^:">tp_sala_jefe</field></block></value><value name="x"><shadow type="positionPicker" id="y3-sj.`[V`DP.Jn+J1P4"><field name="index">3135</field></shadow></value><value name="y"><shadow type="positionPicker" id="O.G+d=/-{u[+uu85pXW."><field name="index">311</field></shadow></value><next><block type="spritesetpos" id="6B1njY~9rznOBX+[/Let"><value name="sprite"><block type="variables_get" id="cchbF!4zo598^(7aRVv5"><field name="VAR" id="ivXQDl-#IMwtx79^d4uW">npc_historia</field></block></value><value name="x"><shadow type="positionPicker" id="e^~^9_zep1uF~{,M8ArG"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="N@M/_;::.D^39|tmVoEz"><field name="index">330</field></shadow></value><next><block type="spritesetpos" id="fQ(ho]_ezoFkTaDbM/9Z"><value name="sprite"><block type="variables_get" id="c%BKqiy//;)5(9p|$GG]"><field name="VAR" id="}2!Tg^8zomcN^o.kM]+j">npc_tienda</field></block></value><value name="x"><shadow type="positionPicker" id="~]u6HXyaM?1sej:o*!ek"><field name="index">103</field></shadow></value><value name="y"><shadow type="positionPicker" id=",,6Jpg,w~*kQ]*o%Xa/."><field name="index">1464</field></shadow></value><next><block type="arcade_character_loop_frames" id="[0]pMI%%-UlBHqVR;5Pe"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id=",LPYy`R[1=l-X{U$]#B]"><field name="VAR" id="d(1MnSpQ;FD5|h*;P{R|">npc_controles</field></block></value><value name="frames"><shadow type="animation_editor" id="V@;M6[;61GRvhAR`vwP)"><field name="frames">assets.animation`cultistAnimation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim13"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="O)!Jvh]X@KD5+(YqXgY,"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="ETn=fZ,%cPAcDsFcoXt("><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="^ffrDny#}QP@9H+}Py;U"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="3:Cdw:Ym:HjB?Fa/9jz4"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="Aa4U0_4R|U;E+5M?],vw"><field name="VAR" id="ivXQDl-#IMwtx79^d4uW">npc_historia</field></block></value><value name="frames"><shadow type="animation_editor" id="m%#MTQ*jD|av/x7sl-ik"><field name="frames">assets.animation`Bullet_NPC_Animation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim15"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="-DrP!o_Z*9E|PhHGbn]q"><field name="ms">400</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="X84;HX.yU.;/%^Y%kAYX"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="nrWPSQJFhL*AN3_LBo;@"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id=")D4Hf+zR-CK^m+wF]#.0"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="R3~h5WNbNyDx/G?yn,uB"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="scY`g7cM5A|zp-]F2me^"><field name="frames">assets.animation`run_front_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim5"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="x]DM[gNyy8CyEbTk}UTQ"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="x8j**OV[4MipFMz+9,d="><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="kTJ}H8PD37jTwalIyJ9n"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="[S}X+gnNbh,t6o*_4G%m"><value name="sprite"><block type="variables_get" id="C?X[}RK*u(o#jlg.W1xW"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="-^uK_N@fuG?1jxmlK[1h"><field name="frames">assets.animation`run_back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim8"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="RX)53oY+71csI--J{nDq"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="R`yFhb_e8l6z|a.Li_HX"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="u#aG%./fZrY-^*QPf@1~"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="NW:T{c,xK$Yb#!q3:Tsx"><value name="sprite"><block type="variables_get" id="Kv$`:VG8e_|SBU4jreNP"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="=$y|*;?=4|Ag57Dtr:wl"><field name="frames">assets.animation`run_right_pilot0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim7"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="0yP{ewxUIaDNE*f-dRd2"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="N1MeO6la*.Qa3(W=i-/z"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="|QGNAfB7Hf(6}a,szyYo"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="Hz*R#AuZ6-Y;50FL|#,^"><value name="sprite"><block type="variables_get" id="~#Ax8({Y$ftP(RP^JoA%"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="dcc)ty?%m-:N`@izwE=7"><field name="frames">assets.animation`run_right_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim6"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="})X85Rh;`xMoXi1rv#$Q"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="}LZVdW6z:_)%b0EqRDHf"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="/`qZ#-VgZ3GtxRgh:DbB"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="=]jID~^:h%Tr+81Ofcci"><value name="sprite"><block type="variables_get" id="Y/y.SfRhKFjkl/xKuK3-"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="(K,6o,aMhdwXK|$Nywqs"><field name="frames">assets.animation`still_down`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim1"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Iv54euttA6x^P(Pk$OxR"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="yzuQzg7!*4l}rQBVHKo~"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="IL5|`8j[_jS5td|#~M^*"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="SuA@`hS0OU@VPk$_zJ^3"><value name="sprite"><block type="variables_get" id="DrBplJ4?Bck$^(~uTu_+"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="Rl0]J!SV_Aon(rZ|;;+r"><field name="frames">assets.animation`side_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim2"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="p33{U@uq[@E}Z3.f$/G~"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="Gm[gE9P/+z}l:?D+uK|d"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="OMs/AE@e0,=[Q|]uMcIA"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="lRG?qJ?TEUgMxMwV;gQx"><value name="sprite"><block type="variables_get" id="H(Aqhk.3c,?x!`=+`yUu"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="pGB2XIN|~j;NtPEuOn.J"><field name="frames">assets.animation`side_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim3"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="RN;z5Eb8D8@;5J2`)Oh4"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="6kj}4ltsSuU|}5`O~+t!"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="AR7[fP;CQAe[i#S8mR2Q"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="N9(nt!sL/cP,lCG@|Ts^"><value name="sprite"><block type="variables_get" id="c]|`l|9*6CNfl;+|tKxe"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="EF8w8Li~RYVwjZ^E)qQ{"><field name="frames">assets.animation`back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim4"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="-NjhYW,Pk9wN.X]1S+A8"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="%,M)9-N-L4/GFE,@klWN"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="8N}3!`e5dx[`}pf0xvF^"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value><next><block type="function_call" id="XX(Tdb)IiX`/,Fa+C.N:"><mutation name="spawn_enemis_multiple" functionid="xv0a-vcqkNC@HAmzSSH_"></mutation><comment pinned="false" h="80" w="160">⭐️ LLAMAR A LA NUEVA FUNCIÓN DE SPAWN</comment><next><block type="game_control_sprite" id="BilXq-fBRukHh!Lg~nq;"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="=yOFrxr7W]y3d|TZ}pY_"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><next><block type="camerafollow" id="y=ypg0xLOg5~cih9BfOe"><value name="sprite"><block type="variables_get" id="z}}1XQxk4$3W9GcjdwM9"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><next><block type="set_current_tilemap" id="%F!Gzk=McyWAuS^kbqA-"><value name="tilemap"><shadow type="tiles_tilemap_editor" id="$Yq`]zZzOe]awmUz~$jL"><field name="tilemap">tilemap`first_dungeon`</field><data>{"commentRefs":[],"fieldData":{"tilemap":"lobby1"}}</data></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="gameupdate" id="#!#wkT5OKko.fZF#bErT" x="718" y="0"><comment pinned="false" h="80" w="160">⭐️ Opcional: Implementar aquí la lógica de animación por dirección para los enemigos</comment><statement name="HANDLER"><block type="function_call" id="!ZP,YUGGU7/SFKndId.%"><mutation name="mode_attack" functionid="JbxgKZ.,2_5f7D;FMx.8"></mutation></block></statement></block><block type="keyonevent" id="9%O#K@[?Vy{n=gA4d$b7" x="935" y="0"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="nI%J#0iitp8xV?3A]30e"><value name="sprite"><block type="variables_get" id="Pb$RC.Z/TmOV`;9z3-/_"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="jO[]T(Zwxl+AawM2)UEZ"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="R=5$aA~1p)nDF(qvQ]%J"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="T3`%j=T-=rc*~nOU_!J}" x="1460" y="0"><field name="button">controller.B</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="cDVaMEcCe3t4{ZhU.UUi"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="O9ZV~e/XG$qOOd^#]wZI"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="80_1w/,ND2lI3kL%vK}D"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="wDp4a04q4p!v$~i3eF+V"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="N6nii9^y/a.#,1vohpI,"><value name="sprite"><block type="variables_get" id="(0.+x%|wrv0loAfNw`A4"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="QHZine+J49n}2/NxV4/7"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="@/{EO{UT7gL=VK%bLKFF"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="/l7:F=aIc3dBz0t#BE^r"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="yu8/K/9##Ac^9-n@t-;/"><value name="sprite"><block type="variables_get" id="=9//e|xASupiYx5l{$L~"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="dvVsH:!~izu.+{[bc*(j"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=":|!l(Rno,N1:s7]R2V,^"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="RZqZ1GCF?K1,Zf0?.6I0"><field name="VAR" id="U_qQLX2~][PNZ$JU~zC.">projectile</field><value name="VALUE"><shadow type="math_number" id="0^8+k(w[%EGxrobf:fM."><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="rE]jt|3k0}B[DBb$_18V"><value name="img"><shadow type="screen_image_picker" id="e|{1MH#;V1e7e+WD;04Z"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="L$+eDpvW?9|]5dxyrN/9"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="#B[1_1li,_p|1fZ.Kzqr"><field name="speed">200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id=":K^ri9(hmN,4eEfV1mdV"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="5#!!O;h35Y#|WmgFjdc["><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="mvrK?]6G;fH;s]G7nt6{"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="R%7%2Jr/EQ=-?z+cK0ks"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="va{h*([AnTI#[2}M]Lt="><value name="sprite"><block type="variables_get" id="ByV|Nmczz/UbZUH|U|%0"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="f#.76=Ekg?3mG{9[5%jT"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="n3Rq8wjDbb5/0YLH*RZB"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="6Aqo9KY/Bu.!X=!bd]08"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="W,_KTkfxDqI)n6}v[{~W"><value name="sprite"><block type="variables_get" id="0y8!;:t]Af`8F%v2UWe;"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="07%;I2c9tkw`Pv4|gWw/"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="tl_r~y=/WHU^z(Jtssh4"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></value></block></value><statement name="DO1"><block type="variables_set" id="#7c$n#,WW${5$(/f9HiI"><field name="VAR" id="U_qQLX2~][PNZ$JU~zC.">projectile</field><value name="VALUE"><shadow type="math_number" id="![^0neXE/vBseMliIwu5"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="a^l]=})S2PIY+Q5OCHyu"><value name="img"><shadow type="screen_image_picker" id="QBXarhZwo5?]Cyuoi7+q"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="m?P3lHO6tK$)xq,Dqvh9"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="JmYIpC|z*b^57iUl;;;q"><field name="speed">-200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="7mG!#a]TZV@-B{I}4ugL"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="8PP_(Vhf}7W+%|QI-Y,8"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="M#SuaV#nkv+J|1l1D:LK"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="]2kcS3|?2~AQ],F;zB{S"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="hY9TT!)N6mB-e~.i0(PI"><value name="sprite"><block type="variables_get" id="k+@_1_rxW66Uo.Yi_KwX"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="N9t~FwG.$|u1#e7V%l5W"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=",sk^f[t;~Z7?Euq,}L]m"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="Iw2NDtI*0}O*oH:yR(Ew"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="i37@7omK*FYMH:/1~Is/"><value name="sprite"><block type="variables_get" id="C@yzx*Z.hJt(^cWs|quS"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="ya_0x:p4@g*+[?{6TY+T"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="2$wtk9gf=$DN.0soIv%+"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></value></block></value><statement name="DO2"><block type="variables_set" id="emq0p~c+NN|Kb!b^:Z+*"><field name="VAR" id="U_qQLX2~][PNZ$JU~zC.">projectile</field><value name="VALUE"><shadow type="math_number" id="bfngI,j#HpJVua#jU6hs"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="jL0:V}Rmu(T4=Yo/Y[s{"><value name="img"><shadow type="screen_image_picker" id="%AFZGja6?u[Haf3:IO_O"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="!+dhM=rz].5bqqND|gE8"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="i3}/lHL0|w4U.|f#pG3/"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="7wl5Azq=T^RvWE~6y%AK"><field name="speed">200</field></shadow></value></block></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="eiN_Jo~1OpoN.(3SeC;E"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="wsQv~*C`cL/]c}J!i@)["><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="w8PW!l%R$^GCB_3j.nNQ"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="pxug%:;n;tAx3_1:qO!|"><value name="sprite"><block type="variables_get" id="#Sek^)gdDzcL|YZdYix]"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="Cu3U-:;Zm{LJ_+@KXV;W"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="eM52wA2t0to{aWV3]Y:w"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="U]14B/wBzhbZkR8TvZQa"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="FlU2n)cG9qo:2a_[|-wT"><value name="sprite"><block type="variables_get" id="pT5bo-0qs;R6PNr3|g?e"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="CkuX.0KvQ!aIJLrhZ8-*"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Ydu{lmZy}S%9cCt8,7~L"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></value></block></value><statement name="DO3"><block type="variables_set" id="6M.8gkm8HWgdijEx9qMs"><field name="VAR" id="U_qQLX2~][PNZ$JU~zC.">projectile</field><value name="VALUE"><shadow type="math_number" id="=$Y]q1D=ti=J=*DKL+e%"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="RqDP]DTZY%]6I5=)C^Il"><value name="img"><shadow type="screen_image_picker" id="!H9(W.N}xDr.x$D5yd+]"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id=":,g@:.z!cF!?5OP(_6px"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="RSAwKQZ#]``4]zPZKj@#"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="{]N:Eyv$+PMhL9e=11AB"><field name="speed">-200</field></shadow></value></block></value></block></statement></block></statement></block><block type="keyonevent" id="x,p{@LnV[Bvj7!MDWxLx" x="2536" y="0"><field name="button">controller.A</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_enabled" id="~A|2:MD`Y3}h{/u7fqe6"><value name="sprite"><block type="variables_get" id="J~_8C}1^5J:,OX|0Syd%"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="l?s)W)JTAo3s{0]tvM?s"><field name="BOOL">FALSE</field></shadow></value><next><block type="controls_if" id="5=$(+!FvLb8pVVz!1fZA"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="KKp+/~eX}Q{.2zs6+9Oe"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="we?FRy-5x*f|,^9x@MtW"><value name="sprite"><block type="variables_get" id="Pde*7!Mn$!$RTmIImxOf"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="WZ5SMcn3Kn,q!H{l3zti"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Nvvo7cC;xeun:C)_gXxG"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><statement name="DO0"><block type="run_image_animation" id="I*#[3TE_A$0cPi)l:PDi"><value name="sprite"><block type="variables_get" id="27A_9;}A:(0pP{j0Nz8Y"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="W5%(gX?ZT$UaKG%zET10"><field name="frames">assets.animation`dodge_roll_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim10"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="S4Z-F1%n0%OdfC[Bkyw6"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="Zw2~(*Go[=k3qrNKyx_|"><field name="on">false</field></shadow></value><next><block type="device_pause" id="Fk0Xr,pG?Sbxo^Y^6S%P"><value name="pause"><shadow type="timePicker" id="K:;(,Eh1~U|5pH,/$s~l"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="h[;tOY-)jIme^vJ#a#d-"><field name="VAR" id="zqk@C^Q{ts0w|y70S*w%">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="Xb3$(+O@ovtbrejc.I7$"><field name="NUM">0</field></shadow><block type="logic_boolean" id="eyHUR*glFn0,+oYREWug"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="g?y~hV!EKS)2^GqZSw{$"><value name="sprite"><block type="variables_get" id="!]CUxv-*%#cp2rD4:QV;"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="@.2{$Io5FY`5QNFi1x6R"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="jZfw~m(h1@0RdCSw2%Wz"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="aW0?I4gxZ#c#mDH+kvF5"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="r|L~GNF}7?GwPDO[GIhR"><value name="sprite"><block type="variables_get" id="IL*$|R}Lg:/WMmmSy[Ta"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=",e[p.2A$sTW}Z}yHW~@u"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=",L-dMyx:ZN^uO{Iu]cMp"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><statement name="DO1"><block type="run_image_animation" id="V`p@=!UBl[WVTAF}OUQw"><value name="sprite"><block type="variables_get" id="hoTNsk~f98um)PfFb/g4"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="l+WqTefwjoy}~(x!Yh]g"><field name="frames">assets.animation`dodge_roll_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim12"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="3BZ2S99NL#Hci8yBT{2Y"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="++Png7cQ++KKH|3:RFw_"><field name="on">false</field></shadow></value><next><block type="device_pause" id="Yp]93d={i9|zGieSSHZ?"><value name="pause"><shadow type="timePicker" id="BfUt0r:M3x]8xVrJVp?,"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="8u|C/iHb(GiOy=-s|!2l"><field name="VAR" id="zqk@C^Q{ts0w|y70S*w%">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="g/``oL?|30`fkeJ#Psp)"><field name="NUM">0</field></shadow><block type="logic_boolean" id="@Hz]]N2tT;I~lGhfY,b)"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="(4q8f7T?|i1t.KBaZth9"><value name="sprite"><block type="variables_get" id="i*FXMM[6CVYHM-+:(a3~"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="Wd9.~)KxnS%)7Ql1-W{C"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="^^F5+Xn$8uHhv?iuv(Ri"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="C96_dD8zrlBDKSV$zEu,"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="OwcLKXlkxirc*^!?Vt]4"><value name="sprite"><block type="variables_get" id="{Wj|$RSrKn{S});!GKUz"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="jV)n*N8rf6?9X-!0hpO["><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="yA63skD?RDRq~^L`nC%8"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><statement name="DO2"><block type="run_image_animation" id="r9`j_K%GQQYV)m**rq3Y"><value name="sprite"><block type="variables_get" id="_dJl-Yb}LB;wI)mxaq^m"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="joT)|js/4g/U~k4MWTVO"><field name="frames">assets.animation`dodge_roll_front`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim9"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id=":*TR1?Li(-z=DHt^@tc1"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="PDBa9RE$0DFd[-e71K?w"><field name="on">false</field></shadow></value><next><block type="device_pause" id="WcC^p@e=0NnCJdlUJ]@w"><value name="pause"><shadow type="timePicker" id="EU#QFsj?;YplxV1k!Sm6"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="?P_:ptOkH2$Z#vM[ug]s"><field name="VAR" id="zqk@C^Q{ts0w|y70S*w%">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="l}p~jAFw+,cBZ10}=eSs"><field name="NUM">0</field></shadow><block type="logic_boolean" id="Zefc`[3NuCnwA(aU.D#6"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="AtYIXrZ?.)0**CqHHO)."><value name="sprite"><block type="variables_get" id="sR6]G,5,87XIwOekz2tD"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="J9.w0*9N/DT?wt~tJ1=:"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="U+/YfzsI(,);qTjz49tp"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF3"><shadow type="logic_boolean" id="v7?ozMDNyr9rRA@K7S=k"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="Am89@+2NbzeR`_Fh0#Q@"><value name="sprite"><block type="variables_get" id="=kv27%|P(=aleu|1+Z/a"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="#+_4[Ry}q!8}I)[$Ef?{"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="UHE/m/O,`Kl~xafhH~uH"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><statement name="DO3"><block type="run_image_animation" id=",H-Yh6geC[52U(8oBZ!,"><value name="sprite"><block type="variables_get" id=")R$_KI[]|0PWR/G$^s:i"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="][fTCIR#G8Syw9qs1P5d"><field name="frames">assets.animation`dodge_roll_back`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim11"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="9=2zd3=iBaifymDPM1!6"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id=":AHb`Xqf~]UkFDwQ-#/b"><field name="on">false</field></shadow></value><next><block type="device_pause" id="}CeX$jnF_eK]*sYh9_pQ"><value name="pause"><shadow type="timePicker" id="wRy5,6t5`..NZ04[|l*9"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="E`z9SjOKaqusL?[X18Nf"><field name="VAR" id="zqk@C^Q{ts0w|y70S*w%">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="U=m`=E7i;m_.r@xt-F}e"><field name="NUM">0</field></shadow><block type="logic_boolean" id="!*/kW`ig8Kb:I)`x.k`R"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="M(zJ_:.+*/3(t(zOgy~D"><value name="sprite"><block type="variables_get" id="VC8-U~Leb)0]LE=T@Cvh"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="]/so[cwAI9*)97xuQxS="><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="U?1J1N)KPRlMDtMI|nve"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="~ZzYfE4Va%FZ`Ub+^hUB"><value name="IF0"><shadow type="logic_boolean" id="REPhfZ_w;#8~Rv0aRDBB"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="P25zDH`[1D._;EVdwC~3"><value name="BOOL"><shadow type="logic_boolean" id="v1iG62JgwQ)5Zh]..@}v"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="UC/2d(X(BBnqg8rn}:G?"><field name="VAR" id="zqk@C^Q{ts0w|y70S*w%">dodge_roll</field></block></value></block></value><statement name="DO0"><block type="arcade_character_animation_enabled" id="NUx-/=OirsVcHul`dh1Q"><value name="sprite"><block type="variables_get" id="I0n2}MF](+#8dqB$_1Kz"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="Yk/fPn~PLdmrEVqhkO{("><field name="BOOL">TRUE</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="keyonevent" id="znWSdH2#2?P|cuf,X|R_" x="3143" y="0"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Released</field><comment pinned="false" h="80" w="160">Funciones de released (Optimizadas en la respuesta anterior)</comment><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="3T[{w#P,Rn9zZ~qMNypL"><value name="sprite"><block type="variables_get" id="6}zMi6.E]xSEk*y)F+7x"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="5/u[khf_T;0H^2GSbCc~"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="u[Z]iA%df$fZwt1j]F6S"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="17@|pKy(negbYW_3SNRg" x="3685" y="0"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="HTho412##n}%FxO|[aNf"><value name="sprite"><block type="variables_get" id="pQJ6,M5l{!D%{HPSku}p"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="dQJY_[:fW$k!7(wr+[K["><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Ru=.|$gHp=q_JH^/Q+RY"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="7g99jdt7hD)Gg/3.I/Ac" x="4226" y="0"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="M}[~8_[wb~Q`W?poK.LX"><value name="sprite"><block type="variables_get" id="akf882xLDTk7LYt4$yZN"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="oQuu~l[u,s9O5nh!hPA`"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="wT)Z*RP){exNPIHIQuJj"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id=",fm4W29%?7NQo#MtS1QM" x="4777" y="0"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="J+/|@2|+zL?g/rBv*1)4"><value name="sprite"><block type="variables_get" id="Mkmu)`_E-|bH)LTIYJ@D"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=")]k:IvW44.GL+ux,{7j{"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="5*B7~-Rl0+~%G-MNqgz{"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="wF8U9bB)Sy=dSKVIl|ey" x="0" y="3695"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id=":ynb,XHQ2Ss-mQ:n=6A."><value name="sprite"><block type="variables_get" id="!pmD@~u;J/[]6f$G3i#%"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="gK^O}~VO=yMG4|,!O?dj"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="[fvGMjC8;!E93_sjN_a?"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="aVkA_4nCS*@-t}][or!t" x="551" y="3695"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="U.!Nc.q{RzKe,{??L`8N"><value name="sprite"><block type="variables_get" id="mY4uP#1`jdOev36^b4Jv"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="6W}5hX0{6!;-SW.)Qt(5"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="}sV0[[bW7B3eF2#jOeES"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="|u=Tpj%6h7KIch`{::H/" x="1075" y="3695"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="4QDwkmW/{(:(Vlt-GEib"><value name="sprite"><block type="variables_get" id="q!xgzrhq^QwpD]ojc)cn"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="XozP:Ep^`]vo^x#rW8]9"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="*]-|=$pb5Hf$_|?aS-!$"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></statement></block><block type="spritesoverlap" id="eb`m`oV]h+ym9h)fW?U/" x="1616" y="3695"><comment pinned="false" h="80" w="160">Nota: Asegúrate de que los sprites 'npc_controles' y 'npc_historia' estén definidos.</comment><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="y]c=,E?p]qb!9bZ3kU,u"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite_player</field></block></value><value name="kind"><shadow type="spritekind" id="Lg/3qLXA;.kqbzv*sY7w"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="-]mbKhUr039/QMq1svJZ"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="YIOA*k-RV(s|`C[JA/2M"><field name="MEMBER">npc</field></shadow></value><statement name="HANDLER"><block type="typescript_statement" id="4Ed:htfXJ[-,Zc`K4L0S"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let SpriteKind2: number;" numlines="1" declaredvars="SpriteKind2"></mutation><next><block type="variables_set" id="vHm2fZ}Uj`53Kb0B+=BH"><field name="VAR" id="kx%=L~6lPcdH1tw~qI9P">distancia_repulsion</field><comment pinned="false" h="80" w="160">Definimos la distancia de repulsión (ajustable)</comment><value name="VALUE"><shadow type="math_number" id="+J9XgZ?+L2Q?7/yyr+VC"><field name="NUM">10</field></shadow></value><next><block type="variables_set" id="a_VPKo`JY0as62k!Zr!{"><field name="VAR" id="ixf7{_-OlP^k9(1ZLhV(">delta_x</field><comment pinned="false" h="80" w="160">Un pequeño empujón es suficiente para romper el solapamiento.
Verificamos si la colisión es con cualquiera de los NPCs</comment><value name="VALUE"><shadow type="math_number" id="l`P]M:G#up(:eDc(TcWz"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="r9_%OuHg?YG(,w/hJV}r"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="*2-.cC]o5-__@j0J^X77"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="bzBiEzop,^b*nUw7BAWC"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="|B;[Tx@W0!@y0;~j[2f8"><field name="VAR" id="Jdu}VVItL}WuGg;JRb.U">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id=":;%^Y]8F678g,b`Kl6Pr"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="Pc{con0MK]Cuu1|:f[;2"><field name="property">Sprite.x</field><value name="mySprite"><block type="argument_reporter_custom" id="sdm(Ke,$4V{][YQTH}T#"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="variables_set" id="zH)3vLjkLH(JBSTS*X%D"><field name="VAR" id=":3aY?D1eAAeg(R2SGZUP">delta_y</field><value name="VALUE"><shadow type="math_number" id="eAk}T-V{nmyZ[gIYI!+U"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="]_pAcajtd+s5((];0I2*"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Jd7|u7bA5*5Bx!B_L?AA"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="R,Ve::LD:APOT!^)2EM-"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="RbqI(X]Tq{F![dHfI1?{"><field name="VAR" id="Jdu}VVItL}WuGg;JRb.U">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id=",)kV-gg3~h5*jf7F73Nq"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="Mwm_fPbv](#9?Hm?#pv!"><field name="property">Sprite.y</field><value name="mySprite"><block type="argument_reporter_custom" id="I5v95_aHP.28Gj*bD_@G"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="controls_if" id="js2Q7/EO?@x^Dj$z?XA)"><value name="IF0"><shadow type="logic_boolean" id="6q5J~uN|J@W20lBuUiSs"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id=")1]UcTu^g!KfHba}[(6L"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="pSHsf|AX9QlsTU~oK48?"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="`;f?-Ad7*myo]6jRO)do"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="b!Z]VG7G*Pj$U!Jh/onw"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="OPrHoEPl!@,AJa{%Fro`"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="ddlPLN#pWD@gn9W${Ggr"><field name="NUM">0</field></shadow><block type="variables_get" id="2R7n[2EhmTI,Y$J-}Oz2"><field name="VAR" id="d(1MnSpQ;FD5|h*;P{R|">npc_controles</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="N!Od9/;3*J$X5+.+ig{F"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="D:R^p-+23ocr^Sc:|dl["><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="@UB2CEsC2)4;2%uZRUnB"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="]]AE3@c(0uU+qdY]S[Mb"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="{czXA!3Pmc5Z5Y?cwDpE"><field name="NUM">0</field></shadow><block type="variables_get" id="fHw~S57d@l4ZS0f1b.P:"><field name="VAR" id="ivXQDl-#IMwtx79^d4uW">npc_historia</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="4h`H)_5VcqiRO]bB-5vg"><field name="VAR" id="ixf7{_-OlP^k9(1ZLhV(">delta_x</field><comment pinned="false" h="80" w="160">⭐️ Lógica de Repulsión ⭐️
Calcular la diferencia entre las posiciones</comment><value name="VALUE"><shadow type="math_number" id="-sN*pPg[E)--ZSiE-k2+"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="rN-|bJwxv[38Um#)KDuW"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="txkXBT~3GHEd4;HF8lPX"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="v2-zD$HvJyoL}/U2uiKB"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="NS#=Tpx[GHe3!lL?Fz9U"><field name="VAR" id="Jdu}VVItL}WuGg;JRb.U">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="kR8;t3M{w7^|~!~SHPvG"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="p+)_lrtL$PPE2c*zd1}S"><field name="property">Sprite.x</field><value name="mySprite"><block type="argument_reporter_custom" id="7-`-s[x2Dl]X$gmP(_#g"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="variables_set" id="V^3PD:HvP(0al_m(:hUE"><field name="VAR" id="VF2~e10JCmFYev?{c-@=">SpriteKind2</field><value name="VALUE"><shadow type="math_number" id="0Q`P[.HFtOQs?8]J4aJQ"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="7=b}w{_Wx.tGepX/JtIW"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="w[#Uv#~}zO=71vPYBK$p"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="gJISonoV5rP4ljkn#D%r"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="xMKiBr0@6#7@cHpaxESj"><field name="VAR" id="Jdu}VVItL}WuGg;JRb.U">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="jn3Jw=j/^nAVSjZGbG4f"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="eXmStEERgy,O@fH)DC9["><field name="property">Sprite.y</field><value name="mySprite"><block type="argument_reporter_custom" id="j1jc7wMEU=T5c|qQ+sD,"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="controls_if" id="meU.}irx#j@8LIxX4G3g"><mutation elseif="1" else="1"></mutation><comment pinned="false" h="80" w="160">Repulsión Horizontal (Si la diferencia es significativa)</comment><value name="IF0"><shadow type="logic_boolean" id="Fhv1,1},If0$.zcVNtn4"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Q?XB}~ZBK^.3t|h1le,:"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="@j*/]RVwT*L:~]DqSCf^"><field name="NUM">0</field></shadow><block type="math_op3" id="o1pTPCm:Jn,[9SU$ui4:"><value name="x"><block type="variables_get" id="uB5B=#/1r{d9IfFWdZxI"><field name="VAR" id="ixf7{_-OlP^k9(1ZLhV(">delta_x</field></block></value></block></value><value name="B"><shadow type="math_number" id="_]9l(JA)^uzl[GjD`i.D"><field name="NUM">0</field></shadow><block type="math_op3" id="NQ=?x),tR_3qOXzO-N/r"><value name="x"><block type="variables_get" id="4gIqjwwvK5s+@@253]?="><field name="VAR" id=":3aY?D1eAAeg(R2SGZUP">delta_y</field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="KBm}O8O$mz}?OS}39Bl{"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="?$|i]LHu3+51}D.nk|x@"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="zjG9+`me0.Kuka?5i%eN"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="RO$%]058TCb.#%gz1{Kv"><field name="NUM">0</field></shadow><block type="variables_get" id="#elY(FsW#ae{zVj=2{SB"><field name="VAR" id="ixf7{_-OlP^k9(1ZLhV(">delta_x</field></block></value><value name="B"><shadow type="math_number" id="{Ri2_#my#st*,qd$ig(a"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="Sprite_blockCombine_change" id="1Sey{E)F!u5)8QbPX;FO"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Jugador a la derecha del NPC, lo empuja más a la derecha</comment><value name="mySprite"><block type="variables_get" id="n;!d=s%DvAY#zAzp}B%;"><field name="VAR" id="Jdu}VVItL}WuGg;JRb.U">sprite_player</field></block></value><value name="value"><block type="variables_get" id="Z:?(D_;.#0ORRw5D(A@6"><field name="VAR" id="kx%=L~6lPcdH1tw~qI9P">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="j|fb`t%k!.cXBK1DJ.|P"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.x -= distancia_repulsion" numlines="1"></mutation></block></statement></block></statement><value name="IF1"><shadow type="logic_boolean" id="AH6]p^KpBq_^79=6]_c$"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="2+`7addS+m;P}h!;M;+D"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="XmQ^z5%7]JU`2z0Cf_Az"><field name="NUM">0</field></shadow><block type="variables_get" id="{ffyV3Lo97:mLf~B|)|e"><field name="VAR" id=":3aY?D1eAAeg(R2SGZUP">delta_y</field></block></value><value name="B"><shadow type="math_number" id="BZC6e-:^^#Vl.2^2|:{s"><field name="NUM">0</field></shadow></value></block></value><statement name="DO1"><block type="Sprite_blockCombine_change" id="_JtVpdHOx~l%w5K^MO~d"><field name="property">Sprite.y@set</field><comment pinned="false" h="80" w="160">Jugador debajo del NPC, lo empuja hacia abajo</comment><value name="mySprite"><block type="variables_get" id="d5D*ymUE0tH#HN1f^_]5"><field name="VAR" id="Jdu}VVItL}WuGg;JRb.U">sprite_player</field></block></value><value name="value"><block type="variables_get" id="=ZX}7J2s:{!t5AV@`%8."><field name="VAR" id="kx%=L~6lPcdH1tw~qI9P">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="PG`7AiKnPit4#n0$9ubH"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.y -= distancia_repulsion" numlines="1"></mutation></block></statement></block></next></block></next></block></statement><next><block type="controls_if" id="T/dy4A1zoJ!n8#(-G?cW"><mutation elseif="1"></mutation><comment pinned="false" h="80" w="160">---------------------------</comment><value name="IF0"><shadow type="logic_boolean" id="O+:em74k7Q3,MFT*MkM."><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="]vtB:F/w6Oibx@[RVI~%"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="5600ydA6+J)~N)dJRhIg"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="ltdBaKx%kvQmtdruXM0q"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="`:~E8wg(NwgR#Ix+|ARj"><field name="NUM">0</field></shadow><block type="variables_get" id="$T947T-Vucs4at]?.[:I"><field name="VAR" id="d(1MnSpQ;FD5|h*;P{R|">npc_controles</field></block></value></block></value><statement name="DO0"><block type="game_show_long_text" id="0OYvSj}#TH`M[%/S3p_W"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="Xj=,}!;_rnKTRZpXIgl}"><field name="TEXT"></field></shadow><block type="text_join" id="C}xl;lcjKC6S!)nv+`qH" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text" id="H]}inB7f.aBe!QpM;ibZ"><field name="TEXT"></field></shadow><block type="typescript_expression" id="tfC?;M7*kj1:GBdP|O_`"><field name="EXPRESSION">`
                ¡Alto ahí, recluta!
                `</field></block></value><value name="ADD1"><shadow type="text" id="w}OJ~wY[$q3zIXA8GwXz"><field name="TEXT"></field></shadow><block type="typescript_expression" id=":B7,|]T0ao|J(F=)b%47"><field name="EXPRESSION">`
                Este lugar mastica novatos como tú.
                `</field></block></value><value name="ADD2"><shadow type="text" id="?IlVI@xR#st%63T.JO)F"><field name="TEXT"></field></shadow><block type="typescript_expression" id=":6XkH~!%9A)sLmWY[V+_"><field name="EXPRESSION">`
                Si quieres vivir, aprende esto:
                `</field></block></value><value name="ADD3"><shadow type="text" id="BNU;+-v7eFJiv71G+dg`"><field name="TEXT"></field></shadow><block type="typescript_expression" id=",R5on{#NW/?)v0*nVu:N"><field name="EXPRESSION">`
                (A): ¡DODGE ROLL! Ruedas y eres intocable por un segundo.
                `</field></block></value><value name="ADD4"><shadow type="text" id="p$cJL5;?7y%8yUFrD%Gv"><field name="TEXT">(B): ¡FUEGO! Dispara antes de que te disparen a ti.</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="UT|2H.98p_Js9$zv.gJP"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="V[1gjSvrhO4=16dPNLCV"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="-o9[{NrM=!$Robx~m(~|"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="G(QnOzBKL]:::H[T[]Rc"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="we5t-[BOpmRjsHm0LBv4"><field name="NUM">0</field></shadow><block type="variables_get" id="oOTy-jhV769m+@mmT+ej"><field name="VAR" id="ivXQDl-#IMwtx79^d4uW">npc_historia</field></block></value></block></value><statement name="DO1"><block type="game_show_long_text" id="3[JwOcpJP=a38RSD9_s7"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">--- 2. LA BALITA ---
Parte 1: El aviso</comment><value name="str"><shadow type="text" id="X49ojRzS2W!WjaI]g0[g"><field name="TEXT"></field></shadow><block type="text_join" id="_i{HW-$.RHV%OEB!z+Di"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="Bu|!j)+;8^$bO+H|MWPV"><field name="TEXT"></field></shadow><block type="typescript_expression" id="zCJ-nT?XyBg#WB.lz_b,"><field name="EXPRESSION">`
                Hola... no pareces de por aquí.
                `</field></block></value><value name="ADD1"><shadow type="text" id="V-.gXRlMfn^R{xn4UxNE"><field name="TEXT"></field></shadow><block type="typescript_expression" id="|%eeCfQT5?4i|(j~8@}$"><field name="EXPRESSION">`
                Bienvenido a la 'Cripta del Calibre Perdido'.
                `</field></block></value><value name="ADD2"><shadow type="text" id="eVa/E``HyedKcRlr]y-P"><field name="TEXT">Antes esto era una fragua sagrada, pero 'El Detonador' lo corrompió todo...</field></shadow></value></block></value><next><block type="game_show_long_text" id="`jTEDhTGZ63EZ!^AT`mz"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 2: La leyenda</comment><value name="str"><shadow type="text" id="f:#|jQ#PcCA@M`0abt2~"><field name="TEXT"></field></shadow><block type="text_join" id="#$aap25.Na`B}djEJ[%}"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="/#JzzmHBYTRZG/HQd4S|"><field name="TEXT"></field></shadow><block type="typescript_expression" id="w|_Y`o*Mq))K*nRzBLg%"><field name="EXPRESSION">`
                Ahora, mis hermanos balas se han vuelto locos por la Pólvora Negra.
                `</field></block></value><value name="ADD1"><shadow type="text" id="5DXlE[s:fqCVbuB~Sz/o"><field name="TEXT">Pero dicen que en el fondo existe el el 'Núcleo de Plomo'...</field></shadow></value></block></value><next><block type="game_show_long_text" id="xOxL_ZMj!k4WpoWKi1=$"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 3: El reto</comment><value name="str"><shadow type="text" id="FK$tw1;Z;K0$X-6h1#V-"><field name="TEXT"></field></shadow><block type="text_join" id="GL9aDBb%5ea4qEj~=EMG"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="ADa1hXr4=7!6W0xR(MqU"><field name="TEXT"></field></shadow><block type="typescript_expression" id="~1/RDSa-L}44EvjG,-.y"><field name="EXPRESSION">`
                Si logras llegar y vencer a los Guardianes, el Núcleo te concederá un deseo:
                `</field></block></value><value name="ADD1"><shadow type="text" id="O0{14Y_%VhIAk,bK$bI6"><field name="TEXT"></field></shadow><block type="typescript_expression" id="P}N8{k1M|~U1m/3kw[HZ"><field name="EXPRESSION">"¡Cambiar tu pasado!\n"</field></block></value><value name="ADD2"><shadow type="text" id="aZz=o/@:W{s%=^Pe_heM"><field name="TEXT">¿Tienes el valor (y la munición) para intentarlo? Suerte... la necesitarás. </field></shadow></value></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id="o[$rSg[Ts3QQOzuA?Yzq" x="3485" y="3695"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="ZE:^.zh2dI^MCvBLr{N*"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite2</field></block></value><value name="kind"><shadow type="spritekind" id="4_FhX8e6LQ$~,uR:`koQ"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="o,AwVA~/C4x6B2X%aF-`"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite3</field></block></value><value name="otherKind"><shadow type="spritekind" id="b*$wQv3^od%X5t3Ta7t0"><field name="MEMBER">tp_sala_lobby</field></shadow></value><statement name="HANDLER"><block type="spritesetpos" id="kz7LTp0?5y7Yi!jXYhLh"><value name="sprite"><block type="variables_get" id="]uWk)-F;/P!bGX@Bi*$b"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="jqOws=4w}bg`1}=eh0;_"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="h{a?cu-!nP=!zG01#reX"><field name="index">2782</field></shadow></value></block></statement></block><block type="spritesoverlap" id="RWGaJEXPB8d(F}k^`u@G" x="4314" y="3695"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="Z_;e.7^ycpoVaoMyS82!"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite</field></block></value><value name="kind"><shadow type="spritekind" id="i`VqzGUnm,Y0Rlo#YZ5w"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="Bej})*w^qZ$!=H!n?|3T"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite2</field></block></value><value name="otherKind"><shadow type="spritekind" id=")A{kZ~]B*q4D,s*ya/I;"><field name="MEMBER">tp_sala_jefe</field></shadow></value><statement name="HANDLER"><block type="spritesetpos" id="LkU`Tjxx.crvS!}/{E6U"><value name="sprite"><block type="variables_get" id="{jfF[iiP5J}$[BYS@Q{/"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="LETLU62-z|y:`c$5G[in"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="oT{tMxL6gN,ADWu/M.f-"><field name="index">2782</field></shadow></value></block></statement></block><block type="function_definition" id="b3i3w0JzElOvXk@BtdiX" x="5134" y="3695"><mutation name="cordenadas_sala1" functionid="bO;{k59k?NLKz6qWm1A$"></mutation><field name="function_name">cordenadas_sala1</field><statement name="STACK"><block type="variables_set" id="w=T.o6ySos*y8oTi[+2V"><field name="VAR" id="[`uC#eU7c@GX~z:o@J%J">posiciones_sala1</field><value name="VALUE"><shadow type="math_number" id="`zGqo)Y|Nv+=FSz6`OcN"><field name="NUM">0</field></shadow><block type="lists_create_with" id="5-eId0l,(]jP3_H==@l1" inline="false"><mutation items="7" horizontalafter="3"></mutation><value name="ADD0"><block type="lists_create_with" id="z}`TQ,Pev@L6i?TnMA4$"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="V^3[itLPx?2E#*_H)=!b"><value name="min"><shadow type="math_number" id="jq|p_sLl!#:?P!WX3u3d"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="@hSX5Pz!(5cBIY7blMio"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="*|ZhYP(]_P}J{W)K-c`^"><value name="min"><shadow type="math_number" id=".)}m:ZYM2##sGr94S%cS"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="/1u]cU3C:l4cB:SexJ8["><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD1"><block type="lists_create_with" id="!I(ChWiARuS)JJxj#25F"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="d]~fSs73m??l..m;x%nf"><value name="min"><shadow type="math_number" id="PhkDC4{Gr^?XCxs)l%P="><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id=";7)QrN72I{[=J*!M*QkA"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="NQoj_D:u/EMrQ}{B%bH7"><value name="min"><shadow type="math_number" id="/y8H4qm}6DLD4^2Kxa/y"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="O6(c+r]PdLTL83ALI3CD"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD2"><block type="lists_create_with" id="fX;?(Wa05%cgvc`fqF$r"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="RZ}Q:=,s(?R}5Bgkq]S~"><value name="min"><shadow type="math_number" id="1pwI6gh8.3UUwJSR9xGz"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="Dn][1d_DlD;so@cd~tV{"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="dg,IQ/l9Lrhm)[]mv=z9"><value name="min"><shadow type="math_number" id="/;7z30^YuO1wpzT%7t?0"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="W:.*)oNNm46Da8`|;lU]"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD3"><block type="lists_create_with" id="7$/(0.O2Y;;.yCgvtZ_i"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="w534qif$.`vDD]I#S{M("><value name="min"><shadow type="math_number" id="XQ%]V3Pn5,xxRMxwF%dH"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id=";t,8b]OY((:)G]m3hH#h"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="Af|YM,c?obU#.$Uii6#y"><value name="min"><shadow type="math_number" id="D[2${vW$bvbsOwd@}|HC"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="25NXXK9$G*Z3+2*Vx{vc"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD4"><block type="lists_create_with" id="(3GQusuKr?mvs`,.MQqg"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="aiq]uXi8vP61F~3A`V2,"><value name="min"><shadow type="math_number" id="ouBR`5+GMmv5q6]HN2W^"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="q/xD7Ct5W3oUoHr,@,43"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="00DFa??d3?$5e%A|4-d]"><value name="min"><shadow type="math_number" id="Ue`[VeqnzwXX6$$)eM4C"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="4:Yd$tlyY+3y#sOj!:;M"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD5"><block type="lists_create_with" id=")Md:+PIi^1$zdm[.I4=D"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="qn1]f;@{)t,?QIZ.0da3"><value name="min"><shadow type="math_number" id="$bTq[b:OH}-Zk.Hs~=)G"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="#RipF]Ip#K@Km|K/2^iR"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="+AIeGyp:=xi#ks}](/Vw"><value name="min"><shadow type="math_number" id="GSp;k:F:+;GM[9^)4tNu"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="-0[0%#3`lRY^|bJd+)qx"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD6"><block type="lists_create_with" id="[MHT+R/{}U~Yb`|sw3=o"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="LLJ;;6jJ)xYnY|$*hz]c"><value name="min"><shadow type="math_number" id="!3S2QJ5XGO$W]@R`g~L7"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="cB,*ZwIOI]2/MVlS$Q6n"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="p8u,^40b_XpY}bJPMY`;"><value name="min"><shadow type="math_number" id="DQrXRzvX1JM(S4z@2Bw0"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="wK{Pa#i$D.N|]VT2`|Lp"><field name="NUM">2887</field></shadow></value></block></value></block></value></block></value></block></statement></block><block type="function_definition" id="#FYuyIfVd6.d(4zq:|lr" x="0" y="5436"><mutation name="mode_attack" functionid="JbxgKZ.,2_5f7D;FMx.8"></mutation><field name="function_name">mode_attack</field><comment pinned="false" h="80" w="160">--- Inicialización del Juego ---</comment><statement name="STACK"><block type="pxt_controls_for_of" id="(h:b=7fm(DN}XIJt;^Yy"><comment pinned="false" h="80" w="160">⭐️ OPTIMIZACIÓN: Itera sobre TODOS los enemigos para que todos sigan al jugador</comment><value name="VAR"><block type="variables_get_reporter" id="Q3tSNL-MbqHM}kZL_YQU"><mutation duplicateondrag="true"></mutation><field name="VAR" id="@B{IZiO$-xJLD[oSNL4^">un_enemigo</field></block></value><value name="LIST"><block type="allOfKind" id="?_!-a~]CB^kR)Fj.5bd_"><value name="kind"><shadow type="spritekind" id="T@!9qcfn.=~I%9(#?*Bc"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="0niO];2!f+cT2zPiQ]c#"><field name="EXPRESSION">SpriteKind2.bullet_poryectile</field></block></value></block></value><statement name="DO"><block type="spriteFollowOtherSprite" id="6EUF8;?p,jes##EH(J)G"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="c#cT%F0tK:dS|V.?jt4h"><field name="VAR" id="@B{IZiO$-xJLD[oSNL4^">un_enemigo</field></block></value><value name="target"><block type="variables_get" id="M=2B=+LB}MKxV?ep:~m8"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="speed"><shadow type="math_number" id="NnzjGe!2kYMS8Dg~0_?v"><field name="NUM">10</field></shadow></value></block></statement><next><block type="pxt_controls_for_of" id="f_N~SOS?57)43=*GJA]f"><comment pinned="false" h="80" w="160">⭐️ OPTIMIZACIÓN: Itera sobre TODOS los enemigos para que todos sigan al jugador</comment><value name="VAR"><block type="variables_get_reporter" id="L3#^H(+K?:DS`iXfxffq"><mutation duplicateondrag="true"></mutation><field name="VAR" id="m!dmu#{.,_gkOw?:elO#">un_enemigo2</field></block></value><value name="LIST"><block type="allOfKind" id="Ppw^S@Q*^?U``LyS^y#1"><value name="kind"><shadow type="spritekind" id="H-t!1:XRB~W$~07(zR@l"><field name="MEMBER">normal_bullet</field></shadow></value></block></value><statement name="DO"><block type="spriteFollowOtherSprite" id="UjP,#Kak{?G}}yU=[|{0"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="k0JqB|V_n@IGVB![}RnO"><field name="VAR" id="m!dmu#{.,_gkOw?:elO#">un_enemigo2</field></block></value><value name="target"><block type="variables_get" id="(a;.qTx}D7;Ie~2JN%89"><field name="VAR" id="^gWb`9Mm_tW|{FvCQ]uQ">mySprite</field></block></value><value name="speed"><shadow type="math_number" id="]w6s.u$q%UwwvU*DW+NH"><field name="NUM">30</field></shadow></value></block></statement></block></next></block></statement></block><block type="function_definition" id="lx,dd{5ZM4*D5c$TM{tX" x="901" y="5436"><mutation name="spawn_enemis_multiple" functionid="xv0a-vcqkNC@HAmzSSH_"></mutation><field name="function_name">spawn_enemis_multiple</field><comment pinned="false" h="80" w="160">⭐️ NUEVA FUNCIÓN: Genera múltiples enemigos en diferentes posiciones</comment><statement name="STACK"><block type="typescript_statement" id="*jG*39czA@,CzZ{CJ}*a"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nuevo_enemigo: Sprite;" numlines="1" declaredvars="nuevo_enemigo"></mutation><next><block type="typescript_statement" id="Qj]0~VO8e)II^zLuvK+("><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x_coord: number;" numlines="1" declaredvars="x_coord"></mutation><next><block type="typescript_statement" id="w$d0iqeZ=C/_]aOQ{/*V"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let y_coord: number;" numlines="1" declaredvars="y_coord"></mutation><next><block type="function_call" id="T~zo!Ua`!8+y.|+rm1!;"><mutation name="cordenadas_sala1" functionid="bO;{k59k?NLKz6qWm1A$"></mutation><next><block type="pxt_controls_for_of" id="u1Xhepe$,o/UevjBo:~$"><value name="VAR"><block type="variables_get_reporter" id="i5)=-VFMj~;Nf0V~{db-"><mutation duplicateondrag="true"></mutation><field name="VAR" id="t?+Y-|$xER5D[3i=OMq]">pos_tile</field></block></value><value name="LIST"><block type="variables_get" id="50q/FTC|^,LO/JM{P0jn"><field name="VAR" id="[`uC#eU7c@GX~z:o@J%J">posiciones_sala1</field></block></value><statement name="DO"><block type="variables_set" id="]N+.|TeS(*.K^$$YBE;!"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field><value name="VALUE"><shadow type="math_number" id="NY}OSzyry0W3k|Ed/U93"><field name="NUM">0</field></shadow><block type="spritescreate" id=",^=#{)YF9vjMLr3sJ@01"><value name="img"><shadow type="screen_image_picker" id="n13;s5;6FcVM)`~.GWGJ"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="/Vko`+s(@0}*(d0(yJg!"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="XjzG-n/qbyoS/.(k-{aG"><field name="EXPRESSION">SpriteKind2.bullet_poryectile</field></block></value></block></value><next><block type="variables_set" id="NJxD0Z[-lx{(H((te;T0"><field name="VAR" id="BV!e^_cN;l5bJWdD:s5p">x_coord</field><value name="VALUE"><shadow type="math_number" id="skc]/#idI@9{MF7NY!#:"><field name="NUM">0</field></shadow><block type="lists_index_get" id="`2yAdB^:t5*SE@#Z8nL]"><value name="LIST"><block type="variables_get" id="gyHIV`y%`t[9~,~`J`gY"><field name="VAR" id="t?+Y-|$xER5D[3i=OMq]">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="/,;0+TsKb]We6dj}VjVz"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="kGm#{/Sb:r@4gj0)UL+n"><field name="VAR" id="Ve_F+v[OY1~*}:=K0PBA">y_coord</field><comment pinned="false" h="80" w="160">El primer elemento es la X</comment><value name="VALUE"><shadow type="math_number" id="-RoL#*;MY]_qS`1J4hAm"><field name="NUM">0</field></shadow><block type="lists_index_get" id="Rt?`{pQXk3~2H1Th[^VM"><value name="LIST"><block type="variables_get" id="xxB[asEuBKu9r{VtuYru"><field name="VAR" id="t?+Y-|$xER5D[3i=OMq]">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="-2;6{T?f6hWnN21;zbl?"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritesetpos" id="rw9KHy6PXW03ZvhWI#Kn"><comment pinned="false" h="80" w="160">El segundo elemento es la Y</comment><value name="sprite"><block type="variables_get" id="a?%b/g?{xB0YQh7bMG=`"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field></block></value><value name="x"><shadow type="positionPicker" id="!AD1Rz)|$/h%c+pdplBD"><field name="index">0</field></shadow><block type="variables_get" id="Mg{s%wN,5i741DBz0b5["><field name="VAR" id="BV!e^_cN;l5bJWdD:s5p">x_coord</field></block></value><value name="y"><shadow type="positionPicker" id="cMY!7BuK__Z*~%$alRSl"><field name="index">0</field></shadow><block type="variables_get" id=":S0%XdoU-JQo%=q_VPp!"><field name="VAR" id="Ve_F+v[OY1~*}:=K0PBA">y_coord</field></block></value><next><block type="arcade_character_loop_frames" id="u/5Gs+{UE@foC}T+AA!P"><comment pinned="false" h="80" w="160">Configuración de animaciones para ESTE enemigo (repetir para cada uno)</comment><value name="sprite"><block type="variables_get" id="=NqSjvLWzVr]l]tY?wdd"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="omR2vmM@==Rfpkdt}^X2"><field name="frames">assets.animation`myAnim`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim16"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="ZD$yhW?l93s2v_f6_wUE"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="s(|d;8l4v0dRnzuRA3.I"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=";-6irH,il90FB!|wWaTT"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="_@IzF)]+YxqrX([~*J7O"><value name="sprite"><block type="variables_get" id="Zr/P5Lx`.j}t!o@:A`/+"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="s{UzTAuav:E:DiBT+t^a"><field name="frames">assets.animation`myAnim0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim17"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="1kj.8OWEST-v.t]P*|f/"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="@LcmYadl-@Yr_Epvm0iw"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="PuNtT|RV)Pvf5S#ld}V~"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="function_call" id="?qGr3s4X`x*wfb|BI$|A"><mutation name="cordenadas_sala1" functionid="bO;{k59k?NLKz6qWm1A$"></mutation><next><block type="pxt_controls_for_of" id="(AP%8UhgPDcQSDfD!C96"><value name="VAR"><block type="variables_get_reporter" id="NIOY`|@{Hp4%k_||JenO"><mutation duplicateondrag="true"></mutation><field name="VAR" id="GA}r~u3(n]2=[7xQP=:K">pos_tile2</field></block></value><value name="LIST"><block type="variables_get" id="DKT)z5/1gS`L=}A7Klz|"><field name="VAR" id="[`uC#eU7c@GX~z:o@J%J">posiciones_sala1</field></block></value><statement name="DO"><block type="variables_set" id="FJ8pIGUePbCNcuqg|]W5"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field><value name="VALUE"><shadow type="math_number" id="XD}=SV4=+|Gx6`fS_vsO"><field name="NUM">0</field></shadow><block type="spritescreate" id="lVyDVY#]09taQ#nke7|["><value name="img"><shadow type="screen_image_picker" id="!BPInZYC6Kp.^X)hu|@x"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="CRJ%@nE=a{2TaTc`mjvs"><field name="MEMBER">normal_bullet</field></shadow></value></block></value><next><block type="variables_set" id="z[zIe8O#}uP,@4a.6qJ;"><field name="VAR" id="BV!e^_cN;l5bJWdD:s5p">x_coord</field><value name="VALUE"><shadow type="math_number" id="xr_LW_FUfmZ*MaIUIB+I"><field name="NUM">0</field></shadow><block type="lists_index_get" id="j?HW8pAX?;Jh)I0]$%^|"><value name="LIST"><block type="variables_get" id="uFwKqJRvxATa6xo0[(wb"><field name="VAR" id="GA}r~u3(n]2=[7xQP=:K">pos_tile2</field></block></value><value name="INDEX"><shadow type="math_number" id="VYm5yn9quHKG`[i{@.78"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="?v^dOU`$ZWNtVX8{OC7_"><field name="VAR" id="Ve_F+v[OY1~*}:=K0PBA">y_coord</field><comment pinned="false" h="80" w="160">El primer elemento es la X</comment><value name="VALUE"><shadow type="math_number" id="j#.7Lo*^0v]/3QVN?Fz3"><field name="NUM">0</field></shadow><block type="lists_index_get" id="^q]ok?5LJ3Sp}*9O6^`t"><value name="LIST"><block type="variables_get" id="e6b%^,`,B)kW{T-#-:Q}"><field name="VAR" id="GA}r~u3(n]2=[7xQP=:K">pos_tile2</field></block></value><value name="INDEX"><shadow type="math_number" id="@k6*u(z+gyFvVIeGfe+v"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritesetpos" id="Miz^=na+2A,ba8m%1+;e"><comment pinned="false" h="80" w="160">El segundo elemento es la Y</comment><value name="sprite"><block type="variables_get" id="iB=vWjB[Wk9YxYF*_d|r"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field></block></value><value name="x"><shadow type="positionPicker" id=",xp*(3eizT9Rz~zi~vMC"><field name="index">0</field></shadow><block type="variables_get" id="Lo5JO+Y[{h1KtPgDY#FV"><field name="VAR" id="BV!e^_cN;l5bJWdD:s5p">x_coord</field></block></value><value name="y"><shadow type="positionPicker" id="H6o]b0?R%Y8=Z8KDr$X]"><field name="index">0</field></shadow><block type="variables_get" id="hzu5z[N3U^~B4BT,3eUw"><field name="VAR" id="Ve_F+v[OY1~*}:=K0PBA">y_coord</field></block></value><next><block type="arcade_character_loop_frames" id="iZ2.2KCKoQngELoepwJw"><comment pinned="false" h="80" w="160">Configuración de animaciones para ESTE enemigo (repetir para cada uno)</comment><value name="sprite"><block type="variables_get" id="C9Cw`{vwYxSsY[CF2C/-"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="yiAG^s9h#4.Ll`e,`tJa"><field name="frames">assets.animation`bullet`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim14"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="apN[/kh}vYYLpeHj+U)#"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="|?Im2@i9a(kKbFX$gMAU"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="e(}%GoTmriek48(1glU5"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="HoP=yB|n.L-oZqpE4JgX"><value name="sprite"><block type="variables_get" id=",u,Bk9v^)2//+%OsV#IB"><field name="VAR" id="YJ6t-`33~hTC|hA0%x(y">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="w%-1aR+j2`40rD1?|A3s"><field name="frames">assets.animation`bullet0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim26"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="7-`Aeg4%Z!E$2Ff(]O53"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="7y6;W!CsRPGc99b/gc#9"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="TuB(2hgwu[eY=6Mi:`MT"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>