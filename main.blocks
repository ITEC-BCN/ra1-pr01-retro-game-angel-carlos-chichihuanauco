<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="KIND_SpriteKind" id="C|Sn4Fg-y/Kj;x.o%b(0">Player</variable><variable type="KIND_SpriteKind" id="%|DL9hWW|nxSgZXU*g6d">Projectile</variable><variable type="KIND_SpriteKind" id="~TK;kG*=lv-M77ot=KGZ">Food</variable><variable type="KIND_SpriteKind" id="zm68*}mD+4iQS}cZnfdH">Enemy</variable><variable id="64xAc|n#wZtkb=[Z{Ak(">un_enemigo</variable><variable id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</variable><variable id="y`2NOm{[`H9aLWpyr~?9">projectile</variable><variable id="I95C%z7RQPxeNjpIYd7r">distancia_repulsion</variable><variable id="Hu:;oHl/$L8rWg#w*==v">npc_controles</variable><variable id="E280}[}}iv40A0=5e8*j">npc_historia</variable><variable id="E%^e]_[1TN^S^6Ka4mu+">delta_x</variable><variable id="NQ6m@]BM(^O3_KSF!M.f">sprite_player</variable><variable id="8@?^+(#0lQ+$WZB+R,mm">delta_y</variable><variable id="B~6G5~59uw;v9XNwRyN8">dodge_roll</variable><variable id=",I.)!n4m/%z9@Z[j9EPT">posiciones_sala1</variable><variable id="agMfzXfNsKFGyV4R,FBs">pos_tile</variable><variable id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</variable><variable id="%TfC-*}o(SPsG#M{PCJ(">x_coord</variable><variable id="@Lqbxlw0p#,zY!W:[Gw8">y_coord</variable><variable id="zXop?Nt;5r-Ak;qpg)08">tp_lobby_sala</variable><variable id="1@,)l=Xgw1ff?kukz3CN">tp_sala_jefe</variable><variable id="AT{{QW.z|(h@n^RH}Iz^">npc_tienda</variable></variables><block type="pxt-on-start" id="KbK-ngDk;wkSQMO*-g7E" x="20" y="20"><statement name="HANDLER"><block type="typescript_statement" id="_XaitOWamI.0Hk)uSyRk"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let distancia_repulsion = 0" numlines="1" declaredvars="distancia_repulsion"></mutation><next><block type="typescript_statement" id="Z%.v3qg`(:BZ74[6TRBs"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="namespace SpriteKind {" line1="    export const npc = SpriteKind.create()" line2="    info.setScore(0)" line3="    //  Creamos un sprite para el HUD" line4="    export const arma_hud = sprites.create(assets.image`gun`, SpriteKind.Food)" line5="    SpriteKind.arma_hud.setFlag(SpriteFlag.RelativeToCamera, true)" line6="    SpriteKind.arma_hud.setPosition(20, 105)" line7="    //  Variable para saber qué arma tenemos equipada" line8="    export const arma_actual = &quot;pistola&quot;" line9="    export const bullet_poryectile = SpriteKind.create()" line10="    export const tp_sala = SpriteKind.create()" line11="    export const tp_jefe = SpriteKind.create()" line12="}" numlines="13"></mutation><next><block type="variables_set" id="#.hck?DzA0m*.cYczsz/"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field><value name="VALUE"><shadow type="math_number" id="-uYHHO*YV5-{Qn{p%R*a"><field name="NUM">0</field></shadow><block type="spritescreate" id="|wGoXsNSwtncu%Ke~N@x"><value name="img"><shadow type="screen_image_picker" id="x_5lwlIOK]`ZO5vq]~@O"><field name="img">assets.image`myImage`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image1"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="O!{p58:WD5b|QR6yL`SQ"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="kd:{?c/!yKp7{#`{]`+4"><field name="VAR" id="Hu:;oHl/$L8rWg#w*==v">npc_controles</field><value name="VALUE"><shadow type="math_number" id="#W,G33C(a~U:_CaYjGvJ"><field name="NUM">0</field></shadow><block type="spritescreate" id="SMVKNgA3NWd}-L9;{X63"><value name="img"><shadow type="screen_image_picker" id="@JXeL]NqcF{^]meuEh5!"><field name="img">assets.image`cultist_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image8"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="$1rPmxRrUULbNUpxF=v("><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="Ju=c]xYfm1lt$/YEn`[t"><field name="EXPRESSION">SpriteKind.npc</field></block></value></block></value><next><block type="variables_set" id="d%LHa%z]tqX@B0CSVk`@"><field name="VAR" id="zXop?Nt;5r-Ak;qpg)08">tp_lobby_sala</field><value name="VALUE"><shadow type="math_number" id="dZD4/8AG;7tSiOI4vB;*"><field name="NUM">0</field></shadow><block type="spritescreate" id="0DUqo_D-H`mdvF$:neQ]"><value name="img"><shadow type="screen_image_picker" id=":Vi*z8Xq}Q1`bg8A_/[E"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="KZm824KykJuv4)M[iiai"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id=";dUui,%dAiR)CvN}aE!*"><field name="EXPRESSION">SpriteKind.tp_sala</field></block></value></block></value><next><block type="variables_set" id="X@Hm~Vl/y8NnPmy?G[8!"><field name="VAR" id="1@,)l=Xgw1ff?kukz3CN">tp_sala_jefe</field><value name="VALUE"><shadow type="math_number" id="R8vUw?t^B-;C+t7Kh)Rs"><field name="NUM">0</field></shadow><block type="spritescreate" id=".[FMW,HuP,pxUf;:Py%i"><value name="img"><shadow type="screen_image_picker" id="l/h}ax{yNh5kz4q$?-$W"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="%Pcs,o/b)cWv65W{30qI"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="BncVzjDPa)+{+pZKAw!C"><field name="EXPRESSION">SpriteKind.tp_jefe</field></block></value></block></value><next><block type="variables_set" id="57m6n(`if0[}#d:BF1aS"><field name="VAR" id="E280}[}}iv40A0=5e8*j">npc_historia</field><value name="VALUE"><shadow type="math_number" id="(GflGVn^f#*nU*b0Sgnx"><field name="NUM">0</field></shadow><block type="spritescreate" id="6PnTl6(s5i7yGGZ1FwO+"><value name="img"><shadow type="screen_image_picker" id="VWd$x91mZ8;7Ohl%c*14"><field name="img">assets.image`bullet_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image7"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="IF4B?b~Tz72{3ToZ?ry2"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="CG7,X}sIZO=(is_Pkj5("><field name="EXPRESSION">SpriteKind.npc</field></block></value></block></value><next><block type="variables_set" id="@U|$7n36/8p`@$|5B%AL"><field name="VAR" id="AT{{QW.z|(h@n^RH}Iz^">npc_tienda</field><value name="VALUE"><shadow type="math_number" id="~sBXv*j8/,UJBcu,8Qz9"><field name="NUM">0</field></shadow><block type="spritescreate" id="sv._x^T)^MpcWAFt-a5@"><value name="img"><shadow type="screen_image_picker" id="z%qrNo;.Uu$nNwB)C1AD"><field name="img">assets.image`dallas_shoper`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image9"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id=")SK/^GfQtX$o2mv~/O=V"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id=":mb9_t*R5S-JgnsXP=/G"><field name="EXPRESSION">SpriteKind.npc</field></block></value></block></value><next><block type="spritesetpos" id="so);Wh+#OT?DB-Yr1hQt"><value name="sprite"><block type="variables_get" id="!=/;3nk17hwq|X/Myz#t"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="#h=zjv8#f17Y%;/s6t,P"><field name="index">335</field></shadow></value><value name="y"><shadow type="positionPicker" id="K-(fARsNF1.q:%dCJyY~"><field name="index">316</field></shadow></value><next><block type="spritesetpos" id="KmcF[J_4pLRd9W6nP^rz"><value name="sprite"><block type="variables_get" id="XFG[G*!_W*%fk|18%dg:"><field name="VAR" id="Hu:;oHl/$L8rWg#w*==v">npc_controles</field></block></value><value name="x"><shadow type="positionPicker" id="v?]%?0d@:e}Wk-0q{/@."><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="[5EuNO,1G6jgxF;:AA6d"><field name="index">270</field></shadow></value><next><block type="spritesetpos" id="5Y)w$217Mf{HC3q:lM[L"><value name="sprite"><block type="variables_get" id="%jo}f;eHSM).OfwOjSsD"><field name="VAR" id="zXop?Nt;5r-Ak;qpg)08">tp_lobby_sala</field></block></value><value name="x"><shadow type="positionPicker" id="+!I7p@-J@KI#n]9ONw7|"><field name="index">330</field></shadow></value><value name="y"><shadow type="positionPicker" id="q/JIXk%{tIb}n`]av_|J"><field name="index">360</field></shadow></value><next><block type="spritesetpos" id="_d76yFP)HAi-/qP4VK.I"><value name="sprite"><block type="variables_get" id="MWpF27WA9AQ|!H[{Wr,S"><field name="VAR" id="1@,)l=Xgw1ff?kukz3CN">tp_sala_jefe</field></block></value><value name="x"><shadow type="positionPicker" id="IuVWG8I0638k}.m6yp/Z"><field name="index">3135</field></shadow></value><value name="y"><shadow type="positionPicker" id=";KV$k!`|_s(t-dLn!tE/"><field name="index">311</field></shadow></value><next><block type="spritesetpos" id="/w~dYs3^FZ2lhqqE%;WD"><value name="sprite"><block type="variables_get" id=".[SXe@+;/PzvI08oken["><field name="VAR" id="E280}[}}iv40A0=5e8*j">npc_historia</field></block></value><value name="x"><shadow type="positionPicker" id="I!A2_i}v]h-^njUCawT+"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="+M439#1B|O#XZ#:{$E%1"><field name="index">330</field></shadow></value><next><block type="spritesetpos" id="la%GhtL4YT$2x0d/h3%_"><value name="sprite"><block type="variables_get" id="g{Cp+8l?xhPQh+hmDf|O"><field name="VAR" id="AT{{QW.z|(h@n^RH}Iz^">npc_tienda</field></block></value><value name="x"><shadow type="positionPicker" id="gD=5iN*ovQTmE826$0N{"><field name="index">103</field></shadow></value><value name="y"><shadow type="positionPicker" id="s4X5|l*qOLuAR#ks5E|q"><field name="index">1464</field></shadow></value><next><block type="arcade_character_loop_frames" id="{YgShh@*Czt;I}?}HooW"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id=",v:VO*/n9}vg0}~;fJh+"><field name="VAR" id="Hu:;oHl/$L8rWg#w*==v">npc_controles</field></block></value><value name="frames"><shadow type="animation_editor" id="!%6o5c;X8gNa7aWPxhK2"><field name="frames">assets.animation`cultistAnimation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim13"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="+406o`P[NX,74M,)F%Ab"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="{78.-.9(G$Tio{@fk6QH"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="6z7;}QfD(X?gLln~w6nS"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="LISZhnaBF[*$=k,=NM-_"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="5*/o:p)j+U9u7U*A_Oxe"><field name="VAR" id="E280}[}}iv40A0=5e8*j">npc_historia</field></block></value><value name="frames"><shadow type="animation_editor" id="ii}]FH#g|XB6*}5JhE?,"><field name="frames">assets.animation`Bullet_NPC_Animation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim15"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="~40:Kb@)*HHzM[qwU/|m"><field name="ms">400</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="v%)i:Jx,|9V*n9`UEqdb"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="-Nif|hr!Cd^v$3p??Cm`"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="~pOt1JbH~n]v(~2}H$8O"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="Ky+C1N|h5]f6d:z%ns;z"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="`pNP3ZLDTAS7oQz.;FVg"><field name="frames">assets.animation`run_front_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim5"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="CGoZbE?@o5gjISBGr)[J"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="5KqqadLNbpllPMh|$aL^"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="MV$32Sul2u|0-_^ugIgV"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="bWm6L-(gs|:tKYNQ{aGJ"><value name="sprite"><block type="variables_get" id="Jdx,I+]gl0aG.7lZ([2E"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="ECxY^@jTUTS{+5%)H6e:"><field name="frames">assets.animation`run_back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim8"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="-O^T-(D}6ai!z6G4Og#!"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="LIzh]8M_@OnCV%:duc1+"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="nmgBf}nO`JTw15,qO5*|"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="S_Rk-55Pu3zjb?uDTz1,"><value name="sprite"><block type="variables_get" id="E_d`$Le,Q4Bp3~R:9Xv@"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="(H@)kW_n[DQd:N:amMZB"><field name="frames">assets.animation`run_right_pilot0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim7"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="?0T([]%Q`*2;pDgO:4@9"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="(wW+w?lbA`fSrmF*W=gg"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="$=XI0+YGK;eDcuAnH`Ug"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="*~$,$IR=o;z?!l)jg/-b"><value name="sprite"><block type="variables_get" id="@}5`lO[56O3qYrWO.wUs"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="CLX(|eV4u54,7!t49;Fu"><field name="frames">assets.animation`run_right_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim6"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="X6R2F#j:(wHFa9-t{JV["><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="WBk!TwiKa^C^wVW7-rqY"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="!QuH87n^CJ)@HQ_$9gD9"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="apljLjbq9Ae]u=N=t]I6"><value name="sprite"><block type="variables_get" id="]kF+|3#(QlZJf@6ioRX|"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="EeI#{mA97italFWI/zdX"><field name="frames">assets.animation`still_down`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim1"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Pbyi3-!3XoYHV`t3`di9"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="?2g%H5ueBXE|`QkT$ZZI"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="usEypWdq]@^mi:vIW`m="><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="VQXk}YDDP:F*qN4QP?p@"><value name="sprite"><block type="variables_get" id=".p/#E$m(H#ko[g(e`7+f"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="qC0,2*??X4Ppm{~AFWH|"><field name="frames">assets.animation`side_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim2"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="?BjgK0~Bc#q8jB2R5-Dt"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="b~g0stU_o}R$8pYDI*:d"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=",4_V-Mq1N:zme:uPvz$V"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="gllNb#0p`jAB.$Re9Cqt"><value name="sprite"><block type="variables_get" id="#7Wxal%#yAxbc$%/$wbT"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="a[(K]EBWb=upg3BYFaYc"><field name="frames">assets.animation`side_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim3"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="l/[%)?oSZMVOM:8odsA7"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="cSeW8V-fR}Kf-)npb*GX"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="3lsA4y^0pJ^KcTW~*i}4"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="lvMDu;wJ3Gh2Q*gQdyoj"><value name="sprite"><block type="variables_get" id="%o[0=ryiA%)F~Hw@wGz{"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="jpSkvPUE{I6Sflg+|FdP"><field name="frames">assets.animation`back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim4"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="P^1c[y%ZzjiK:@JQ/d//"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="0BZWCe,,wXt?[F(q5Z}c"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="V%9r#c6qFXBTyjQFy@Yx"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value><next><block type="function_call" id="{.q9|Asf!0q1_Wj}AnSE"><mutation name="spawn_enemis_multiple" functionid="l}Z1GTK?iBfFQFk]1m6U"></mutation><comment pinned="false" h="80" w="160">⭐️ LLAMAR A LA NUEVA FUNCIÓN DE SPAWN</comment><next><block type="game_control_sprite" id="*y_Du5PtJAFu~b]9-B]_"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="HQr4Q2y-)u!U9?`W#~uX"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><next><block type="camerafollow" id="C@9GgW,a%Dwz^d*ype^g"><value name="sprite"><block type="variables_get" id="!WmX3Phy=aqNt`w57sm/"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><next><block type="set_current_tilemap" id="=DFmKv/-ENWUW[w^@_.W"><value name="tilemap"><shadow type="tiles_tilemap_editor" id="$s#y$QaWXD.YQWMeHK1m"><field name="tilemap">tilemap`first_dungeon`</field><data>{"commentRefs":[],"fieldData":{"tilemap":"lobby1"}}</data></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="gameupdate" id="ps:1}3}BhKy,rdelK[k4" x="783" y="20"><comment pinned="false" h="80" w="160">⭐️ Opcional: Implementar aquí la lógica de animación por dirección para los enemigos</comment></block><block type="keyonevent" id="E05sOlmx(yU3;3.t0){-" x="992" y="20"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id=";jMDul_;SQ2.,k;o4D9("><value name="sprite"><block type="variables_get" id="9laA5ym1%J#qH/Q8Pos3"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="9=fj~!81hftVj+NMVDTf"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="qDj=3X2nZ1a{.f,z.)yK"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id=",FS_{S,$,Jjn;W+Z7[FZ" x="1516" y="20"><field name="button">controller.B</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="jCu,S3gVw)GC[Oum,G2T"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="pk4)Tz/Y^)6j}xcRS)16"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="j-9eCv].=9=T(-)ROe-T"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="r05g]6=.fNC8KSGu.[U!"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="3t[+v5get_5Sa8jkZLeI"><value name="sprite"><block type="variables_get" id="f?UR^nt-*.S38cF.j*9%"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="nbl_!]3EQgi-8~~^0=0x"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="w-L+_NP,pn?#Xu.P16[!"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id=",bK_s4{Y|QPaZrRcfw6c"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="02I]j%rL]o{f`5s.|/.9"><value name="sprite"><block type="variables_get" id=".+^xba5F8KDo2rG]cXry"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="DWfDy*XFAT~-:t;FJ)^O"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="$*G!@{UY7)M$^)vwdC7="><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="?7A|{co$d[tI!EOM!^^l"><field name="VAR" id="y`2NOm{[`H9aLWpyr~?9">projectile</field><value name="VALUE"><shadow type="math_number" id=")beIVJXoZr,YPR.),Zq`"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="81~Vg]6h(9ven1tVPRmI"><value name="img"><shadow type="screen_image_picker" id=";N78Ims+SX`-j4$cugRH"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="%_vS(n%(4W$}53^?-w]?"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="dyJ/Lu(Yut)]Ki1fYApR"><field name="speed">200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="%QqE~x(q2Z$o-82X:pOT"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="9$sGzt1F2MJRohG?mGH("><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="3]Byw4L^3b,ZV9MYJEfR"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="1WX[je-68}zpNN:/cXnC"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="LYN0PqiXsTrDG|vaWT!a"><value name="sprite"><block type="variables_get" id="W9D,BCGc_phV*Ak*Z.0v"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="Pq6ys:M?2kOMgJP~=[SS"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="g]L@bffK:0-!p.HvG5[!"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="~?H:sDdswc0yK,.]OWDX"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="^|0k+P2iyceN=Z6}XFoz"><value name="sprite"><block type="variables_get" id="-j9_?93zyFO)9wXcU-~U"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="s7rT3B15,Fg$4:U919ip"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Z!_UoEWnLq~7Pb;M!x(5"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></value></block></value><statement name="DO1"><block type="variables_set" id="O#!1B4/Pfhi77`{rX?U!"><field name="VAR" id="y`2NOm{[`H9aLWpyr~?9">projectile</field><value name="VALUE"><shadow type="math_number" id="@NBV}z`c@-Tq}bXt`X^`"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="8oX~.;/6DC1uZyL1R6*u"><value name="img"><shadow type="screen_image_picker" id="@$7r@Ty2_xqejAue$z~V"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="*@/Fvpdz@%H^[ql|)D|D"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="acwf]/Fg[VzBV#.b8N1@"><field name="speed">-200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="v8Wr=Ur-.-2Y`Q^-JYO1"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="D0/O{g#KVx2q_aV]WkS$"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="pU{o7R2kgSjea%TR+(ya"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="MbyvNE+93(519n8?!#n]"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="VW3!kWhT3ysl_7C=Gh0A"><value name="sprite"><block type="variables_get" id="(Jj^mgK_|ITS+s9-P8Rc"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="{R;.}:?H[w:=|*Z:_y%_"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="d[G5#7a:5/W%R5%q$qXN"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="8~yTF~#G{@{rJHpla+N`"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="m1TpTQy:1B?Z._ikGRo~"><value name="sprite"><block type="variables_get" id="45x8FKC7gVP,{7xos[YG"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="Jz-f}s!8`JC(@U:f*Y46"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Lwz]=:2emB:mE?C2fp|b"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></value></block></value><statement name="DO2"><block type="variables_set" id="+Tc^Bl:4JdK#~`xlYBqG"><field name="VAR" id="y`2NOm{[`H9aLWpyr~?9">projectile</field><value name="VALUE"><shadow type="math_number" id="({M]|HVO~Zp4dTH$B^Q}"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="km%EBtT]ytSAQG^3i[`e"><value name="img"><shadow type="screen_image_picker" id="z3VMV~@g?80Yng_@r^Oe"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="~OS?uOMSD.S6i?Okpxi~"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="qi@yS^L)Qt(Rp{Ne.T*B"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="il0HL(1{)O2D}^EBKq=C"><field name="speed">200</field></shadow></value></block></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="B7NmC$fRFzA5m#wKK4C("><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="Nia1:_$B+1eZub6=D8k%"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="$Uj7eS}z#ziA-M=)/5]T"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="gCJ.C1eH;3lbQVmbZ-O0"><value name="sprite"><block type="variables_get" id="o{$R}(dzAmX#zq0/5Pdc"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="0B5~I0?3%40-IzY2a2C)"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="hEVT`4eYBUH[zZjA.*bk"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="v#FUD^2icPdGj9mNY}z2"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="Da;A._WWsWF~1!0}ye(%"><value name="sprite"><block type="variables_get" id="UdivIP+KLLrySr:B#C3k"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="}TWXa~jWm/4jZQ]7rj8y"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="~Y]/JUdBf@yRYN+mon?Z"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></value></block></value><statement name="DO3"><block type="variables_set" id="EQyJmV@uVf,`*SQg:c+@"><field name="VAR" id="y`2NOm{[`H9aLWpyr~?9">projectile</field><value name="VALUE"><shadow type="math_number" id="Eb+5T_hzw[$O!UFMqPmo"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="jEcBcdzeJ1Y0P%MOF7@g"><value name="img"><shadow type="screen_image_picker" id="Awv.hxf[z^hF4`5XO!c|"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="*o8#;-{-+,fMBjIeGeDJ"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="elh(i(,^2l1)mJu^+ECg"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="{M?.bgRcdSVb/wd~|Gqu"><field name="speed">-200</field></shadow></value></block></value></block></statement></block></statement></block><block type="keyonevent" id="@Y4n@wnzl?}0)-dM}[GM" x="2593" y="20"><field name="button">controller.A</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_enabled" id="o#CO9=)*s+ML+%VU!/G{"><value name="sprite"><block type="variables_get" id="ng8;F9wT#:w5%6%,o)`S"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="Zy/i9Ip%IenV8:].S/HC"><field name="BOOL">FALSE</field></shadow></value><next><block type="controls_if" id="To!7}/b{!wzk=bpuSS3}"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="WIkJ0r]#X1ZFbyYI;2m5"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="8%o_l-hN,b?tvu`117KW"><value name="sprite"><block type="variables_get" id="-{yBc$+5^Kc2q/GeuaWv"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="[}R;eCg:|/!o%6|MWE=I"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="@{TP=SGrG1J+DI4:D8EL"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><statement name="DO0"><block type="run_image_animation" id="B[WehiqMCIO2}at,J6(H"><value name="sprite"><block type="variables_get" id="Xs!]$a+:mTN[7M?RfWIJ"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="+1644gR=Zv8IMB`Om9Da"><field name="frames">assets.animation`dodge_roll_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim10"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="twU]hm~IA_L-O#)QwF(X"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="Mh3^2lw7rZv2hzd`}d47"><field name="on">false</field></shadow></value><next><block type="device_pause" id="Tu:g!i3fJ$G2.rvkyVJ}"><value name="pause"><shadow type="timePicker" id="z9a^h300La$q[Yht[ky$"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="m`XK3SBMN=j0]HmQ#4bK"><field name="VAR" id="B~6G5~59uw;v9XNwRyN8">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="|a~fo[A1G%isz+2=}=zZ"><field name="NUM">0</field></shadow><block type="logic_boolean" id="=z%SF0[wyIc9,!#X#SnZ"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="}t2Zv2Q?yhY;7([X27NM"><value name="sprite"><block type="variables_get" id="D]KWYu1MgXn`F]VX-HS`"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="EAgQ;y(W-f5l0E/up)uJ"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="sBW`;W=2I$esktEo{zfX"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="aRw~]oN26FKCNq]16zO$"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="9NDMz_QK6eYFkM82+R(|"><value name="sprite"><block type="variables_get" id=";`wxq$KW$=`4*4@X,.46"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="0dq|O([`:z1u_t6,~PEO"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="?]@hmE[sfEyH)J7:(9SJ"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><statement name="DO1"><block type="run_image_animation" id="je-7R4D|zJr5tQzIp^~a"><value name="sprite"><block type="variables_get" id="M]vi`Q=6raIgHMvzG7wu"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="5dDm$B0w)rspkXh$Gi)M"><field name="frames">assets.animation`dodge_roll_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim12"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="rqxVhjQGT|JSu2),?O/A"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="(@yyW${:js[5BMHG%+!X"><field name="on">false</field></shadow></value><next><block type="device_pause" id="Z8FyHdKin[eA^Q+?hf]z"><value name="pause"><shadow type="timePicker" id="T(6Rd)rQZA_{CQ@rAq/S"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="tkPw=|v%zRelaFUy1d?U"><field name="VAR" id="B~6G5~59uw;v9XNwRyN8">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="`#ysD:R(;_ANR:PR$BU+"><field name="NUM">0</field></shadow><block type="logic_boolean" id="Fj33(`ndInV;.a44Q)2a"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="$cX%.?sABSu#Up.EkyMh"><value name="sprite"><block type="variables_get" id="8l`*{GEf8ARy)_lPXZ#c"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="6aT69vRXWXOPw]Ox8wPT"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="he7wlPNo?}2n63@b%zo`"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="EVs?OEhyRiiqjB#6rJ!9"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="|r.DP(+1%uY7v4I0!z!l"><value name="sprite"><block type="variables_get" id=".///eD?|zH]0@ctvx/B@"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="jz35+66xg)XwrsF!cBLA"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="A{Vd8Np_a98x#M4,XGtk"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><statement name="DO2"><block type="run_image_animation" id=",Ba{y,5.TRV8^g*L=1N["><value name="sprite"><block type="variables_get" id="s(8p8Z0,~`d!/0hJv3[U"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="q{|RUc]21YA:igIu]$G="><field name="frames">assets.animation`dodge_roll_front`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim9"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="mex4fOnG~.U]8TQLj?E["><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="Qt@5w9l#9PF%vG_s@bu{"><field name="on">false</field></shadow></value><next><block type="device_pause" id="rm|mzhr#y6(UvmqEF:46"><value name="pause"><shadow type="timePicker" id="ge18I9RwH(hTS$IqR+1."><field name="ms">650</field></shadow></value><next><block type="variables_set" id="h0]jT3P?m^3*[!k9U[i["><field name="VAR" id="B~6G5~59uw;v9XNwRyN8">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="#!NDU@F~?!R^zLX0gP$j"><field name="NUM">0</field></shadow><block type="logic_boolean" id="An9I~hCI^QK_5Dl%]MKM"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="EyFiVlgZq;:B):;A/|!#"><value name="sprite"><block type="variables_get" id="Tb$Hy]tg;-3Y?;78XJ2."><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="XQgsgG@~oQd%IEDNSB0S"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Y]yn/1C^m.xQ#J,(4n`_"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF3"><shadow type="logic_boolean" id="EG}2{$0g-yr;L(m(6L`b"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="9x..b6tP-XRr%z}KS9gR"><value name="sprite"><block type="variables_get" id="Gr.apA;~hN*X@Lm$/3rY"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="AIzDMVFbXG0;jZ/InG0|"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="|:S|klb+Ct={vWQT[V~S"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><statement name="DO3"><block type="run_image_animation" id="Y$nUF6TTWlLZ*cc-^qt]"><value name="sprite"><block type="variables_get" id="N.~:qJ(v84r/2Cmg%+6N"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="`R3Q0XnM^oMjN4BWkk7U"><field name="frames">assets.animation`dodge_roll_back`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim11"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Ri,h.P|5cVpZ;b+Q*(q_"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="ap8~OX:dj@rE:R@B+z$^"><field name="on">false</field></shadow></value><next><block type="device_pause" id="jx0BTkhy`#ZI9{bK`hs?"><value name="pause"><shadow type="timePicker" id="*+%sdem^=wHios*V?nv0"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="D,!p`cz7.M)3A8/t7;vi"><field name="VAR" id="B~6G5~59uw;v9XNwRyN8">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="q/+%v2~2A+m^_Ts]@],B"><field name="NUM">0</field></shadow><block type="logic_boolean" id="Qjvp~O}w3Dt[`M4Fj9z~"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="nl06^`8%1i;K{EvV6vCf"><value name="sprite"><block type="variables_get" id="uDEd.]1d$r*U+.t2cw]*"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="{iViJnQ+d*sjbJ5Tau;N"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="uWj`?igBy5|L2$A^!H12"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="qX$`Y?#g$Z`$sT,uM|VF"><value name="IF0"><shadow type="logic_boolean" id="L.rC`9k9Get1wVdYhqL]"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="M!rIa{eB-cNmQRb[48^T"><value name="BOOL"><shadow type="logic_boolean" id="zYHq[ZZtT~F976hyki@s"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="Vd=)kNma0=8zX~8oCc/W"><field name="VAR" id="B~6G5~59uw;v9XNwRyN8">dodge_roll</field></block></value></block></value><statement name="DO0"><block type="arcade_character_animation_enabled" id="C@Lk0xBNc@b3^|.KeeoB"><value name="sprite"><block type="variables_get" id="5L93rpYK`]?MJ.[Y?y[q"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="Vflj^2h2THJlSsKUj]@z"><field name="BOOL">TRUE</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="keyonevent" id="QtixG|#hs}1R|;qXQE4G" x="3200" y="20"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Released</field><comment pinned="false" h="80" w="160">Funciones de released (Optimizadas en la respuesta anterior)</comment><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="y/]io:ZZj[l#61z6:TA0"><value name="sprite"><block type="variables_get" id="%1yIv=*`So+D^n^Fds))"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="$6DUjI!zkh~3oRi?p2j,"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="CPt#L`:%S8}XO{;..i:L"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="kvx#:ZPd7)^yeY[V!vEI" x="3741" y="20"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="p]A3?dQrBfBCPii}?s-j"><value name="sprite"><block type="variables_get" id="iy:JnQl4o^_hbld,MbT("><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="CT!?=s$iKDSwA$M5(P,Y"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="cc4tr99CF`m9-6U)sWk,"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="STV!mu60symGcrun+XCN" x="4283" y="20"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="1r-Iz)v438^;#)fp[[6!"><value name="sprite"><block type="variables_get" id="I#!)Z][F#ZuSS@4;_cvL"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="Xyw5zO/^cca.,6QGCG/z"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="v!@:LhG-!t[Cnk@]|F2N"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="/B^0:Bv*PKPIRKf-nMS?" x="4834" y="20"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="yBvefud}NCR1uMYg9$w("><value name="sprite"><block type="variables_get" id="X@{jemTOKKt~EwFiB$c2"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="`w5d_Quu6bPtJg-pG6Lj"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="d;fx|mlmwRy!S-/.4YFE"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="Ftv~hgkigb(E`A5L;g(x" x="5375" y="20"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="2S@1;tT-V?;u`5+Y`ujD"><value name="sprite"><block type="variables_get" id="pmbz}AsVUWv`9:30Cx{5"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=")KLQFs7Syq;@w@)/a%Re"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="CnaF0J(O7]zrJ*QoAm}|"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="fc+,m)$v_h{v;AVDRFs/" x="20" y="3635"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id=".)#Rv9%AFE-S~w?H47bd"><value name="sprite"><block type="variables_get" id="ev(nQrzg.`;~di)NQ;+F"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="$WuLtY_mZ90[U/OHBd@N"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="%?Nn#prThNdgX=A=r#]S"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="-O/+E1BAaA@[w$7:1:sT" x="544" y="3635"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="IzU?p0_QXC#A,pK`m1V)"><value name="sprite"><block type="variables_get" id="9mOl=sGIlgScd4ew*.Cf"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="iho:At^8t]{b*k8hcKiB"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="S|8G|l{QM}0}Djk2jevK"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></statement></block><block type="spritesoverlap" id="5Wc_8QCs_gX.q%Vf+m$;" x="1086" y="3635"><comment pinned="false" h="80" w="160">Nota: Asegúrate de que los sprites 'npc_controles' y 'npc_historia' estén definidos.</comment><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="kDRSv*8KLs(cm^9tPV_L"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite_player</field></block></value><value name="kind"><shadow type="spritekind" id="xo|mid%!c+uWqiD)7[3@"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="m%t)Xb_I6:L/dh0|-!my"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="jWaCw-*_kQrMMB;tf=5t"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="4kFf#9ZkM7$3ch33%Gvs"><field name="EXPRESSION">SpriteKind.npc</field></block></value><statement name="HANDLER"><block type="typescript_statement" id="u$Zt%T_06xg8B0ZoYv{b"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_x: number;" numlines="1" declaredvars="delta_x"></mutation><next><block type="typescript_statement" id="WXJjVaXHV8[+B1+P?nQa"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_y: number;" numlines="1" declaredvars="delta_y"></mutation><next><block type="variables_set" id="sTG4x?!G2EzbjG[)qrS*"><field name="VAR" id="I95C%z7RQPxeNjpIYd7r">distancia_repulsion</field><comment pinned="false" h="80" w="160">Definimos la distancia de repulsión (ajustable)</comment><value name="VALUE"><shadow type="math_number" id="QB9l=e);u(,X%KTl%DR;"><field name="NUM">10</field></shadow></value><next><block type="controls_if" id="/NQuHO{/1jms|n%xQ-%%"><comment pinned="false" h="80" w="160">Un pequeño empujón es suficiente para romper el solapamiento.
Verificamos si la colisión es con cualquiera de los NPCs</comment><value name="IF0"><shadow type="logic_boolean" id=")L,eJG={@)yAYX_=!WT["><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="A{P%^};D*GUjbwR92JIs"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="ucN-[;90.!+M,82xFpi/"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="M/i2`BaWcJjb=Q0CdkYV"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="1rK2|fL)?7XR_H4V4Yp#"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="jAMGHWytkPhxl-!{%[Up"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="hX,9N)ut-n~,^-H%sN`9"><field name="NUM">0</field></shadow><block type="variables_get" id="@7/kLD7xjHZK!qqMC4%~"><field name="VAR" id="Hu:;oHl/$L8rWg#w*==v">npc_controles</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="l=xV,(#Yo0v7%z0!~=ve"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="PTbq0O|wyS*l^M(1)0vF"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="NCwJDGL4TABgQx`Vn0O."><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="B6}x?Hd2EMWVeATr|pnw"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="J;Vu*Dgj(m/7FrV41C0B"><field name="NUM">0</field></shadow><block type="variables_get" id="bpy**2zSZ^$[ip/~ufs|"><field name="VAR" id="E280}[}}iv40A0=5e8*j">npc_historia</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="P:UnLa;H?J[9G^0zgWct"><field name="VAR" id="E%^e]_[1TN^S^6Ka4mu+">delta_x</field><comment pinned="false" h="80" w="160">⭐️ Lógica de Repulsión ⭐️
Calcular la diferencia entre las posiciones</comment><value name="VALUE"><shadow type="math_number" id="YRC}Mb_Iq5[OWfq_0;XI"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="ox;_X(lk*D6ja20ia+B:"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="^(ItDZnBE}ZhhXLqHf,P"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="nd~up3fimh|3l-ZLgxCh"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="A5(21cTjpf$h{6kJ~%2j"><field name="VAR" id="NQ6m@]BM(^O3_KSF!M.f">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="}[*Etu*E-+%,%pLDBY7C"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="/JpGJE0mgi,UOzKc;tOE"><field name="property">Sprite.x</field><value name="mySprite"><block type="argument_reporter_custom" id="3{D12dAWX/}9b@^/hU!X"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="variables_set" id=",Jg!~h=q`O#XpJ1@[x/*"><field name="VAR" id="8@?^+(#0lQ+$WZB+R,mm">delta_y</field><value name="VALUE"><shadow type="math_number" id="QYtDUOr%NgmvQMVjMG{2"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="pc*{P1V3l#D$X3EyH]*{"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Q0|L~9;v2Sa?Y*$(T]DB"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id=";0$iA^qV-l.(Po{raWEp"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="c!t%5}JK=cnJy!$DT_OO"><field name="VAR" id="NQ6m@]BM(^O3_KSF!M.f">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="OkVKz:n7q#k.q|=nVbV{"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="1wQjNHJdY$#i6qf2B0t7"><field name="property">Sprite.y</field><value name="mySprite"><block type="argument_reporter_custom" id="^?(4srzCD_T;y2[2(PB."><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="controls_if" id=".8Y^Y1G0?dQJ2jAe2u*-"><mutation elseif="1" else="1"></mutation><comment pinned="false" h="80" w="160">Repulsión Horizontal (Si la diferencia es significativa)</comment><value name="IF0"><shadow type="logic_boolean" id="VfRz=V#JwRvCW(=k,G]B"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="lLQdgndHP.A+;m9d`cIu"><field name="OP">GT</field><value name="A"><shadow type="math_number" id=";8#UPM#6I:I:ek{qe-k-"><field name="NUM">0</field></shadow><block type="math_op3" id="39h:R{s;y4WJEU}I_m,4"><value name="x"><block type="variables_get" id=":o^5[zE-Xdw0OY6y,i!u"><field name="VAR" id="E%^e]_[1TN^S^6Ka4mu+">delta_x</field></block></value></block></value><value name="B"><shadow type="math_number" id="GUdI#Yv|:U84S+bxn;?="><field name="NUM">0</field></shadow><block type="math_op3" id="dQZw6xs-!^h=Jh!jXoX/"><value name="x"><block type="variables_get" id="ge*IF((CdC*)yck/ZRAH"><field name="VAR" id="8@?^+(#0lQ+$WZB+R,mm">delta_y</field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="bo4R[HFNgxhX6j#(,AGr"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="mcF_iO5(gcb|X0qmjRp1"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="{K-ic/9dFg5Uv?U?]A7P"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="#d}(cp{6uH?(d,u%-b,0"><field name="NUM">0</field></shadow><block type="variables_get" id="D2l^InvUx-bcPE9]T+P["><field name="VAR" id="E%^e]_[1TN^S^6Ka4mu+">delta_x</field></block></value><value name="B"><shadow type="math_number" id="^{zIqM+g*LV$PtiB_H4y"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="Sprite_blockCombine_change" id="w_X*{gjSn`e@{GEmDqeI"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Jugador a la derecha del NPC, lo empuja más a la derecha</comment><value name="mySprite"><block type="variables_get" id="7wmT)-,K.;73jf+p,O-f"><field name="VAR" id="NQ6m@]BM(^O3_KSF!M.f">sprite_player</field></block></value><value name="value"><block type="variables_get" id="aeBvp0^b?_BO@*MfQQ$l"><field name="VAR" id="I95C%z7RQPxeNjpIYd7r">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="(Qkw_::Jt?g(qwPngZ_#"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.x -= distancia_repulsion" numlines="1"></mutation></block></statement></block></statement><value name="IF1"><shadow type="logic_boolean" id="B_c#;9SO}9F*q%zi~_l3"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="M-8NXKSEB]|jSDzl(DG*"><field name="OP">GT</field><value name="A"><shadow type="math_number" id=":l*5G*z6qH2I@p*M7L1-"><field name="NUM">0</field></shadow><block type="variables_get" id="K*h)q+y52puJH^^.o:D1"><field name="VAR" id="8@?^+(#0lQ+$WZB+R,mm">delta_y</field></block></value><value name="B"><shadow type="math_number" id="pKC.g]}|=y9dD;3Yu%by"><field name="NUM">0</field></shadow></value></block></value><statement name="DO1"><block type="Sprite_blockCombine_change" id="%YL355Y`T~=b5*g7@N;v"><field name="property">Sprite.y@set</field><comment pinned="false" h="80" w="160">Jugador debajo del NPC, lo empuja hacia abajo</comment><value name="mySprite"><block type="variables_get" id="Hm+l4|(C9kd5X_BV,]PC"><field name="VAR" id="NQ6m@]BM(^O3_KSF!M.f">sprite_player</field></block></value><value name="value"><block type="variables_get" id="nN8=Ji-bG4~`e~LlH{{L"><field name="VAR" id="I95C%z7RQPxeNjpIYd7r">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="pi}e+p0P5+?$954#Rr`u"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.y -= distancia_repulsion" numlines="1"></mutation></block></statement></block></next></block></next></block></statement><next><block type="controls_if" id="u}ef|l`FW|DN#KXMcGh*"><mutation elseif="1"></mutation><comment pinned="false" h="80" w="160">---------------------------</comment><value name="IF0"><shadow type="logic_boolean" id="jrF?4.x^KpZ|=CtZHkHC"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="bgu8_*b/^%y)j=Ct5lLm"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="1-wmgkL,?:SWSs0D!Yu4"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="JJ6Lmr*=,f(;*!v0?(G:"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="/R$g|1c;py*5HNZ85l_y"><field name="NUM">0</field></shadow><block type="variables_get" id="?,+}tyLk@s+sK}@zR%#b"><field name="VAR" id="Hu:;oHl/$L8rWg#w*==v">npc_controles</field></block></value></block></value><statement name="DO0"><block type="game_show_long_text" id="[NnNq~v%c[-FD^$_mOa("><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="z^F+{192%!@.,+}=/Mc#"><field name="TEXT"></field></shadow><block type="text_join" id="pJNveIj^_i?q=YWqUf@L" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text" id="~@LwLhDh]62-bTi{@Wvj"><field name="TEXT"></field></shadow><block type="typescript_expression" id="99JxvdUMwO_t|]6i}(x:"><field name="EXPRESSION">`
                ¡Alto ahí, recluta!
                `</field></block></value><value name="ADD1"><shadow type="text" id=":#*^$JNR/sfxEVOV@iu8"><field name="TEXT"></field></shadow><block type="typescript_expression" id="]Cwi5?)fRp}kOPxTGjCG"><field name="EXPRESSION">`
                Este lugar mastica novatos como tú.
                `</field></block></value><value name="ADD2"><shadow type="text" id="*hk4%kzn4]?Vf!`W|(~r"><field name="TEXT"></field></shadow><block type="typescript_expression" id="_mDBG@t0%/@wsFsNm@ym"><field name="EXPRESSION">`
                Si quieres vivir, aprende esto:
                `</field></block></value><value name="ADD3"><shadow type="text" id="t4!m[=h+W/5Y@IpcGc{@"><field name="TEXT"></field></shadow><block type="typescript_expression" id="52EfOHD/1ubGPb(YrNLr"><field name="EXPRESSION">`
                (A): ¡DODGE ROLL! Ruedas y eres intocable por un segundo.
                `</field></block></value><value name="ADD4"><shadow type="text" id="7S-%WKGJ8.)BNjHCzU$a"><field name="TEXT">(B): ¡FUEGO! Dispara antes de que te disparen a ti.</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="^mC?+Kk0N+$Zh[41ozgF"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="T);vtjL*~5TJTv,EWzfy"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="K7*/sE.4c;},0cCO]Yuy"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="^}]dm70I1IH+B#mYURw0"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="{CT!(R4XkR+cJ?/6=g[0"><field name="NUM">0</field></shadow><block type="variables_get" id="3x7fDP7ZEl~$/!7ff~:%"><field name="VAR" id="E280}[}}iv40A0=5e8*j">npc_historia</field></block></value></block></value><statement name="DO1"><block type="game_show_long_text" id="EeX+zB*rYx{C{]8x:p0O"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">--- 2. LA BALITA ---
Parte 1: El aviso</comment><value name="str"><shadow type="text" id="$%SgDH2$@L=/N}OvY~,-"><field name="TEXT"></field></shadow><block type="text_join" id="F,m$MY9^)v(d1l/JzDg,"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="kOIjFL%A7NFbKc8kXYTn"><field name="TEXT"></field></shadow><block type="typescript_expression" id="$5FLh);@w9-zOmZTl~Mj"><field name="EXPRESSION">`
                Hola... no pareces de por aquí.
                `</field></block></value><value name="ADD1"><shadow type="text" id="_*Dnqu9m?)0Tovt|{uCg"><field name="TEXT"></field></shadow><block type="typescript_expression" id="WWx/7p#hUCaD8{,!W;Hw"><field name="EXPRESSION">`
                Bienvenido a la 'Cripta del Calibre Perdido'.
                `</field></block></value><value name="ADD2"><shadow type="text" id="J6uq%QY6]/sT!n*]}ipP"><field name="TEXT">Antes esto era una fragua sagrada, pero 'El Detonador' lo corrompió todo...</field></shadow></value></block></value><next><block type="game_show_long_text" id="/!ziP90OlI1y.}drPycU"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 2: La leyenda</comment><value name="str"><shadow type="text" id="Fx66%S{FAjUf2oSqvH#x"><field name="TEXT"></field></shadow><block type="text_join" id="rr5mh]nex:wib]6(6jxg"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="G;V;O;Fzb#S*AWT_6Nze"><field name="TEXT"></field></shadow><block type="typescript_expression" id="VJ@Ry`D5W}Tof_~j3;Gs"><field name="EXPRESSION">`
                Ahora, mis hermanos balas se han vuelto locos por la Pólvora Negra.
                `</field></block></value><value name="ADD1"><shadow type="text" id="w/!;Dcmq;*n*Xi72z$|h"><field name="TEXT">Pero dicen que en el fondo existe el el 'Núcleo de Plomo'...</field></shadow></value></block></value><next><block type="game_show_long_text" id="SNa_6_W.07R$;2][]aM,"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 3: El reto</comment><value name="str"><shadow type="text" id="v5rMZ%)^bRb]k~/TKJX("><field name="TEXT"></field></shadow><block type="text_join" id="lSo))gJ))eA0sP98WeoX"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="E#r%PE]HJ5kO*A;@UPtV"><field name="TEXT"></field></shadow><block type="typescript_expression" id="X,xGX^4IEP@]-Y^$@?:T"><field name="EXPRESSION">`
                Si logras llegar y vencer a los Guardianes, el Núcleo te concederá un deseo:
                `</field></block></value><value name="ADD1"><shadow type="text" id="U=EQh_0t(`@%P@gNo^|U"><field name="TEXT"></field></shadow><block type="typescript_expression" id="ii58}M27iK?THSSd*yVY"><field name="EXPRESSION">"¡Cambiar tu pasado!\n"</field></block></value><value name="ADD2"><shadow type="text" id="J05_uw8cRgjO3YLv:Q(s"><field name="TEXT">¿Tienes el valor (y la munición) para intentarlo? Suerte... la necesitarás. </field></shadow></value></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="spritesoverlap" id="J^8imehI,s/eCZ$%u=Og" x="2954" y="3635"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="X0ZF.8K_G^e^Jqzto.?="><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite</field></block></value><value name="kind"><shadow type="spritekind" id="JQ|B^:6kf7lopquYbeAb"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="::i[yQq9Z[B`4x(LO(:f"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite2</field></block></value><value name="otherKind"><shadow type="spritekind" id="!DjY(Dh-WKf9-5eM*l*G"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="(CEx7;d_9-dC)0uz1-RJ"><field name="EXPRESSION">SpriteKind.tp_sala</field></block></value><statement name="HANDLER"><block type="spritesetpos" id="[mzoE]nZAjUmawd~!HBW"><value name="sprite"><block type="variables_get" id=")9c-yF:Wtw,?}*j=bN[Y"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="W*n4!m3bIsk90I;f{1Y:"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="S}i9;yeO%;m046bn1Zs;"><field name="index">2782</field></shadow></value></block></statement></block><block type="spritesoverlap" id="[h-^]XIUpPWSg6Sd5WVk" x="3766" y="3635"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="y[Dle4;AHm*~:zmh{kFu"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite2</field></block></value><value name="kind"><shadow type="spritekind" id="))o(dAHFl}YYOMX~nlPM"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="]SZzM65o,)9#/!;;(8mD"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite3</field></block></value><value name="otherKind"><shadow type="spritekind" id="eU@QsDzwn$ol7W|/]gY-"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id=").JnjVHRg2KD1rtA16(:"><field name="EXPRESSION">SpriteKind.tp_jefe</field></block></value><statement name="HANDLER"><block type="spritesetpos" id="byXM?^!Ro2XMvAGig?;2"><value name="sprite"><block type="variables_get" id="PLY1rioN[BL|R{umu`F5"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="1:~r*K8-V3-PrUF![!Es"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="9qX_/=X`lR!*6N/oD/cO"><field name="index">2782</field></shadow></value></block></statement></block><block type="typescript_statement" id="RGENXO;O}04$/coSJy;_" disabled-reasons="ORPHANED_BLOCK,MANUALLY_DISABLED" x="4586" y="3635"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprites.onOverlap(SpriteKind.Player, SpriteKind.npc, function on_npc_overlap(sprite: Sprite, otherSprite: Sprite) {" line1="    let arma_visual: Sprite;" line2="    //  ... (Aquí irían los if del Cultista y la Balita igual que antes) ..." line3="    //  --- 3. DALLAS (Tienda con Visuales) ---" line4="    if (otherSprite == npc_tienda) {" line5="        //  Saludo" line6="        game.showLongText(&quot;HEY Guarra! Mira lo que tengo hoy para ti bb...&quot;, DialogLayout.Bottom)" line7="        //  --- MOSTRAR PISTOLA ---" line8="        //  1. Creamos el sprite temporalmente (Usamos SpriteKind.Food para que no haga daño)" line9="        arma_visual = sprites.create(assets.image`gun`, SpriteKind.Food)" line10="        //  2. La colocamos encima del jugador (o del NPC)" line11="        arma_visual.setPosition(sprite.x, sprite.y - 30)" line12="        //  3. Mostramos el texto (el juego se pausa y ves el arma)" line13="        game.showLongText(` PISTOLA BÁSICA:" line14="Es gratis, pero hace el trabajo.`, DialogLayout.Bottom)" line15="        //  4. Destruimos el sprite" line16="        arma_visual.destroy()" line17="        //  --- MOSTRAR ESCOPETA ---" line18="        arma_visual = sprites.create(assets.image`shotgun`, SpriteKind.Food)" line19="        arma_visual.setPosition(sprite.x, sprite.y - 30)" line20="        game.showLongText(` LA ESCOPETA (50\$):" line21="Dispersión amplia. Ideal para fiestas.`, DialogLayout.Bottom)" line22="        arma_visual.destroy()" line23="        //  --- MOSTRAR RIFLE ---" line24="        arma_visual = sprites.create(assets.image`rifle`, SpriteKind.Food)" line25="        arma_visual.setPosition(sprite.x, sprite.y - 30)" line26="        game.showLongText(` RIFLE DE ASALTO (120\$):" line27="Rápido, preciso y letal.`, DialogLayout.Bottom)" line28="        arma_visual.destroy()" line29="        //  --- MOSTRAR EASTER EGG ---" line30="        arma_visual = sprites.create(assets.image`easter_egg`, SpriteKind.Food)" line31="        arma_visual.setPosition(sprite.x, sprite.y - 30)" line32="        //  Efecto especial para el item legendario (vibración de cámara)" line33="        scene.cameraShake(4, 500)" line34="        game.showLongText(` EL HUEVO MISTERIOSO (9999\$):" line35="¿Es un error? ¿Es un dios? ¡Es carísimo!`, DialogLayout.Bottom)" line36="        arma_visual.destroy()" line37="        //  Despedida" line38="        game.showLongText(&quot;Vuelve con dinero, socio.&quot;, DialogLayout.Bottom)" line39="        sprite.y += 10" line40="    }" line41="    " line42="})" numlines="43"></mutation></block><block type="function_definition" id="b^X[R-v)mEw(l[VRB(l/" x="20" y="5416"><mutation name="mode_attack" functionid="E%kRQ^Fx/KZ-1+oOCe[Y"></mutation><field name="function_name">mode_attack</field><comment pinned="false" h="80" w="160">--- Inicialización del Juego ---</comment><statement name="STACK"><block type="pxt_controls_for_of" id="fPsx-#^DOCe_@Y5UNBSX"><comment pinned="false" h="80" w="160">⭐️ OPTIMIZACIÓN: Itera sobre TODOS los enemigos para que todos sigan al jugador</comment><value name="VAR"><block type="variables_get_reporter" id="tMe,/Ey,`Br+Q+8chYYI"><mutation duplicateondrag="true"></mutation><field name="VAR" id="64xAc|n#wZtkb=[Z{Ak(">un_enemigo</field></block></value><value name="LIST"><block type="allOfKind" id="F_x#sF@L1uYg3F%-@X:h"><value name="kind"><shadow type="spritekind" id=",kG{8oF]m1#+[LU)VIOc"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="B2TQzPJ1?)1x`e`jzqbt"><field name="EXPRESSION">SpriteKind.bullet_poryectile</field></block></value></block></value><statement name="DO"><block type="spriteFollowOtherSprite" id="VOxRpZ$[o%5uo-7/L6qX"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="i?O(Sx};P:5)uUrtEVt_"><field name="VAR" id="64xAc|n#wZtkb=[Z{Ak(">un_enemigo</field></block></value><value name="target"><block type="variables_get" id=")zGW8-_w(.LSaZ^x?2DJ"><field name="VAR" id="Ie..3.?$}+=%Zw9(4Q1E">mySprite</field></block></value><value name="speed"><shadow type="math_number" id=")C:}3QUu7Fvpg_RN)AV$"><field name="NUM">100</field></shadow></value></block></statement></block></statement></block><block type="function_definition" id="C[+@!C+#ObiKVM{`34iT" x="1743" y="5416"><mutation name="cordenadas_sala1" functionid="%5igW|4U`oKI1Wz1hmL0"></mutation><field name="function_name">cordenadas_sala1</field><statement name="STACK"><block type="variables_set" id="L2$}ebP:4iPK(caD:I^,"><field name="VAR" id=",I.)!n4m/%z9@Z[j9EPT">posiciones_sala1</field><value name="VALUE"><shadow type="math_number" id="E$qX`V82D?)hNS2JswKz"><field name="NUM">0</field></shadow><block type="lists_create_with" id="rQf3NWw)lA3x,g0NwRUn" inline="false"><mutation items="4" horizontalafter="3"></mutation><value name="ADD0"><block type="lists_create_with" id="#U1RXvqg=CA/|blEDeg@"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="KI3^ZGEF)c+YklX!E1^*"><value name="min"><shadow type="math_number" id="(wnCOx,X/}x,jDMJ!^CF"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id=";qdMS`]G)H5(S55xnpPa"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="CuTlG5y./a;%+h%P1/UP"><value name="min"><shadow type="math_number" id="@JHB+*gr#J^m6#R6)q7)"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="LvazLcJ:RZM9DV1y_*HT"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD1"><block type="lists_create_with" id=",M-V|[!,$xF[~78#8qYR"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="d:OKi-qBMTV~xl)o6XpX"><value name="min"><shadow type="math_number" id="*f2I/jh=GANQ^_GV7{Q`"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="7Rehj5,=$t)JM-MD@9P+"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="h-9T5B/vRH7c/1Abe*=("><value name="min"><shadow type="math_number" id="h50*n[]HLY4uwc,bo+[["><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="hthy0U_538Rv49wjr|*T"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD2"><block type="lists_create_with" id="7/_#-adbW,/!YdM,nUm9"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="^0P/f?1RE:db4I9iH{/h"><value name="min"><shadow type="math_number" id="@`?u`~Mq(uj1v|G7(pZ?"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="];^Z2*iH`nPz-A8il#2h"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id="HoIbN-dMF)U%:mQhxR[D"><value name="min"><shadow type="math_number" id="!tLoP_2LLrEH.ZcmXgd~"><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="HAh~u5YmT[eO,2I^z7cW"><field name="NUM">2887</field></shadow></value></block></value></block></value><value name="ADD3"><block type="lists_create_with" id="H43RGlmWt@B^+%#7WwxX"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="device_random" id="9!bL}(iONc$bbU_CbTXO"><value name="min"><shadow type="math_number" id="`)l6ET5}?l@;+3~9bUB*"><field name="NUM">2201</field></shadow></value><value name="limit"><shadow type="math_number" id="?Xm=!zJ},8MT6jE-~s)g"><field name="NUM">1544</field></shadow></value></block></value><value name="ADD1"><block type="device_random" id=".0LOsJ}yENu`RB!;1blg"><value name="min"><shadow type="math_number" id="KS6W%^m?~$41F]@8qsA("><field name="NUM">2601</field></shadow></value><value name="limit"><shadow type="math_number" id="^DJpJum{8/Ak0C@m0Bb*"><field name="NUM">2887</field></shadow></value></block></value></block></value></block></value></block></statement></block><block type="function_definition" id="P`ifQGPr-Go:n!S3h+o6" x="1065" y="5643"><mutation name="spawn_enemis_multiple" functionid="l}Z1GTK?iBfFQFk]1m6U"></mutation><field name="function_name">spawn_enemis_multiple</field><comment pinned="false" h="80" w="160">⭐️ NUEVA FUNCIÓN: Genera múltiples enemigos en diferentes posiciones</comment><statement name="STACK"><block type="typescript_statement" id="aHpkaV+x-B=_~oCyI+37"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nuevo_enemigo: Sprite;" numlines="1" declaredvars="nuevo_enemigo"></mutation><next><block type="typescript_statement" id="{4LReQ($o}0_DZH@bH0]"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x_coord: number;" numlines="1" declaredvars="x_coord"></mutation><next><block type="typescript_statement" id="xDK)8o.ctd}$g`%%+#@]"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let y_coord: number;" numlines="1" declaredvars="y_coord"></mutation><next><block type="function_call" id="%=Y1boWX{u|RUX^D9QF1"><mutation name="cordenadas_sala1" functionid="%5igW|4U`oKI1Wz1hmL0"></mutation><next><block type="pxt_controls_for_of" id="TRO=H`+:t2p%Zmx;T=BQ"><value name="VAR"><block type="variables_get_reporter" id="LrQbW4aAW{J[sVFK1WO."><mutation duplicateondrag="true"></mutation><field name="VAR" id="agMfzXfNsKFGyV4R,FBs">pos_tile</field></block></value><value name="LIST"><block type="variables_get" id="Rbm|QcpH2jK)TDg0[eNQ"><field name="VAR" id=",I.)!n4m/%z9@Z[j9EPT">posiciones_sala1</field></block></value><statement name="DO"><block type="variables_set" id="/Fy3e{]FS%4zff|ij_+:"><field name="VAR" id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</field><value name="VALUE"><shadow type="math_number" id="RJEZ.!ZX*^+OAx6-W}GR"><field name="NUM">0</field></shadow><block type="spritescreate" id="IH1CCo.mbmrpVz5GZ4YR"><value name="img"><shadow type="screen_image_picker" id="+Q#i?ytbfcColM}JAco:"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="6!a,]+CQYYnpJ1+6X(~)"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="kSXv0EZ(/5=pAm6AHd;`"><field name="EXPRESSION">SpriteKind.bullet_poryectile</field></block></value></block></value><next><block type="variables_set" id="umj,-_pCPPEhppYPLsQL"><field name="VAR" id="%TfC-*}o(SPsG#M{PCJ(">x_coord</field><value name="VALUE"><shadow type="math_number" id="Cx:O=F8QBq`7hD#38V)@"><field name="NUM">0</field></shadow><block type="lists_index_get" id="H$DPz#4kZ[Iyt5/9f3kz"><value name="LIST"><block type="variables_get" id="inEI6W!_7:+c)B,zP8r0"><field name="VAR" id="agMfzXfNsKFGyV4R,FBs">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="40Hi+2?H3Yn?9vQYmBFa"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="FXQ3^Wj6o@9bo)[X_H*4"><field name="VAR" id="@Lqbxlw0p#,zY!W:[Gw8">y_coord</field><comment pinned="false" h="80" w="160">El primer elemento es la X</comment><value name="VALUE"><shadow type="math_number" id="=-te{ljco*NNxXXbV~x1"><field name="NUM">0</field></shadow><block type="lists_index_get" id="]Y+?iq?,b0,tbxa$OJTP"><value name="LIST"><block type="variables_get" id="rM}r;2UKhHaL),_U5uD;"><field name="VAR" id="agMfzXfNsKFGyV4R,FBs">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="]aEEHJQl_dVm-~x_{XsG"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritesetpos" id="~!AGrtD~qCoi_?:UMuLi"><comment pinned="false" h="80" w="160">El segundo elemento es la Y</comment><value name="sprite"><block type="variables_get" id="Gpbp~v@l.Agt60:Z24y^"><field name="VAR" id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</field></block></value><value name="x"><shadow type="positionPicker" id="3FX2f@(d2(}hA:q0(`so"><field name="index">0</field></shadow><block type="variables_get" id="4lPCd2UTds)Qt;KpP:N0"><field name="VAR" id="%TfC-*}o(SPsG#M{PCJ(">x_coord</field></block></value><value name="y"><shadow type="positionPicker" id="iTlv?.GwO`hm?,qOW#I~"><field name="index">0</field></shadow><block type="variables_get" id="87wVZI4n:6g+*{]mr4P="><field name="VAR" id="@Lqbxlw0p#,zY!W:[Gw8">y_coord</field></block></value><next><block type="arcade_character_loop_frames" id="%.?CU3d4FPEOJwQB?i1a"><comment pinned="false" h="80" w="160">Configuración de animaciones para ESTE enemigo (repetir para cada uno)</comment><value name="sprite"><block type="variables_get" id="*W1t1jj+)]HS@1hK?24;"><field name="VAR" id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id=",A4J6*iWz%uzO^~.NfTb"><field name="frames">assets.animation`myAnim`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim16"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="%Z:]:nWvXNwkFeSV1P}8"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="c9X#}$y4)G%YUt8SF]`p"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="#2z*kwFh7d5b2E3e3-j@"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="jX8oXcH93Ck59v;$f|~H"><value name="sprite"><block type="variables_get" id="ogP??TokDQ4}Ks3WBX*4"><field name="VAR" id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="d5eJW}Z.s`I+B_);,,ZB"><field name="frames">assets.animation`myAnim0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim17"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="1gP5U0,2_tDO0S9riF0r"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="|(7P$MigRhGB%Pv=DfXy"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Vl?Z58VI@o5KjWOTmA0O"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="function_call" id="#Tfj(K3+R2Q,!$!{K{w/"><mutation name="cordenadas_sala1" functionid="%5igW|4U`oKI1Wz1hmL0"></mutation><next><block type="pxt_controls_for_of" id="4a%naMPa3?V$|78Vjs5m"><value name="VAR"><block type="variables_get_reporter" id="89p{U^vg!(Q%6Ykzsmi["><mutation duplicateondrag="true"></mutation><field name="VAR" id="agMfzXfNsKFGyV4R,FBs">pos_tile</field></block></value><value name="LIST"><block type="variables_get" id="tp8fFpa-4bFmedPYp~/g"><field name="VAR" id=",I.)!n4m/%z9@Z[j9EPT">posiciones_sala1</field></block></value><statement name="DO"><block type="variables_set" id="!7wl+ogPb}!WmWq#!@de"><field name="VAR" id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</field><value name="VALUE"><shadow type="math_number" id="RJEZ.!ZX*^+OAx6-W}GR"><field name="NUM">0</field></shadow><block type="spritescreate" id=".M:8JfnV._3PvAI?Rmk4"><value name="img"><shadow type="screen_image_picker" id="l;0d(I9+FSToIhXZfc79"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="6!a,]+CQYYnpJ1+6X(~)"><field name="MEMBER">Player</field></shadow><block type="typescript_expression" id="1bOk}hC2D;w$r8,[yi5Q"><field name="EXPRESSION">SpriteKind.bullet_poryectile</field></block></value></block></value><next><block type="variables_set" id="Zg]|Q0wKyN`=s8+H3mOl"><field name="VAR" id="%TfC-*}o(SPsG#M{PCJ(">x_coord</field><value name="VALUE"><shadow type="math_number" id="Cx:O=F8QBq`7hD#38V)@"><field name="NUM">0</field></shadow><block type="lists_index_get" id="l*DY7[S/;iY$UZ~6LG/6"><value name="LIST"><block type="variables_get" id="h)bH7WVv3Hu[/r(PhtUP"><field name="VAR" id="agMfzXfNsKFGyV4R,FBs">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="s|+[8Za3+71XUaagm*i."><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="P`g#AL[6,44xNMV+^._t"><field name="VAR" id="@Lqbxlw0p#,zY!W:[Gw8">y_coord</field><comment pinned="false" h="80" w="160">El primer elemento es la X</comment><value name="VALUE"><shadow type="math_number" id="=-te{ljco*NNxXXbV~x1"><field name="NUM">0</field></shadow><block type="lists_index_get" id="s(5u=TA]:-vLnxl(yox#"><value name="LIST"><block type="variables_get" id="p+{^nl5it95VHZ0b}Zc-"><field name="VAR" id="agMfzXfNsKFGyV4R,FBs">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="]oRpZlJ#sI|@r:YMHw}X"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritesetpos" id="))7BxN=!{lnuKRY@+6Sj"><comment pinned="false" h="80" w="160">El segundo elemento es la Y</comment><value name="sprite"><block type="variables_get" id="u)nRJk(B?Z%^`tZEly?d"><field name="VAR" id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</field></block></value><value name="x"><shadow type="positionPicker" id="3FX2f@(d2(}hA:q0(`so"><field name="index">0</field></shadow><block type="variables_get" id="YEbyKyyc)Qc%u^s6@eaa"><field name="VAR" id="%TfC-*}o(SPsG#M{PCJ(">x_coord</field></block></value><value name="y"><shadow type="positionPicker" id="iTlv?.GwO`hm?,qOW#I~"><field name="index">0</field></shadow><block type="variables_get" id="ozn]t%YiYgVXvU]Z}1Wa"><field name="VAR" id="@Lqbxlw0p#,zY!W:[Gw8">y_coord</field></block></value><next><block type="arcade_character_loop_frames" id="]fp;ddNzWU7WuSw/d.{X"><comment pinned="false" h="80" w="160">Configuración de animaciones para ESTE enemigo (repetir para cada uno)</comment><value name="sprite"><block type="variables_get" id="i+N[[o^z$8=^QHis-bO;"><field name="VAR" id="!EMW2PG:Are!g:CL){Gm">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="LE25gs719}YrUEWAhR[_"><field name="frames">assets.animation`myAnim`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim16"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Apai~IJ:Q$zA?d]v?u.`"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="=qE|_k}Qu(dz7LOHWZ},"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="8cZX*!+Y}9t.Z;8844pA"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>