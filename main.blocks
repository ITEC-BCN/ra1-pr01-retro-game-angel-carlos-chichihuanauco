<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable type="KIND_SpriteKind" id="^w0iL7$i.VO.sp;LURYd">npc</variable><variable type="KIND_SpriteKind" id="*L^lCk?_@mI.qVY).VFn">Player</variable><variable type="KIND_SpriteKind" id="ep=B65Ff0wgLj0M|Bw9l">Projectile</variable><variable type="KIND_SpriteKind" id="`PedfARV|+]hHjB8B@ku">Food</variable><variable type="KIND_SpriteKind" id=";T[;VN=xyN}qSm|j0zOR">Enemy</variable><variable id="!qc6IX7+$i%uvT1~j{Id">un_enemigo</variable><variable id="q@za:v[p@yIcZYNIc=!Y">mySprite</variable><variable id="17A)Iv4Jo~+VRAz*TuxI">distancia_repulsion</variable><variable id="c0oQ9/n:PM%`RcGjb-F]">npc_controles</variable><variable id=":4wW$f.?gKGK*PX2y.qi">npc_historia</variable><variable id=")fDU#3w,(be$ktE6SPqE">delta_x</variable><variable id="H%(DZ*jO-,A~HI@y^n?l">sprite_player</variable><variable id="_M4QJ90s}GeqB,)mKS]O">delta_y</variable><variable id="NZ#Pe57yLF#`t4vK|ZIU">projectile</variable><variable id="-c_WGr/:*XC9*MP)mkuw">dodge_roll</variable><variable id="),~-Fi_{$8]*2r(S|29I">POSICIONES_ENEMIGOS</variable><variable id="S49!RB.1F}i9uy_,:j$T">pos_tile</variable><variable id="ImN_pGZGS5|H$%n9lOi^">nuevo_enemigo</variable><variable id="C_[8`N-n@(aX6,mF2$%m">npc_tienda</variable></variables><block type="pxt-on-start" id="j*g:2@hs(^v;fKl]{xV:" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="Dq|3$q}j#j}Qit^@!?7W"><field name="VAR" id="),~-Fi_{$8]*2r(S|29I">POSICIONES_ENEMIGOS</field><value name="VALUE"><shadow type="math_number" id="NtJy477tCMcZXFQ#$39G"><field name="NUM">0</field></shadow><block type="lists_create_with" id="]Gc#ljR}E_dGUM__Yr@/" inline="false"><mutation items="4" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="K/]v}`kH=RAY0?v91tZ#"><field name="NUM">300</field></shadow></value><value name="ADD1"><shadow type="math_number" id="wB+L]9%CZY6!)O:J3pN3"><field name="NUM">315</field></shadow></value><value name="ADD2"><shadow type="math_number" id="ZbTH|C}~P0x!3`B{GN[I"><field name="NUM">320</field></shadow></value><value name="ADD3"><shadow type="math_number" id="y1F{VLg_!y-0BdZqj0K)"><field name="NUM">340</field></shadow></value></block></value><next><block type="variables_set" id="rGOl))c@a~8xKwcn2(i*"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field><value name="VALUE"><shadow type="math_number" id="%84}0./a50MdMev8(bsL"><field name="NUM">0</field></shadow><block type="spritescreate" id="o2+t-+BpI/WAP,fcva#1"><value name="img"><shadow type="screen_image_picker" id="CQUihV*7qNPU#!^w=(%g"><field name="img">assets.image`myImage`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image1"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="_S/VFCeG?2ih$%I.O005"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="Y:G,b!2jgZKnQqnhlN!v"><field name="VAR" id="c0oQ9/n:PM%`RcGjb-F]">npc_controles</field><value name="VALUE"><shadow type="math_number" id="-j.jLlA*!iO`XQ@8]D|F"><field name="NUM">0</field></shadow><block type="spritescreate" id="6Ky~__C*|JzV0xoofxN_"><value name="img"><shadow type="screen_image_picker" id="mWLtNiN,naX9.DEX[OyN"><field name="img">assets.image`cultist_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image8"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="y;wcv;.nA^(#$6URo0aB"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="R8o=/|Yf/3Ot?C+h0Z:w"><field name="VAR" id=":4wW$f.?gKGK*PX2y.qi">npc_historia</field><value name="VALUE"><shadow type="math_number" id="y/(=:uGY^}cQ/v}NfZwP"><field name="NUM">0</field></shadow><block type="spritescreate" id="jeKi!|Kafry7G=us0MIr"><value name="img"><shadow type="screen_image_picker" id="h*-gS`JMDV7ltAh/:2b?"><field name="img">assets.image`bullet_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image7"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="%IskY}?Y1.R?a,T$Hh#~"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="$%SntLtft:BgMJCKoKUc"><field name="VAR" id="C_[8`N-n@(aX6,mF2$%m">npc_tienda</field><value name="VALUE"><shadow type="math_number" id="M@1hK{.A|3?hX8,a3yB)"><field name="NUM">0</field></shadow><block type="spritescreate" id="cMUYoSLLJfFjqv{)UoFn"><value name="img"><shadow type="screen_image_picker" id="JfPm5~wWyLK!Gc0{0_*?"><field name="img">assets.image`dallas_shoper`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image9"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="O6n71ab5jjJLc|X{OU;{"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="spritesetpos" id="X=N?1q-Vh|G=)LBp~7jH"><value name="sprite"><block type="variables_get" id="Dc^4uu7|J5wIl?NL/ck!"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="n${$`M:)lVhCEic+B+m$"><field name="index">300</field></shadow></value><value name="y"><shadow type="positionPicker" id="spD7){?/pqdoZ4wxlhF^"><field name="index">270</field></shadow></value><next><block type="spritesetpos" id="{Gnkh*quwp7GEhfQxs(e"><value name="sprite"><block type="variables_get" id="cmT6;SgBvYGvw^J*f(B}"><field name="VAR" id="c0oQ9/n:PM%`RcGjb-F]">npc_controles</field></block></value><value name="x"><shadow type="positionPicker" id="#hV5c~(_k,Aj{Qn:GbV7"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="tZUAjHy4koQhpei=MHhe"><field name="index">270</field></shadow></value><next><block type="spritesetpos" id="q{9{Bq?;;dbFZ@I~HY;?"><value name="sprite"><block type="variables_get" id="G3n9}NP`r*U:ScLeR0N?"><field name="VAR" id=":4wW$f.?gKGK*PX2y.qi">npc_historia</field></block></value><value name="x"><shadow type="positionPicker" id="LeNpGYCN6JN99lUz]-96"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="M^sc@`x._R9t+kg7/NNQ"><field name="index">330</field></shadow></value><next><block type="arcade_character_loop_frames" id="5HyL~?H#sYkFf9sXgB8/"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="t5mb}H/v;-j~z[y$[5$("><field name="VAR" id="c0oQ9/n:PM%`RcGjb-F]">npc_controles</field></block></value><value name="frames"><shadow type="animation_editor" id="C?!7Bp}VO?4kIPFOv^M:"><field name="frames">assets.animation`cultistAnimation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim13"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="mZ,Iw$YnY*.`t.ooz3vp"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="W^LMZ:W=w#SH~!x2j^w9"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="(TqJ[(15/BuG7n%7T|]H"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="hLqFP]c?^AcJCyz?nCXj"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="Te]npO2W(}Mxt+}Rc(db"><field name="VAR" id=":4wW$f.?gKGK*PX2y.qi">npc_historia</field></block></value><value name="frames"><shadow type="animation_editor" id="frk,s/EIw~QD]R{}DEsn"><field name="frames">assets.animation`Bullet_NPC_Animation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim15"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="~%_QF$bz][Iy;ZMl:9~Z"><field name="ms">400</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="pF4Z$*BuDG-OT5v?!kld"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="}F2Pf?og?5wwP.X-dz/,"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="t9OL.k/$+X(%/)YzrD:s"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="(*p7K4$fv,RZ`:Y]H=vn"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="-jEG}4$F-cw}t?vuTU1j"><field name="frames">assets.animation`run_front_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim5"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="lz6EAL+KNx^g1W{pg2na"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="Zbh?n#@CH=_2ykHJWp2D"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="eeecBrC[il_,H9V=:^t,"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="!r]Uzi-Zq9x.nd6t}hC+"><value name="sprite"><block type="variables_get" id="?;X;Xgvd,_:e+99;0pa-"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="~B/=@3~yt[X(.bYd7u7n"><field name="frames">assets.animation`run_back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim8"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="l;T`=$vLh6!.JEo?,fP|"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="QnI)lp^`9CcO0M1+:{a6"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="]B[u#`?)ukZIGy_P}e-^"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="*8qX%((Psb7K~egCN/X7"><value name="sprite"><block type="variables_get" id="[gwfx+2j!Iu:dVhY6+q("><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="}HDpT@w%9Dj9Ws(ZIh$S"><field name="frames">assets.animation`run_right_pilot0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim7"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="0oX*N=!}aTG;IMT;W3dj"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="S0L37=IgR$BL(,^!?s-U"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="T$NFtm?.vukr~m4MoqbN"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="I$z%Lo!Z2_[gtqo8-Pa]"><value name="sprite"><block type="variables_get" id="LnFw/P|DJmn9_iSRz}9*"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="Lyi.B.7r$C$mWoM.6yX2"><field name="frames">assets.animation`run_right_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim6"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="PDLt+2*e]7Q6TH~sL,P{"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="TMo*jH8:N_;i]LfXE8xS"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Me.@?RHg`y8LZyPV97-;"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="e(c;Lu+_*;Jcn/?/eJ!["><value name="sprite"><block type="variables_get" id="MfWN@_R3NL2xZ.mv*EU|"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="zSf@!V^EqD.czekr!A1^"><field name="frames">assets.animation`still_down`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim1"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="n!-t?^.0btG=m%%;*Y}="><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="V^XQBHP.y.YQKT)JCiD_"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="JLb}8gNb(ZxP|r59|y1a"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="?J6xWW]lxbg0__hVQMZ]"><value name="sprite"><block type="variables_get" id="1`7e~Kyr={=*uE*L/u{7"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="N;,jdkR08l.e5C/0glxN"><field name="frames">assets.animation`side_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim2"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id=",S*g2+w*%J##{r+UBgt_"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="5@m.#g`*13e6E@gx4e]c"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="zmDBIeVO=YM60BzNE@cA"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="Qgg)?yQ]YC1V88TnQ4ks"><value name="sprite"><block type="variables_get" id="5FW,Ocy^aubchuyTNPg/"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="ATA,*Z)wAB!}vA;szZr("><field name="frames">assets.animation`side_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim3"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="/pp?kmcw@xvk?OJI[QbI"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="P/`Z$:gALOU!pG?l3xKQ"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Nm|!r#m1[YFjY_%-VSym"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="f8=a[}A{LfK),UGIhk{2"><value name="sprite"><block type="variables_get" id="!)oQSHoqUc^GEE=#_(Fi"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="Cz|PrZI/UDcJD-7||Q4?"><field name="frames">assets.animation`back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim4"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id=")ei`eS!d~+QC[|-wa%+("><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="#/IvPWKaetE3}}/$mV+6"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="6zumEGtq!S?8tgIT[4ay"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value><next><block type="function_call" id="W,A7*LS*1*6pxn1rqy:K"><mutation name="spawn_enemis_multiple" functionid="DZmx5Lju!J(Q/ZTA-0(j"></mutation><comment pinned="false" h="80" w="160">⭐️ LLAMAR A LA NUEVA FUNCIÓN DE SPAWN</comment><next><block type="game_control_sprite" id="#kJQnOwxMHlH_e#~*aEF"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="8~rJ/iaam*ScI*P1g;=a"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><next><block type="camerafollow" id="9Y@+?6emwaXa.C=buq8m"><value name="sprite"><block type="variables_get" id="Z7TQ`0H^2}+4j$4W*3c:"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><next><block type="set_current_tilemap" id="rEz^+P0-fBj+{~05l,jA"><value name="tilemap"><shadow type="tiles_tilemap_editor" id="[No02dg~E3/%69(dE}H("><field name="tilemap">tilemap`first_dungeon`</field><data>{"commentRefs":[],"fieldData":{"tilemap":"lobby1"}}</data></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="gameinterval" id="@4tD=iJE`yaDDqxWWrm0" x="620" y="20"><value name="period"><shadow type="timePicker" id="l[bc8nbHy.=)0UuhXl9)"><field name="ms">500</field></shadow></value></block><block type="gameupdate" id="[@/);Eyi2e2MW3PQaq9#" x="959" y="20"><comment pinned="false" h="80" w="160">⭐️ Opcional: Implementar aquí la lógica de animación por dirección para los enemigos</comment></block><block type="keyonevent" id="@*YX^6m;S%Hb!dz[WkZR" x="1168" y="20"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="0l6w+:?p(VL^30yM~)B}"><value name="sprite"><block type="variables_get" id="Bkv%OmME*U|_ShZ}R5_l"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="!BNVQD]nBTY|Bu}hht,A"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="L`C)DwwwM[X.yq7A_(bv"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id=",W=J^rqnnb5;{Fo#Io_c" x="1692" y="20"><field name="button">controller.B</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="W`AsSSv@MSzLEhvo)Nic"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="kM1]{Fb-]X(V5$qX22Ub"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="myl$LFx*SHuN!UN#3r0y"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="Ac]q[/s870!6@vN%d2Y;"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="^lv}C_4I.$V,.hpg|uoU"><value name="sprite"><block type="variables_get" id="1$huf5P!H~44Mq*r`)vi"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="HInI-@UXPg9+7UAeeaj5"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="1axf.W+3I=C;(OEMl?h%"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="pgxXew.c*8+Sk%PcFHUG"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="uic$:~Y42C_)C`aq|bE5"><value name="sprite"><block type="variables_get" id="jy:5PrK_XMRcoF-||s7#"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="SnBfvEYYQEo4-mII,1vo"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="9uvWS=azPh13)9`;}68X"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="([=Q!=X0xSBwED{MrZ`W"><field name="VAR" id="NZ#Pe57yLF#`t4vK|ZIU">projectile</field><value name="VALUE"><shadow type="math_number" id="ZluoLu$d^D+U9-W4FtC7"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="CAS$L.RuLYe4n^uD|kyG"><value name="img"><shadow type="screen_image_picker" id="8J5;UEQiH;Yc:1}aho0$"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="ay!6xv;S/lCDDc:#xt-O"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="3uX}sgQ@Wcb;v~KEMe]h"><field name="speed">200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="wwnMjm$hM?hdc74CZj4J"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="a8$}@`(mXtx!`S8n.)jF"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="Acv|Ar!)-VY8I^[VU_;`"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="b$vt#fRxM+DPF*V9M{i8"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id=".))UaMijINoxXPUS`|NB"><value name="sprite"><block type="variables_get" id="xz:!Ywoj[]s=Abwoayw{"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="+vk5WyQgPmE7Q7V*iq4-"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="wugvdtL7XHmD2eiFaM;p"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="hRE=JV8vzu|dSD-l;`yD"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="M7MeNp9djOfk?a:{GSm/"><value name="sprite"><block type="variables_get" id="Tjm@{VQ@3zR?U_C`jvb("><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="maRuTa7Vt|0U`FC82qJ`"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="W,|`}N=*Gxrn)3}{js:p"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></value></block></value><statement name="DO1"><block type="variables_set" id="hGxTcsE|Bjl$A_t@SZgj"><field name="VAR" id="NZ#Pe57yLF#`t4vK|ZIU">projectile</field><value name="VALUE"><shadow type="math_number" id="I2/S8[t_z$z@0yr(8-dN"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="-[{6AvMp(p0_gL:/ejig"><value name="img"><shadow type="screen_image_picker" id="G1i4^P=f._}Az0XMjTu^"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="VKj`yMg{uE+kVXQz~Z)o"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="BJC}NNciA`4aX:PQ~7fk"><field name="speed">-200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="L`Ws)eW91qr^fs=E.qmr"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="^R.gC5M2te2p%S19MI.,"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="ZRfBe*j?Z^i*kQYn}h}o"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="}EvqS|PKvzXuGTPVGz2-"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="aBj:fKK?a,?p7T*?-FS#"><value name="sprite"><block type="variables_get" id="L(SU#g}glBljrCx$_JtI"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="GBYI^Zt:jlCo{mX1w%xQ"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="34neuf,PTc5/_NZp,M|H"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="Fnky0,3Z5t%ac+w.S$5e"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="(f-DqMqQh$48+JyL;Isi"><value name="sprite"><block type="variables_get" id="wq4q;p+x}x@Cj,PxMWOY"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="18ZR@93R+X5udKp_0w@t"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="2Pt1d?;{d5r5U]{Yy2|L"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></value></block></value><statement name="DO2"><block type="variables_set" id="g3w+i!b2pJRp[stVp3E0"><field name="VAR" id="NZ#Pe57yLF#`t4vK|ZIU">projectile</field><value name="VALUE"><shadow type="math_number" id=";;wqx2ElKW^Uquk$/Q.~"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="_edDU5^(in$}(yTTTT)-"><value name="img"><shadow type="screen_image_picker" id="4Pr^h+:U2MN-8cETIaUm"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="J[~[r5Zt6IZg~LFr5%bD"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id=":ok:1M}/.K9zjxYy0@m6"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="_vYA3s_]0;)C2pKg2fk["><field name="speed">200</field></shadow></value></block></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="ZGH$2l52rlt_=TJT.s}g"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="iN=dYc1yGmdvCw]A4LwF"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="!`n$ISpZ4NZe?1:cIFzC"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="emU_!8s.:/n~#mJ9xoQy"><value name="sprite"><block type="variables_get" id="mfyr;y-Eh~!%OVQ9f(P:"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="re%c%G@M]uo}rf(:QYFX"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="y2?wSL53gt-^q{h5F!.a"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="yNEWF|@@yrWW72X._br("><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="XQH#H:FLJ-0`;Wd(7JqV"><value name="sprite"><block type="variables_get" id="E}a.YO@24?-{N6j/d`;z"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="h)gC3Ya#`]!zE%W6BALy"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="{aQF:|@JVp=)L7CDa6?e"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></value></block></value><statement name="DO3"><block type="variables_set" id="k#[Fqmx+N`RHw%]8h#{}"><field name="VAR" id="NZ#Pe57yLF#`t4vK|ZIU">projectile</field><value name="VALUE"><shadow type="math_number" id="Scv*o[N%P;Z8dP-jc7!5"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="zyQ[ram(R#xbJ5$oGblB"><value name="img"><shadow type="screen_image_picker" id="Ng;ILhTb+?NGy+gD/1u@"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="KCt,}fcDvJaP$M2%+{,y"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="mOS)^;MuoLVy,0HG7=yy"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="^?$S_/@k,Y,_WV3wXIa."><field name="speed">-200</field></shadow></value></block></value></block></statement></block></statement></block><block type="keyonevent" id="!go%l[QAy!V4/HNCu8Ts" x="2769" y="20"><field name="button">controller.A</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_enabled" id="Q/S/YQYyhQ4J}9?JoqRj"><value name="sprite"><block type="variables_get" id="w?N,8Lcn=lqkR;dgA%}l"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="zBLPbZ5A0H%O4cu!3V=="><field name="BOOL">FALSE</field></shadow></value><next><block type="controls_if" id="!q2MM3H2[Qop.FMR;kG-"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="?~=}R=1I0kdUiw;a=sh$"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id=")x=lVCgOHcZP$Y,/7Qy3"><value name="sprite"><block type="variables_get" id="l2xAB_xyv!:9Vi,zV0gE"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="sSA6{e/+]$J(gnBsnk9|"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="a=D(}J4l]bkk$HGz|(x;"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><statement name="DO0"><block type="run_image_animation" id="d(!I`rKts,_f5[qG7r3y"><value name="sprite"><block type="variables_get" id="0o0uyS77mjv-{VSipRrN"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="2KaHMCL61n-T}Ztjd%C:"><field name="frames">assets.animation`dodge_roll_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim10"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="0~/6=uG(`3DkMn[obXSD"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="vr}pw?=DxyD17|d*N`m@"><field name="on">false</field></shadow></value><next><block type="device_pause" id="`/`Ma3!9wbvJ,[*sq85~"><value name="pause"><shadow type="timePicker" id="5ag+[Pv)7uIE#+smFyh!"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="i*V;3pH0pG=6g!i79Tw5"><field name="VAR" id="-c_WGr/:*XC9*MP)mkuw">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="4zfrS/`oKF``gQ]xiL`w"><field name="NUM">0</field></shadow><block type="logic_boolean" id="BT9DOLa+U)YIcRO2$d/?"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id=")c,?xuo3Fhu?kBbPt#_;"><value name="sprite"><block type="variables_get" id="F3UWeFVC!{C=|3XULCv["><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="p4B.[PIDL`$p_%`pDcsw"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="%P2nc``Om1A(`l.Z4r.5"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="qZuwfcI*}b._@v0bH7@%"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="%?L3Sf0$P]?-gL*};DnW"><value name="sprite"><block type="variables_get" id="iyu_36O[$Gv1M/*!)0wU"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=",!|KG$c(L#*Kc3FsrpVY"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="9q~tEg#XP~;yk:+clbi3"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><statement name="DO1"><block type="run_image_animation" id="7G[KK4K*.(nfnK7wAz5m"><value name="sprite"><block type="variables_get" id="*,{=+v6T6:/RS+)cpPDg"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="oG_sC6FX~C!0GW%YJR;B"><field name="frames">assets.animation`dodge_roll_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim12"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="S[Wv[(iVc_g1q+V`%wye"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="MEh%O7vB^9tgQCf#D;{c"><field name="on">false</field></shadow></value><next><block type="device_pause" id="Y~Y^NYk=rCF${_:ys|w;"><value name="pause"><shadow type="timePicker" id="M=Qe2#?Xt#yOGwP4?c9O"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="xSnH)bqNRWKc~6/U*];b"><field name="VAR" id="-c_WGr/:*XC9*MP)mkuw">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="b(jYY?|A(Pf$l2Ec*7_k"><field name="NUM">0</field></shadow><block type="logic_boolean" id="QNmqlV8;P0G6b-0xycB{"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="~V`]*+L.H~vAt6jYq%-5"><value name="sprite"><block type="variables_get" id="ln:;%:T)Cjv*[MmR3nyQ"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="blz~8E9M77BBr|,#c.M*"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="NBs,BRwKg0z~{;4SJbq$"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="P?X1+u;)x=jrz!]lacsO"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="=3E[lWp@J^{Y7=D0w=3?"><value name="sprite"><block type="variables_get" id="6zFeMn_2FE;j-xv,NC2u"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="!Pwt!j8kIyPGeYeZ5m-["><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="/R_Sd=TlTtJ/Xp-BIRJo"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><statement name="DO2"><block type="run_image_animation" id="PCM5`_BI4VtG802F6|DS"><value name="sprite"><block type="variables_get" id="gcT?(KVm,kRGe2WS0M]m"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="M^yWxR/@:YWD00E#;q]e"><field name="frames">assets.animation`dodge_roll_front`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim9"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id=":710l#6?n!QY(}tOI%h{"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="0Z}leYE?$8DL;3c4}F?R"><field name="on">false</field></shadow></value><next><block type="device_pause" id="Bkv45D(rok=rxV/]m{b$"><value name="pause"><shadow type="timePicker" id=".c8.ccTkay*Jd@F@_e$U"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="b*n1/3LoQE`jr@[0F:Ir"><field name="VAR" id="-c_WGr/:*XC9*MP)mkuw">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="2m$g~cF#2F_?I9)KlYA6"><field name="NUM">0</field></shadow><block type="logic_boolean" id="a=D0NMN3LvYwn(_k[5Df"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="vS_qD9IS[NUVr_Y~#%U2"><value name="sprite"><block type="variables_get" id="xENB4yUtd+oP7v0}1yFr"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="p:_3l{~%7e0oSm;z}5mT"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="PynT:Te_a08](PJep(/p"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF3"><shadow type="logic_boolean" id="rfAkP--sD_s(W+bDo__C"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="2qAN7QZJ$3ie.,xA7WmR"><value name="sprite"><block type="variables_get" id="T2e{;_nA=p9UDp]|wbe`"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=")eZB[2Z`~oCTd9w=H*`1"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Mr*M{j-Z]#@QWPxN;[_T"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><statement name="DO3"><block type="run_image_animation" id="[dN#tL21Y!xs/G^rh/D+"><value name="sprite"><block type="variables_get" id="{Cp_MLkO;Vg5UY|vmZK9"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="UGc_hYL:%ioze`klM(@s"><field name="frames">assets.animation`dodge_roll_back`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim11"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="W|clqs,kEJTkmVLq9gE7"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="rh!{N{*/S{6;TAfY0(d,"><field name="on">false</field></shadow></value><next><block type="device_pause" id="G~k5Sd`J:5^55Y)+FJl4"><value name="pause"><shadow type="timePicker" id="AD(E]{6[J[Q03KZ!lYj]"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="XG9MID8Xdk8*-GCk%uz*"><field name="VAR" id="-c_WGr/:*XC9*MP)mkuw">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="NFH!JR[:1F,@WFq9);4A"><field name="NUM">0</field></shadow><block type="logic_boolean" id=",gWTB~#[Enf?Hs:)4eO`"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="(H2+;t.xe_1BxY(Ljqi1"><value name="sprite"><block type="variables_get" id="TLQT6$6yae+3,,rprWoO"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="IBO%aGE:%Z2.NN2$Xwen"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="RBz|6}wK)wBUf-N(vfZ$"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="rn?V6J3u~Rf+]zf:-.;]"><value name="IF0"><shadow type="logic_boolean" id="[/iM(h*=l|uFcFly{Oal"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="?05Wz!ER+jGyb)tJ$gW["><value name="BOOL"><shadow type="logic_boolean" id="k5s@-/O!iJS9Vu|sekwy"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="~]P37xw6PVF:~-N~X|Tj"><field name="VAR" id="-c_WGr/:*XC9*MP)mkuw">dodge_roll</field></block></value></block></value><statement name="DO0"><block type="arcade_character_animation_enabled" id="!eF2O2*i!w9,(Cp*1)}L"><value name="sprite"><block type="variables_get" id="]!|JzehtMw^GE/6y)}Mx"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="o.w4:0UAHxhVeop!rOxL"><field name="BOOL">TRUE</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="keyonevent" id="TvY!B@ob@QMA;u_lF_mS" x="3375" y="20"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Released</field><comment pinned="false" h="80" w="160">Funciones de released (Optimizadas en la respuesta anterior)</comment><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="{d@V(CTw)@@G;5w5{DgZ"><value name="sprite"><block type="variables_get" id=";ZPK~8YpenkA^~ruEyJ="><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="n~MT}NfxS=ouu;xN~gUM"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="vryZsh$GQpAs?XrVSnL#"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="FA;C,N/0OSHCfvSYd{0{" x="3917" y="20"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="Q`=1JWth2I;zTW}M0QP="><value name="sprite"><block type="variables_get" id="[TtoH2F|=LSrggL8LZ^g"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="vureza[:U/V0s%l+Olm8"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="ZWHmt_4%vd^Z3(T_(s;t"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="B9)ul#@OR^]~+TZUAj]C" x="4459" y="20"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="Qe-NnY~wqPY`N$mtq3La"><value name="sprite"><block type="variables_get" id="k%f]*;A.}L-*p:S;{x1@"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="8[g/]^y^uJ!kz4f3@jCX"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="0qEfLu9_N|[^pH,PU`wh"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="*qX]2`|alS}6ZgXK%J8^" x="20" y="3031"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="*N=0tCAsuT*{,}pw6I=`"><value name="sprite"><block type="variables_get" id="eLNS:gobz!llbAROjM3R"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="jFo8U$=uK:a[EZBFFTjT"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="!+:_1ch5fnO1QEQMJE6A"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="dN3hg1pI,z:j/@I#l:cn" x="571" y="3031"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="f,8bkS~r-l%LOy+*f0L)"><value name="sprite"><block type="variables_get" id="^i@]($)jkj:B)MY0t)RE"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="qp3c@WMLXuWO+;j(QBNS"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="FH~4xxsP%+^pM?sIcUi8"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="/}:O]C*plH7j(_Vy6+c{" x="1095" y="3031"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="HWUiS#/Rf)#{4?~bDSD3"><value name="sprite"><block type="variables_get" id=":]e(LdZFn$XW4xR_@k$V"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="{pk[cn1kh3!41@AQD5t!"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="=Z?Iy=!t/`T+kc|7I~|O"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="TMj=,Eq!871Nnwe+S8MF" x="1636" y="3031"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="kd@N;KEWVq+IbERoLMk_"><value name="sprite"><block type="variables_get" id="M09)),WC]x)Al[%93,+r"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="8g0Tm37nX3#-7p[Jc%oj"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="4A{T5jf2IY$+vD2UTXM5"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></statement></block><block type="spritesoverlap" id="W#`|dqL{!rWSEQ])?jby" x="2187" y="3031"><comment pinned="false" h="80" w="160">Nota: Asegúrate de que los sprites 'npc_controles' y 'npc_historia' estén definidos.</comment><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="geNVl*bqRRV.r6%JZf66"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite_player</field></block></value><value name="kind"><shadow type="spritekind" id="Wa9*_%-rCO,ZLEMN9!@["><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="?dse,1D*-:rS{Ip@p$.S"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id=";Y0H}B|Pkzi7Yd%uY%85"><field name="MEMBER">npc</field></shadow></value><statement name="HANDLER"><block type="typescript_statement" id="}^OaTs^%v@=%=_S-^cFD"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_x: number;" numlines="1" declaredvars="delta_x"></mutation><next><block type="typescript_statement" id="srtncb[J-oi%O$7mo79C"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_y: number;" numlines="1" declaredvars="delta_y"></mutation><next><block type="variables_set" id=".nPwL]jGG,J_$jcBdpnB"><field name="VAR" id="17A)Iv4Jo~+VRAz*TuxI">distancia_repulsion</field><comment pinned="false" h="80" w="160">Definimos la distancia de repulsión (ajustable)</comment><value name="VALUE"><shadow type="math_number" id="R}]fb*Jg+JYNT`],1V7$"><field name="NUM">10</field></shadow></value><next><block type="controls_if" id="/QG:|~|2,x7W{w#^}iPp"><comment pinned="false" h="80" w="160">Un pequeño empujón es suficiente para romper el solapamiento.
Verificamos si la colisión es con cualquiera de los NPCs</comment><value name="IF0"><shadow type="logic_boolean" id="i!scMA38yR~7*y(rr@6D"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="fp?MRzKyO}!JN^ZywYWV"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="cL#oEjt3RCK4AhRzrX14"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="9(vQg1Tis5.R+j;Ok|WO"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="v{PV~ZTwT`Z#qq[AKM~~"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="dIv6]E+O@ZKNVDr`,mtC"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="9*8,-c2p4HDb~qAZo!?n"><field name="NUM">0</field></shadow><block type="variables_get" id="VblQ}E!c|95AbOdCORb}"><field name="VAR" id="c0oQ9/n:PM%`RcGjb-F]">npc_controles</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="Z}norB|(hd+00w0PFT6`"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="]eD-gT-k2W4}ULxxa;r="><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="JDw=hNkhdTxu|M|=3mqu"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="cE8]u[-3SZhTzJ(0`|B;"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="5?M6@1~9gY@Nv7RyI78."><field name="NUM">0</field></shadow><block type="variables_get" id="GfZ^07Xv0M~?:+`~F-8#"><field name="VAR" id=":4wW$f.?gKGK*PX2y.qi">npc_historia</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="_?bCsex6vKIkvC#5Cx@l"><field name="VAR" id=")fDU#3w,(be$ktE6SPqE">delta_x</field><comment pinned="false" h="80" w="160">⭐️ Lógica de Repulsión ⭐️
Calcular la diferencia entre las posiciones</comment><value name="VALUE"><shadow type="math_number" id="ML{bPWfxVHff`ATBLS+("><field name="NUM">0</field></shadow><block type="math_arithmetic" id="L-dG,.2%^k6%P3`3]btB"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="VW`c+HnD07;lFr0v$fm="><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="5fGhy@BFA6J7|SeE+zFM"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="g/J%[8%T.TNJMonwXveV"><field name="VAR" id="H%(DZ*jO-,A~HI@y^n?l">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="@{-^mVD7b2yv4/zG9n^2"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="$EyxL]=6{;I`+eBZ:plh"><field name="property">Sprite.x</field><value name="mySprite"><block type="argument_reporter_custom" id="b;l`yTx)KcR7,ueg$@(f"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="variables_set" id="g?+PV6kU-37v|ABf.LgH"><field name="VAR" id="_M4QJ90s}GeqB,)mKS]O">delta_y</field><value name="VALUE"><shadow type="math_number" id="HUF?x~d[Qo%/FZa|+%B3"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="`l[coPL[zrND*q5kY(Z-"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="uZO7Z92*e;PvCZZ[?]]p"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="O@$w*di#jpsFapPDF0K?"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="Q)!@`;$W2f0l;ZT0TT?7"><field name="VAR" id="H%(DZ*jO-,A~HI@y^n?l">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="]u;0$}@St9DlZXPGJ,52"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="beh#=5?LBb]I,Zsxbt2n"><field name="property">Sprite.y</field><value name="mySprite"><block type="argument_reporter_custom" id="L/_Y`[Zd8`7SEk}rg^4i"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="controls_if" id="BA[PDi##sol+*aGbw$yK"><mutation elseif="1" else="1"></mutation><comment pinned="false" h="80" w="160">Repulsión Horizontal (Si la diferencia es significativa)</comment><value name="IF0"><shadow type="logic_boolean" id="7uL~bp}dCN^SfmT1qgkz"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="la8|yBMA4v/h9pf0Z_4#"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="EFRSkgK9z%X[S38IE:ua"><field name="NUM">0</field></shadow><block type="math_op3" id="(e.s,8jiwAkSK_%J7|^P"><value name="x"><block type="variables_get" id="ro4U~d;EwnHl9tEv5Z~~"><field name="VAR" id=")fDU#3w,(be$ktE6SPqE">delta_x</field></block></value></block></value><value name="B"><shadow type="math_number" id="~r,bZRd,beEC8F;$EARZ"><field name="NUM">0</field></shadow><block type="math_op3" id="wHz9mm1Y1Jh086I]Bcf-"><value name="x"><block type="variables_get" id="k[jhWfA(a-{{fokV#gZB"><field name="VAR" id="_M4QJ90s}GeqB,)mKS]O">delta_y</field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="MgB0oM+[MOp8t$_[aE1Y"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="})9j70W[!29]zBgx4UT["><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="7kqK;x@%2%k@b7i27Oph"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="w4pGi/(oOgwkOWU[AJpI"><field name="NUM">0</field></shadow><block type="variables_get" id="gM]BLPz,iMmRel:Bwr%z"><field name="VAR" id=")fDU#3w,(be$ktE6SPqE">delta_x</field></block></value><value name="B"><shadow type="math_number" id="$v_k?i;C2JVQ1L6mf8TS"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="Sprite_blockCombine_change" id="O_l.OtT{fKRE=%@pfxu%"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Jugador a la derecha del NPC, lo empuja más a la derecha</comment><value name="mySprite"><block type="variables_get" id="Ig38dIKP4D3r3BW`A`~l"><field name="VAR" id="H%(DZ*jO-,A~HI@y^n?l">sprite_player</field></block></value><value name="value"><block type="variables_get" id="fQaHI^42Dtn._i4|m*fk"><field name="VAR" id="17A)Iv4Jo~+VRAz*TuxI">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id=")v8*18!6qPu1kodmG~i!"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.x -= distancia_repulsion" numlines="1"></mutation></block></statement></block></statement><value name="IF1"><shadow type="logic_boolean" id="X.r#8(_;Wcd}_T#-=p,:"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="wz$*FIVLs:gjfP|_fiQ}"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="zH0E6j?1Y9o=Z~6VJ~u8"><field name="NUM">0</field></shadow><block type="variables_get" id="DP]miho@XqC1](MX*_ue"><field name="VAR" id="_M4QJ90s}GeqB,)mKS]O">delta_y</field></block></value><value name="B"><shadow type="math_number" id="y.Ih[$/NMd[B5wjzWZ6_"><field name="NUM">0</field></shadow></value></block></value><statement name="DO1"><block type="Sprite_blockCombine_change" id="eH.0J=_NN?_s9EoK_H2a"><field name="property">Sprite.y@set</field><comment pinned="false" h="80" w="160">Jugador debajo del NPC, lo empuja hacia abajo</comment><value name="mySprite"><block type="variables_get" id="eLy%W6pKWj*4WQ}EF5:t"><field name="VAR" id="H%(DZ*jO-,A~HI@y^n?l">sprite_player</field></block></value><value name="value"><block type="variables_get" id="6EK8WZ0oYCFX[B:AJrPr"><field name="VAR" id="17A)Iv4Jo~+VRAz*TuxI">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="wtM)9Hikr^w.-)Y?c^8v"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.y -= distancia_repulsion" numlines="1"></mutation></block></statement></block></next></block></next></block></statement><next><block type="controls_if" id="9%?x,Um|OQccDM}Y8pd/"><mutation elseif="1"></mutation><comment pinned="false" h="80" w="160">---------------------------</comment><value name="IF0"><shadow type="logic_boolean" id="3z,E}3PALDVzCJw7#rpe"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")S!XqFWe5/dm4!Y-iy:v"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="e%QU(COTFb7-0qJC=-5a"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="BVR(|)A3`e#dTvJ~zUf+"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="T%Z_ok6T!5slXb)V-t?O"><field name="NUM">0</field></shadow><block type="variables_get" id="kuPLtc]wggIV2(N?}Vud"><field name="VAR" id="c0oQ9/n:PM%`RcGjb-F]">npc_controles</field></block></value></block></value><statement name="DO0"><block type="game_show_long_text" id="iCHu3!pW1{#PTwHi:S;U"><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="1bHw7O7^/bZx6N/nVR{2"><field name="TEXT"></field></shadow><block type="text_join" id="%Ll[L)),crhjt._F,[.H" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text" id="=aWmWJXzs{}ma761-Kv~"><field name="TEXT"></field></shadow><block type="typescript_expression" id="YefuA|U5$W}VM-@b)sV5"><field name="EXPRESSION">`
                ¡Alto ahí, recluta!
                `</field></block></value><value name="ADD1"><shadow type="text" id="uFJNS+|P0(Mh#BQ-Ro;V"><field name="TEXT"></field></shadow><block type="typescript_expression" id=".jCyB2*].W.6.b-xijBH"><field name="EXPRESSION">`
                Este lugar mastica novatos como tú.
                `</field></block></value><value name="ADD2"><shadow type="text" id="q!c.$sw[c_QFHs[n;!X0"><field name="TEXT"></field></shadow><block type="typescript_expression" id="dAi|Ry-vL#Ho2;L`0y0j"><field name="EXPRESSION">`
                Si quieres vivir, aprende esto:
                `</field></block></value><value name="ADD3"><shadow type="text" id="[I%z*W=:mHe#;YU}*]D0"><field name="TEXT"></field></shadow><block type="typescript_expression" id="smECA)eNZrC6}wNK1bAS"><field name="EXPRESSION">`
                (A): ¡DODGE ROLL! Ruedas y eres intocable por un segundo.
                `</field></block></value><value name="ADD4"><shadow type="text" id="Y/Z^gI*4:gawcyWiA5(5"><field name="TEXT">(B): ¡FUEGO! Dispara antes de que te disparen a ti.</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="m.+I,5h`NsagyxIvF]]t"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="T$Ch|XB(f~8uQy7huNG5"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id=",|:%s{{Tqp*CT2VwDwNx"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="dl#r#J#jv2EwT4G=n*OH"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="aJ]^r^Y/o]a3}!!-[HJi"><field name="NUM">0</field></shadow><block type="variables_get" id=")HdBw`EvI|xE/aOL0Av9"><field name="VAR" id=":4wW$f.?gKGK*PX2y.qi">npc_historia</field></block></value></block></value><statement name="DO1"><block type="game_show_long_text" id="p*t{/cUsWK6+tNH#:J$!"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">--- 2. LA BALITA ---
Parte 1: El aviso</comment><value name="str"><shadow type="text" id="`XbuA+}:qq-M)HjK):K:"><field name="TEXT"></field></shadow><block type="text_join" id="w)QiYqLm`za2x8B_hda."><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="j2GkqNS;]sV]Us.J6W]_"><field name="TEXT"></field></shadow><block type="typescript_expression" id="3Bu@UUtxk-,COPf`EU*X"><field name="EXPRESSION">`
                Hola... no pareces de por aquí.
                `</field></block></value><value name="ADD1"><shadow type="text" id="#`Iiy%U)gh,Y[;#hr51{"><field name="TEXT"></field></shadow><block type="typescript_expression" id="_77XV[a+KmT~2^eqP^fw"><field name="EXPRESSION">`
                Bienvenido a la 'Cripta del Calibre Perdido'.
                `</field></block></value><value name="ADD2"><shadow type="text" id="j^$[o-UjzAcw6`)I(8_9"><field name="TEXT">Antes esto era una fragua sagrada, pero 'El Detonador' lo corrompió todo...</field></shadow></value></block></value><next><block type="game_show_long_text" id="1]hIGkJoQ?^GhteQ_FL("><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 2: La leyenda</comment><value name="str"><shadow type="text" id="u$R||B!YCdA-4K*UIE{z"><field name="TEXT"></field></shadow><block type="text_join" id="?HEcenQ=H4!=ZWH@cHI6"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="EV59*H9+~p?~?E@XyNF?"><field name="TEXT"></field></shadow><block type="typescript_expression" id="*A`Gotz18sXB](arG,?Y"><field name="EXPRESSION">`
                Ahora, mis hermanos balas se han vuelto locos por la Pólvora Negra.
                `</field></block></value><value name="ADD1"><shadow type="text" id=".KGPN2j0`U$ty(SQDC/A"><field name="TEXT">Pero dicen que en el fondo existe el el 'Núcleo de Plomo'...</field></shadow></value></block></value><next><block type="game_show_long_text" id="v~S^f!O)hk?SECVzuu+("><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 3: El reto</comment><value name="str"><shadow type="text" id="eAdsIbo9dqrgFu0*ML~;"><field name="TEXT"></field></shadow><block type="text_join" id=",D6.0(J(B32I.8%GQUq]"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="e?9P#:[-`!nJp$uXX.4("><field name="TEXT"></field></shadow><block type="typescript_expression" id="G5`|ElBo4`jhf]-DAo`r"><field name="EXPRESSION">`
                Si logras llegar y vencer a los Guardianes, el Núcleo te concederá un deseo:
                `</field></block></value><value name="ADD1"><shadow type="text" id="g|=`DaXH{mRqa0}/ules"><field name="TEXT"></field></shadow><block type="typescript_expression" id="KwJqR[rUe,nEtXcb!ENg"><field name="EXPRESSION">"¡Cambiar tu pasado!\n"</field></block></value><value name="ADD2"><shadow type="text" id=",vGzQtG}?4LHM}54L[c0"><field name="TEXT">¿Tienes el valor (y la munición) para intentarlo? Suerte... la necesitarás. </field></shadow></value></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="]hYO*pF+M$G@qVoiZI@J" x="4055" y="3031"><mutation name="spawn_enemis_multiple" functionid="DZmx5Lju!J(Q/ZTA-0(j"></mutation><field name="function_name">spawn_enemis_multiple</field><comment pinned="false" h="80" w="160">⭐️ NUEVA FUNCIÓN: Genera múltiples enemigos en diferentes posiciones</comment><statement name="STACK"><block type="typescript_statement" id="{$hv!0oeob4Y#rncGyhL"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nuevo_enemigo: Sprite;" numlines="1" declaredvars="nuevo_enemigo"></mutation><next><block type="pxt_controls_for_of" id="1FqXXlSjBLx0pd`dE-=U"><value name="VAR"><block type="variables_get_reporter" id="_y_0XKDkX.56w#47MpFs"><mutation duplicateondrag="true"></mutation><field name="VAR" id="S49!RB.1F}i9uy_,:j$T">pos_tile</field></block></value><value name="LIST"><block type="variables_get" id="(ct6=C._5qsCC(3dKBLM"><field name="VAR" id="),~-Fi_{$8]*2r(S|29I">POSICIONES_ENEMIGOS</field></block></value><statement name="DO"><block type="variables_set" id="4Vl(|`BS%??)xAGUE)o,"><field name="VAR" id="ImN_pGZGS5|H$%n9lOi^">nuevo_enemigo</field><value name="VALUE"><shadow type="math_number" id="~#m761mP^{|o}9[-090#"><field name="NUM">0</field></shadow><block type="spritescreate" id="Nkp$6n/ina[DXDcr}lKA"><value name="img"><shadow type="screen_image_picker" id="#U!i*nOI~5A?),ssx=8x"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="t}K#Yq1kzz$X#pZSZPkz"><field name="MEMBER">Enemy</field></shadow></value></block></value><next><block type="spritesetpos" id="]v/P*[E!}6[[JbK^DC7p"><value name="sprite"><block type="variables_get" id="SE_B90reo$x5@XJfS.6D"><field name="VAR" id="ImN_pGZGS5|H$%n9lOi^">nuevo_enemigo</field></block></value><value name="x"><shadow type="positionPicker" id="t_!v:eFa}/W_@:2Li(z_"><field name="index">0</field></shadow><block type="variables_get" id="8%/{d0M58KA;MS+v33X]"><field name="VAR" id="S49!RB.1F}i9uy_,:j$T">pos_tile</field></block></value><value name="y"><shadow type="positionPicker" id="ELKd22gYHITFW*P1Xzt_"><field name="index">270</field></shadow></value><next><block type="arcade_character_loop_frames" id="y64QwNkO/QLCtL5ebO1a"><comment pinned="false" h="80" w="160">Configuración de animaciones para ESTE enemigo (repetir para cada uno)</comment><value name="sprite"><block type="variables_get" id="v6rA!Dk31vkODNG4q)11"><field name="VAR" id="ImN_pGZGS5|H$%n9lOi^">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="y:dqNXq6FOQ-YJhJ/K}."><field name="frames">assets.animation`myAnim`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim16"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="%dJM|)3T;D@esbl9KlUt"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id=";oKt3EC:tM^5FpL#2]?4"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="ozz^K=[0g~akZy~IQjXN"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="BVZ[G|%k*z+1`nMSny0R"><value name="sprite"><block type="variables_get" id=":PB7$T=v{^d:,03W[uI+"><field name="VAR" id="ImN_pGZGS5|H$%n9lOi^">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="lC-S@3oKt|2G:r~~ht[H"><field name="frames">assets.animation`myAnim0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim17"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="_K!`:w`J24Po1%v?8m6@"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="}]I4!*d^D7.jMGa/vYvq"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="})6M8c6Ww-[#t?v~eb6!"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="function_definition" id=":`Z|2R_?Oj8rn[Hr[yco" x="20" y="4692"><mutation name="mode_attack" functionid="]8Rd;bYJW.q^q`7YR53{"></mutation><field name="function_name">mode_attack</field><comment pinned="false" h="80" w="160">--- Inicialización del Juego ---</comment><statement name="STACK"><block type="pxt_controls_for_of" id="`l:D*-@EH.]T(dY$/*K8"><comment pinned="false" h="80" w="160">⭐️ OPTIMIZACIÓN: Itera sobre TODOS los enemigos para que todos sigan al jugador</comment><value name="VAR"><block type="variables_get_reporter" id="+G$6!I{l!etQzkZ)]VYz"><mutation duplicateondrag="true"></mutation><field name="VAR" id="!qc6IX7+$i%uvT1~j{Id">un_enemigo</field></block></value><value name="LIST"><block type="allOfKind" id="G8cw7oeZc=C9s`dj.j=g"><value name="kind"><shadow type="spritekind" id="OgfKS;x5B)qb/NNyPW6q"><field name="MEMBER">Enemy</field></shadow></value></block></value><statement name="DO"><block type="spriteFollowOtherSprite" id="9h97e1k6E,SL]I=g/4AU"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="3un?SRYc/Mo+~?`14v1O"><field name="VAR" id="!qc6IX7+$i%uvT1~j{Id">un_enemigo</field></block></value><value name="target"><block type="variables_get" id="_4Kcp(xZEhkT7,igfCWt"><field name="VAR" id="q@za:v[p@yIcZYNIc=!Y">mySprite</field></block></value><value name="speed"><shadow type="math_number" id="l_5t(!M8:u:Q/1mY~{t:"><field name="NUM">100</field></shadow></value></block></statement></block></statement></block></xml>