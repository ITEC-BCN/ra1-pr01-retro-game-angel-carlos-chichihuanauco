<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="E0@x)8WvsDEYljTm.e}Z">un_enemigo</variable><variable id="(Dd7^L}aW4ctQZHESwk@">mySprite</variable><variable id="K#bPtkWAGU3^g73sZ(Q4">projectile</variable><variable id="gTQ_/7x6g{CUKa$Gu0N!">distancia_repulsion</variable><variable id="`OSNA-6riH)rtr1wRFQ(">npc_controles</variable><variable id="6+(fcAxng?EaMr[Sr0Ob">npc_historia</variable><variable id="]N4]}4FiT[hjZ?tuYY(?">delta_x</variable><variable id="WXmj6T4eS0KNnnyr(hVq">sprite_player</variable><variable id="6{JI!TN7skRE$Axc4`)(">delta_y</variable><variable id="^X/LT!r#7x9)c7)DLfMx">dodge_roll</variable><variable id="7/V#j84x{j]_vj]/{`Y.">POSICIONES_ENEMIGOS</variable><variable id="gl`Ob0trB_)S:/6I7(kn">pos_tile</variable><variable id="@8xK+r1K?-H,Q(ouf##c">nuevo_enemigo</variable><variable id="!wpNkHuV41Qv9E?^bEu_">x_coord</variable><variable id="hh:]sTm|6!6HUtGBOnV$">y_coord</variable><variable id="1dqkmjW?Vtdn3#J0zt_J">npc_tienda</variable><variable id="43A)?IVR#%)(a]:h[rCR">tp_lobby_sala</variable><variable id="vb{yQwsOsa[J{-i@eW{b">tp_sala_jefe</variable><variable type="KIND_SpriteKind" id="|KGIj$ClFj(jD*A,[7k.">npc</variable><variable type="KIND_SpriteKind" id=")IvN~Yi?3Qo%2pD{wU:?">Player</variable><variable type="KIND_SpriteKind" id="=?nK9DZVh~sT+/.je6[q">Projectile</variable><variable type="KIND_SpriteKind" id="XxWWkPP%:n]YnTz/[d0E">Food</variable><variable type="KIND_SpriteKind" id="A;W9~w,$osBrH4;3,NCm">Enemy</variable><variable type="KIND_SpriteKind" id="C$@/M6KT`dK~^+xSVeYs">bullet_poryectile</variable><variable type="KIND_SpriteKind" id="FB@OZZKpmJ`b@Baq`~oo">tp_sala</variable><variable type="KIND_SpriteKind" id="IYm`uHn8|2c,Vw4JdkG|">tp_jefe</variable></variables><block type="gameupdate" id="wv#2Y2OCc!n$PK3+A`_T" x="814" y="-112"><comment pinned="false" h="80" w="160">⭐️ Opcional: Implementar aquí la lógica de animación por dirección para los enemigos</comment></block><block type="keyonevent" id="oal|)Tc#Eo1sQiszAE3A" x="1023" y="-112"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="R:c1[RLr~$vi0{Av7*|2"><value name="sprite"><block type="variables_get" id="uV}/.UIUBeF[ocWX5D(J"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="I8rTa-[fGSR*lme*o:$w"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="H*Kg|KyAS0#LZl,/8AEt"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="ed2;v`L$1zBWTp5DS7vo" x="1547" y="-112"><field name="button">controller.B</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="!btqM(B$eY=1E%=rc}IN"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="uudA1mhgM)Hc6^ll6XG{"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="M)ItNTJx+0la*iSHGdj$"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="DfqX`Y!4R]P:A%[EwxQS"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="2$0k$1;RDEW6PK{]33#E"><value name="sprite"><block type="variables_get" id="s]6!5vZEyIo3CNt_7GV."><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="JE;H;bpo%*NNGy`KVo*j"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="};Y/mDY7D_CD?lH,}i:4"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="}[2a%]Ji73o~EhK7xk`U"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id=")qKpj|6;|sn2W:23L=TA"><value name="sprite"><block type="variables_get" id="H#TxfMq3#.a#[41ZrsIv"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=",~HqX]6-gg5;H#f|YM{x"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Zv)7ropa|=;uUC+G/Rfg"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="2N*AxLB7~k!.)F(6@lR."><field name="VAR" id="K#bPtkWAGU3^g73sZ(Q4">projectile</field><value name="VALUE"><shadow type="math_number" id="|Xf^G.#N2qj)QaQXq`$`"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="[|Q0$d91Ms^F^I_8j`d+"><value name="img"><shadow type="screen_image_picker" id="nc0|Sdl,~ww?Z-+gc/--"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="Gxu*D+|$)duRz98x13+z"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="#O[*{F5bj8EY}6HxIile"><field name="speed">200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="]JT/A$a64[!fZQMG#SLc"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="D}!9}ry.;R9P|TenQ276"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="}tW}A:b*O=EZP@xQwD!A"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="nJQZfO:ke{6/W9VndeoU"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="4U`$gz`j7$^hLAjdTSU4"><value name="sprite"><block type="variables_get" id="V|ZBNl^PF/4o0i;(de!V"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="JZ=|iQ/1]/YgTrp`5$#S"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="%TY*5SJ.eyG[LvUHB-;o"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="gKp[M5Nr*-(m/6WAloWs"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="3WO?Lo_~7hk`/EYzTwF3"><value name="sprite"><block type="variables_get" id="9?l+@K0qc5UKeIRG-0!G"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="yAZRgk^$~)#JRO%C-%H?"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="Ct`nf;D9Lt(1}=i7f-R!"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></value></block></value><statement name="DO1"><block type="variables_set" id=":Iy8D0P7aJ3(}ohqS=eW"><field name="VAR" id="K#bPtkWAGU3^g73sZ(Q4">projectile</field><value name="VALUE"><shadow type="math_number" id="qBu%9QG!7rc?vDpM!I.3"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="Gy[1-id9@}VCQ?uXDr66"><value name="img"><shadow type="screen_image_picker" id="NhAkC]rZkiS`,Sj|eV8O"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="}v!rl^nwj-.V/P[^uBIF"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="T[Sa_V0+dlqr1YIxH^Ff"><field name="speed">-200</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="T8h3FtfD-6^$Fq/D|u1M"><field name="speed">0</field></shadow></value></block></value></block></statement><value name="IF2"><shadow type="logic_boolean" id="6e@l!Di[44!1-KdE!Hq1"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="sfV(P5w6[3El|?7l2yjn"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="N}nQTCF2s@$J=x{-][J4"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="zEP,~6dTi0N-TO;3Cw59"><value name="sprite"><block type="variables_get" id="OJ]tQD,u$1WlWp6[hs$m"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="6/Q5~AJD$Qb#7cXAWKv@"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="(JVma#Lm,OO_EE%:dP}2"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="78-YJE!J7;MJxs=h=XRP"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="@V|O^j;TaO]3I,6MGbD}"><value name="sprite"><block type="variables_get" id="XT4]7Fj/~im[VDF;!]Ld"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="an@$40wr2B;gP?YwmvZ:"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="iqm6iQ2*?Peq?]LT$!lw"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></value></block></value><statement name="DO2"><block type="variables_set" id="W`.5_uz~BC@hhI)XbxX3"><field name="VAR" id="K#bPtkWAGU3^g73sZ(Q4">projectile</field><value name="VALUE"><shadow type="math_number" id="Vu{Z`B3`A]#]aDzg%-Ap"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="|rQVfSPaq3AvYe+rCEd4"><value name="img"><shadow type="screen_image_picker" id="s?:IAgC#T(Pa+R?MCcOu"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="l%utqtFVEUnF:1O#J:3d"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="J-|qA5O%xAf1#xD}bIUm"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="[Qn-s|uPgIxk7U/:3W77"><field name="speed">200</field></shadow></value></block></value></block></statement><value name="IF3"><shadow type="logic_boolean" id="]tF=FoGV6;#lj~tu:%3y"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="svO}`GI8pAb^ku]J0ZYx"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="K#8mVcFM:sEUUUdgzQ;u"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="Fe{|GHxZ)#Nw%LE08UyT"><value name="sprite"><block type="variables_get" id="2:@~8g}x=S.rt@0!?v!/"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="i|pyv7r3.g=d.s_)/46y"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="SD8,C`$[iV#Wus#=+{Ln"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="gfw4]Om)]!vKk9BU[cdq"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="tqAl}r7fDPhB3OzR3(m|"><value name="sprite"><block type="variables_get" id="@ms4aoL7xjnX|cJoc2(J"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="EbzI1!k!`~O9;=j6cd(v"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="ip;|a$Li~p*@Ux*EGtaJ"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></value></block></value><statement name="DO3"><block type="variables_set" id=";:yWYH[hQI6^Nlr@UB3P"><field name="VAR" id="K#bPtkWAGU3^g73sZ(Q4">projectile</field><value name="VALUE"><shadow type="math_number" id="x}uS*FTVrR9HW_xvdIt8"><field name="NUM">0</field></shadow><block type="spritescreateprojectilefromsprite" id="r!8;27_U~?1m67~@X^C{"><value name="img"><shadow type="screen_image_picker" id="Yqk`:5zOe~E*1IwN=8)q"><field name="img">assets.image`bullet_initial`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.-ke!GZ#c6z"}}</data></shadow></value><value name="sprite"><block type="variables_get" id="m:k6sAXy74{nMx(zJ#Gm"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="vx"><shadow type="spriteSpeedPicker" id="xIS|tC;7c66x?.6olY7%"><field name="speed">0</field></shadow></value><value name="vy"><shadow type="spriteSpeedPicker" id="RRyD}t+g0ANN}!!0Ym~x"><field name="speed">-200</field></shadow></value></block></value></block></statement></block></statement></block><block type="pxt-on-start" id="I28ovg|VlPes/7+1iooC" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="szsBek!Hzx|pqjFdZ9{!"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let distancia_repulsion = 0" numlines="1" declaredvars="distancia_repulsion"></mutation><next><block type="variables_set" id="H]pZPSJi7G6XLAvkYkDv"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field><value name="VALUE"><shadow type="math_number" id="adAwJjHUR[4{oo3#277D"><field name="NUM">0</field></shadow><block type="spritescreate" id="Ho]xRvc)auMd.0Q7?@,*"><value name="img"><shadow type="screen_image_picker" id="|m$+z3)E`~L2#jpbr0|,"><field name="img">assets.image`myImage`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image1"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="!=dp*-$NhXB03{D$+B35"><field name="MEMBER">Player</field></shadow></value></block></value><next><block type="variables_set" id="=;|4jU;_c(_/bg_nJgip"><field name="VAR" id="`OSNA-6riH)rtr1wRFQ(">npc_controles</field><value name="VALUE"><shadow type="math_number" id="GZ68`azqJ^Ew-G(bXuc="><field name="NUM">0</field></shadow><block type="spritescreate" id="vwwE5{F/{2i,1*x,W[N^"><value name="img"><shadow type="screen_image_picker" id="DpLc!,hKA*n#6.o3+G93"><field name="img">assets.image`cultist_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image8"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="N738ognYk)#,.?im[hCr"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="D~Xnz[4]*500p@ZH_YE;"><field name="VAR" id="43A)?IVR#%)(a]:h[rCR">tp_lobby_sala</field><value name="VALUE"><shadow type="math_number" id="GZ68`azqJ^Ew-G(bXuc="><field name="NUM">0</field></shadow><block type="spritescreate" id="W=4c}gqa=(eIwV+2L%_("><value name="img"><shadow type="screen_image_picker" id="~6n*]a!n?F7ECo1]M%Bq"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="WH#9/`s^X0gWVMY+sw,O"><field name="MEMBER">tp_sala</field></shadow></value></block></value><next><block type="variables_set" id="-J9j0!.^z,9Rt:wU0BTP"><field name="VAR" id="vb{yQwsOsa[J{-i@eW{b">tp_sala_jefe</field><value name="VALUE"><shadow type="math_number" id="GZ68`azqJ^Ew-G(bXuc="><field name="NUM">0</field></shadow><block type="spritescreate" id="xM_FIA6_}^eo-XMEq|e%"><value name="img"><shadow type="screen_image_picker" id="/Jn.mbbkR5AaCGjgq$n~"><field name="img">img`
. . . . . 5 . 5 . 5 . . . . . . 
. . . . . . 5 5 5 . . . . . . . 
. . . . . 5 5 . 5 5 . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="E~$N?(Q^lEqVc?mE;TaW"><field name="MEMBER">tp_jefe</field></shadow></value></block></value><next><block type="variables_set" id="4QP@DZj3X[_l}B^u[Q(_"><field name="VAR" id="6+(fcAxng?EaMr[Sr0Ob">npc_historia</field><value name="VALUE"><shadow type="math_number" id="p-OVQZ)VpO#MvHna?Qlk"><field name="NUM">0</field></shadow><block type="spritescreate" id="@bth7No`-Mq8$rgW#TN["><value name="img"><shadow type="screen_image_picker" id="4QIaf|a7T9*^;Ne~@DKs"><field name="img">assets.image`bullet_npc`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image7"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="GG8yh~_O6jNsFel11S.f"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="variables_set" id="X;U0]7K2;SEEZvPJ)LnS"><field name="VAR" id="1dqkmjW?Vtdn3#J0zt_J">npc_tienda</field><value name="VALUE"><shadow type="math_number" id="?;kl8Beh/7[y,/hOrvMJ"><field name="NUM">0</field></shadow><block type="spritescreate" id="lIm_?DhN({h[q*K{FCuv"><value name="img"><shadow type="screen_image_picker" id="SLwV2t}.B?eyJ)3L6!?h"><field name="img">assets.image`dallas_shoper`</field><data>{"commentRefs":[],"fieldData":{"img":"myImages.image9"}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="SP|u=3Rh$X^ai6J-kciA"><field name="MEMBER">npc</field></shadow></value></block></value><next><block type="spritesetpos" id="1r^j^+z6e:nJ@pi_|htD"><value name="sprite"><block type="variables_get" id="}7BuKRg~*k(T5tCzS=Q7"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="jrW$D#;fWAM2j=a-lZ`u"><field name="index">335</field></shadow></value><value name="y"><shadow type="positionPicker" id="=kSv[:@q743[v,~P^B{6"><field name="index">316</field></shadow></value><next><block type="spritesetpos" id="ZB@9YR,-Z995VR[K2@y-"><value name="sprite"><block type="variables_get" id="T?H${JsG2(sO)~nT#=9W"><field name="VAR" id="`OSNA-6riH)rtr1wRFQ(">npc_controles</field></block></value><value name="x"><shadow type="positionPicker" id="[[V!jcYQO3$0K;3_k:~-"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id=")G1s+7Y!sS//:^+.rj)b"><field name="index">270</field></shadow></value><next><block type="spritesetpos" id="#8[WgMJo[Kr0}pR+5IBf"><value name="sprite"><block type="variables_get" id="1~A_$7sHaup~L;G,8!uc"><field name="VAR" id="43A)?IVR#%)(a]:h[rCR">tp_lobby_sala</field></block></value><value name="x"><shadow type="positionPicker" id=":J1Erp!M)IC:X`8AG/_R"><field name="index">330</field></shadow></value><value name="y"><shadow type="positionPicker" id="/lvV(Ad`~bpui#t^!xN6"><field name="index">360</field></shadow></value><next><block type="spritesetpos" id="UcM;(9C0#sPLd|5wnwf5"><value name="sprite"><block type="variables_get" id="?j`3H$hOxPtIi!-^cD~v"><field name="VAR" id="vb{yQwsOsa[J{-i@eW{b">tp_sala_jefe</field></block></value><value name="x"><shadow type="positionPicker" id="ex.L-Z54W;Jp+/-}pa^*"><field name="index">0</field></shadow></value><value name="y"><shadow type="positionPicker" id="0S(p(RYxao@ng+T8pi%4"><field name="index">0</field></shadow></value><next><block type="spritesetpos" id="^/.%mo9{~V+QA`wZ^@M%"><value name="sprite"><block type="variables_get" id="vo?6^v;He6F9A.vrI:HA"><field name="VAR" id="6+(fcAxng?EaMr[Sr0Ob">npc_historia</field></block></value><value name="x"><shadow type="positionPicker" id="O7Srx%,%9Vit2~P*I`k]"><field name="index">390</field></shadow></value><value name="y"><shadow type="positionPicker" id="m2=-fQt`*#B#`s.rj(+r"><field name="index">330</field></shadow></value><next><block type="arcade_character_loop_frames" id="nlVOh5|2={-+IJzKR{AP"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="~cCd}?Dg52/w|Dr1O}al"><field name="VAR" id="`OSNA-6riH)rtr1wRFQ(">npc_controles</field></block></value><value name="frames"><shadow type="animation_editor" id="MD%^s[|?^5@K?JtU}0OF"><field name="frames">assets.animation`cultistAnimation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim13"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="@D|i#nZ)]F=u%~Sghd$`"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="@aOG`snUq{Q$*=[w:]$:"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="46zU!d.9FlKNmg:g|x%G"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id=":.K_U_,OmVd_^Jk_r=fN"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="^xV28|dkPZmn_uxko|dt"><field name="VAR" id="6+(fcAxng?EaMr[Sr0Ob">npc_historia</field></block></value><value name="frames"><shadow type="animation_editor" id="N~)Ku,W.mp2JT4Z676Tt"><field name="frames">assets.animation`Bullet_NPC_Animation`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim15"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="mA!OUAN:hNWrvwM)J(Mi"><field name="ms">400</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="U[b$5J@hN6lM|bCw{({M"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="?d/d1rB!z}RRoz`O5TEf"><field name="predicate">Predicate.NotMoving</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="dL67rydEZZi=9f@vw:aB"><comment pinned="false" h="80" w="160">Establecer velocidad máxima
Configuración de animaciones del jugador... (se mantiene igual)</comment><value name="sprite"><block type="variables_get" id="]X6cMq@*WDze[`Zm]Ae^"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="D/n)7Fz{}{EooDIJY[Wm"><field name="frames">assets.animation`run_front_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim5"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="WFFwF^(xR1gcGC6*Q(Bo"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="Z$+0$,f.Du84}@,N(Mlu"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="]|kx:uD~Gado))KV60$g"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="i%9=IRQ$:4vU(``FEB-t"><value name="sprite"><block type="variables_get" id="(IV]co-U0K`7C?+zS3HJ"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="+yq)Q.p5-}-W~.9h#$-p"><field name="frames">assets.animation`run_back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim8"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="o?^%?)^m53^0uHVpS,ba"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="{C/9yh5bg}.=5^8:NKjA"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="lXMni%6Gc/)]FJfSchK~"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="#dKV%MP4KUa(#v6zxKYX"><value name="sprite"><block type="variables_get" id="A$|R{As#e-Gjy~qIzpw5"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="+/]qEA]6SH[;z-eNBv;+"><field name="frames">assets.animation`run_right_pilot0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim7"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="$5[SSdDeBpr#[aX9%%3."><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="ssE0v(`A7+1Z~Ku6)T.!"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="*9j4r;f{9;EpaGKfAbBg"><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="+Ni2zHj(eltQ@*KF]qAB"><value name="sprite"><block type="variables_get" id="#l!o1J8.3T$A@F]kBJ:s"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="E^2[;|*Z-LdWS#A-.5-O"><field name="frames">assets.animation`run_right_pilot`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim6"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="1/hkEoMjo:Lyiiq30xD]"><field name="ms">120</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id=":fU_@Gki`ID.4Uw|Mow%"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=":Z/|b?zX+@,W9gHDk^/R"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="9G%bT-i(JY*XPs(=.O`_"><value name="sprite"><block type="variables_get" id="!c~*HxarcDS2`m*BJ~~A"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="rAUAM2boFA2Yr6yf.%yP"><field name="frames">assets.animation`still_down`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim1"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="sKZJ4~nHBs5Q-4930:T}"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="-^OZ$F%}x@75An@gwxY!"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="M{-zt~}`x~k@3kU`G]p:"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="9;?IHK2RcA/]7(-qX)K4"><value name="sprite"><block type="variables_get" id="NeF9J{(JQ$Brf|_4_{HG"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="cAvYx))Sqca5/:|3SK|N"><field name="frames">assets.animation`side_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim2"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Qq[Ak]W?xFSWHJFah;hP"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="cCvdrne~@8Z:jA6lkQsw"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="gHWL8WQ7F5]uPdmzeB_+"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="?-u6NNB:qB0-p@Vsmk!c"><value name="sprite"><block type="variables_get" id="7E)S?UOsk2Xn4LRY+8@."><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="3^eK3`27igb?T,l^Pi+M"><field name="frames">assets.animation`side_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim3"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="(GP)oB/iMR#byL)-TY`a"><field name="ms">220</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="lP]?k#lMyqms%9Hg%~|5"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="oT?F%furr{0cam(=%csa"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="p!=#`=x][*c@|2bD;gPg"><value name="sprite"><block type="variables_get" id="o^x9X-s|f1/iiodf,+*x"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="y$)5qWA(nroTJ44$r{CB"><field name="frames">assets.animation`back_player`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim4"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="-NYX?0SgR${+i@ciCVVL"><field name="ms">300</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="34T~UAW/l`eBC^?1qUvH"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="g%a?*UX3!,UYoRmK+Fh9"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value><next><block type="function_call" id="{GG;0Ry4foJ`~9JzXCw2"><mutation name="spawn_enemis_multiple" functionid="ouuLeJRPa)ffNU{pS!Xu"></mutation><comment pinned="false" h="80" w="160">⭐️ LLAMAR A LA NUEVA FUNCIÓN DE SPAWN</comment><next><block type="game_control_sprite" id=":pZM/JFtD2oCZ_V6KR~l"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="qv-?,8M?K6uDU(YS_{Ku"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><next><block type="camerafollow" id="M7P|I5kM;YRLxk{wOrWx"><value name="sprite"><block type="variables_get" id="tK]%8x3(LLX/S`e/?3*E"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><next><block type="set_current_tilemap" id="maVc98wA58?Vq(`[f=R|"><value name="tilemap"><shadow type="tiles_tilemap_editor" id="=|3WOMbf@Rx@v$q+Hwib"><field name="tilemap">tilemap`first_dungeon`</field><data>{"commentRefs":[],"fieldData":{"tilemap":"lobby1"}}</data></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="keyonevent" id="N.W1L/nR~aSW[ojoD{dl" x="2624" y="-112"><field name="button">controller.A</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_enabled" id="(^0vU,ge(x.4N3@]=3x="><value name="sprite"><block type="variables_get" id="ffAbN=CLXq4l=YK9i[Wk"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="5Y!@txR+^.]4c7%bccP="><field name="BOOL">FALSE</field></shadow></value><next><block type="controls_if" id="iaJJ%~B(:_WH==@!?-zS"><mutation elseif="3"></mutation><value name="IF0"><shadow type="logic_boolean" id="WcS^y!,^S]EQlC`TB,BU"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="8T%MhD:XKCG.O[5PtqSi"><value name="sprite"><block type="variables_get" id="]Q|/k{?nG+@s~o]^M)P~"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="!x84In+Z8LUUnsCG_ItJ"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="us@%VA5?^39)YKJOx0@;"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></value><statement name="DO0"><block type="run_image_animation" id=".b(EBxEI(;f(m}r}U@wU"><value name="sprite"><block type="variables_get" id="x}$n6(@jrdxu,)}d84di"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="m`y$@N*:+B5e)R,14Leo"><field name="frames">assets.animation`dodge_roll_rigth`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim10"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="d[egbY*?Nm@TlsBlTU`_"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="ht)Gc{%i*:(EN#M-k`Kp"><field name="on">false</field></shadow></value><next><block type="device_pause" id="XlDBA~aws(bX=~~*z/Mr"><value name="pause"><shadow type="timePicker" id=",}j}W6{n:@eQsjC_^yyI"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="a#%kctk#v!-kuR1BgZZ!"><field name="VAR" id="^X/LT!r#7x9)c7)DLfMx">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="yKLMq5.IIV(]/fRx!k||"><field name="NUM">0</field></shadow><block type="logic_boolean" id="A`lG@hrZ`YX9(|aiw4*#"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="m3/5TU=TQy[Q8c[W:!kK"><value name="sprite"><block type="variables_get" id="|/2p`GuI[vyX!,:SIc16"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="@yy26JY14)z(tDN:x8U1"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="NwKmr#Ps/xKX%o.04Cmt"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="q*#nIl^FORIhhvjm/#4e"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="KudF)m10E$SGUA`M^7BY"><value name="sprite"><block type="variables_get" id="Jo$RhXW-Q^XgrC[KR#F="><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="NMAp,A}yzGT1hcbtj-8*"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="5vgj`~-M8^R;MSW[6%@E"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></value><statement name="DO1"><block type="run_image_animation" id="PI47`BNUF2|`jB=u-q1u"><value name="sprite"><block type="variables_get" id="iw{.AwAxVRzlAR.HXVKt"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="sswu1m-37ptjrTk*%Eb`"><field name="frames">assets.animation`dodge_roll_left`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim12"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="ddmyXvPaj0c9BY,b1`6-"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="a/!^aDFy}DwkC%DgjJ`F"><field name="on">false</field></shadow></value><next><block type="device_pause" id="*@YFHlmQj0.3ixA]`$|i"><value name="pause"><shadow type="timePicker" id="6/PGs*b9m=j2C;}P?au:"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="V`dU%kDuqo41qx(Oq/pG"><field name="VAR" id="^X/LT!r#7x9)c7)DLfMx">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="pVFCVKcO7Nr%d2B_CRN7"><field name="NUM">0</field></shadow><block type="logic_boolean" id="|gKyym#M-?c:;cvV#)NH"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="qdHlT{VZ~^`zMA3%U:/-"><value name="sprite"><block type="variables_get" id="j-b9(e!~wUB;PYR^?^*!"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="Dx7J3lR15919RXuS~HOM"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="4#im6h-5qV2)ASzR`V~["><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF2"><shadow type="logic_boolean" id="3bK1mzEltCl~CEZN/_sm"><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="f}lLk][X_/4N~guFidFG"><value name="sprite"><block type="variables_get" id="bZ0A_[i7}^+$/OY_GQ;{"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="1=^oU71eOI~Ja4j03]bN"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=";N{NlCaQgtooI%O6iI^:"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></value><statement name="DO2"><block type="run_image_animation" id="5XX#MgErZyD*cz;]r;M)"><value name="sprite"><block type="variables_get" id="!Jrud5;`0zS5X},$@PD?"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="4=K+2=V|w@h(hJm:j1c0"><field name="frames">assets.animation`dodge_roll_front`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim9"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="bjL{:KsA|C.}i.*-wLI:"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="Q}3?ljPVd9[=~q=mCCkW"><field name="on">false</field></shadow></value><next><block type="device_pause" id="^,)}!8]Y4j%vtYP=t@i="><value name="pause"><shadow type="timePicker" id="tdW@/u=8PfDzotj}qXMm"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="L),9`xzy,Yd5@%nxFbp6"><field name="VAR" id="^X/LT!r#7x9)c7)DLfMx">dodge_roll</field><value name="VALUE"><shadow type="math_number" id=".0L]0%6nz+i~B)[QdsAg"><field name="NUM">0</field></shadow><block type="logic_boolean" id="V^HmETz6ltKzLXFm=aEf"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="yh8NDag|:@yne?XrD`gC"><value name="sprite"><block type="variables_get" id="cd^OSJg{,v$ir0,YR,D8"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="DzH+n7tbFG,OP$16hVXw"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="JIO6s{wP{FhziL{Rx~I0"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><value name="IF3"><shadow type="logic_boolean" id="`=^5G^v5l`Js?#})6cE="><field name="BOOL">TRUE</field></shadow><block type="arcade_character_is_facing" id="GX;BI[WJU$4vBKy)~=5k"><value name="sprite"><block type="variables_get" id="h?;NSy(@#pp)aJspoK6K"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="ymi8!FkReV_FMul9{O6V"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="7%JJu?,K~ZWW.rtcSGMb"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></value><statement name="DO3"><block type="run_image_animation" id="6w%/nZi22%c3O;=0]WN-"><value name="sprite"><block type="variables_get" id="*(Z#M);haypM2CW1Z76H"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="frames"><shadow type="animation_editor" id="UiRP6qL~F$F|3B*SyN6n"><field name="frames">assets.animation`dodge_roll_back`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim11"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="o,k^gFaL:.?,Y+/ph5}!"><field name="ms">80</field></shadow></value><value name="loop"><shadow type="toggleOnOff" id="[]tCS@BFViwK,DQJtK4S"><field name="on">false</field></shadow></value><next><block type="device_pause" id="TY6La]@zW]vf1+@WyW1r"><value name="pause"><shadow type="timePicker" id="mXAIp`og+C%,Bs03vvfA"><field name="ms">650</field></shadow></value><next><block type="variables_set" id="*OXMxnDPDW7P{xS~=Q6f"><field name="VAR" id="^X/LT!r#7x9)c7)DLfMx">dodge_roll</field><value name="VALUE"><shadow type="math_number" id="3`ANb7VC[w;1UC?nP/fn"><field name="NUM">0</field></shadow><block type="logic_boolean" id="!1*1n5c%TdZ_1$@FnyK`"><field name="BOOL">FALSE</field></block></value><next><block type="arcade_character_animation_set_state" id="3$UB!:X`d3()O,lq8VXL"><value name="sprite"><block type="variables_get" id="iefg-8f!(5Iml*]Yw(ah"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="K6AJtmgwcNn$lpkORdpk"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="BjY.l:zUN}u@]Zz@%si%"><field name="predicate">Predicate.MovingUp</field></shadow></value></shadow></value></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="FGSAS}A2OVKXUk79*0M{"><value name="IF0"><shadow type="logic_boolean" id="*wRIp]BRX2,URsq9/A=*"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id=",[Pw7MW`q|A*E;n{DoL!"><value name="BOOL"><shadow type="logic_boolean" id="rDc)n^Miea:st(CaDY_e"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="BE%UgbqirvmT_X#j6#|B"><field name="VAR" id="^X/LT!r#7x9)c7)DLfMx">dodge_roll</field></block></value></block></value><statement name="DO0"><block type="arcade_character_animation_enabled" id="aOecItof#z.d}Zj*b%IT"><value name="sprite"><block type="variables_get" id="H30fKM+(k*_/Cf}17R$4"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="enabled"><shadow type="logic_boolean" id="pBLcp`cs|.|YV`8+bU=%"><field name="BOOL">TRUE</field></shadow></value></block></statement></block></next></block></next></block></statement></block><block type="keyonevent" id="fe-yF4CAs2HAo#x5y:G]" x="3230" y="-112"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Released</field><comment pinned="false" h="80" w="160">Funciones de released (Optimizadas en la respuesta anterior)</comment><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="h,Ee%|PmC4YyTZM`$w;Y"><value name="sprite"><block type="variables_get" id="8b(6n.tFd0AQZ{:s2%+8"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=".-~}XNoJ1{OZ.BA2A-2)"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="CeD%cin!NVI7dGu/q=`g"><field name="predicate">Predicate.FacingDown</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="w*a9mj73d**1dgLdxoil" x="3772" y="-112"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="w.%Xdaj{N1pS^Yg5*#}N"><value name="sprite"><block type="variables_get" id="lC0u?QlM$.A9p,azusW7"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="@HCKFO%RH)c@3[*(?S51"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="|y3:{}?QKY[X*6cZq_y|"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="$..iSjpzJ9i;j@n;#WrB" x="4314" y="-112"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="s:dQV2h%W]0|;:dUS_(f"><value name="sprite"><block type="variables_get" id="6;g[Tpf2-~~lVS4$19)?"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id=";2,;Frvpf_54`Y@#9lgJ"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="2,i`B6UF%A5HgJle1Hw{"><field name="predicate">Predicate.MovingLeft</field></shadow></value></shadow></value></block></statement></block><block type="function_definition" id="[yvV)u-qrh2m8xc13KvE" x="657" y="147"><mutation name="cordenadas_sala1" functionid="qvR;c^I%aiCr(Pd8iY{~"></mutation><field name="function_name">cordenadas_sala1</field><statement name="STACK"><block type="variables_set" id="93:1=:6z9mBU*Ti7i7J5"><field name="VAR" id="7/V#j84x{j]_vj]/{`Y.">POSICIONES_ENEMIGOS</field><value name="VALUE"><shadow type="math_number" id="Ll,AX6~k#12-x8FwHn{u"><field name="NUM">0</field></shadow><block type="lists_create_with" id="Xq0iso.uR0Z.I^v:s[tW" inline="false"><mutation items="4" horizontalafter="3"></mutation><value name="ADD0"><block type="lists_create_with" id="9b6C%fD2`]OV}+bt@7w)"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="*CH$WJ/j]h;1S]==m+Zh"><field name="NUM">2200</field></shadow></value><value name="ADD1"><shadow type="math_number" id="Tshe!J=}v9,+GcblVVr^"><field name="NUM">2516</field></shadow></value></block></value><value name="ADD1"><block type="lists_create_with" id="*JIZD;fM)%:mj=IYRr[^"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="w@}z~FxWVu`[xu[jS=94"><field name="NUM">1783</field></shadow></value><value name="ADD1"><shadow type="math_number" id="tlFosR,{2lS[LLUD[UhK"><field name="NUM">2880</field></shadow></value></block></value><value name="ADD2"><block type="lists_create_with" id="agp(zO0SXS%TXBo1vZq@"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="TbjsZSM@,sf#jn8FC1,~"><field name="NUM">1976</field></shadow></value><value name="ADD1"><shadow type="math_number" id=")t|U}PAvld6=tjIVeF%d"><field name="NUM">2815</field></shadow></value></block></value><value name="ADD3"><block type="lists_create_with" id="+egGK-J:Z4=)Y0@LmS,N"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="|dbHx^1#9f[`Q^yb828j"><field name="NUM">1476</field></shadow></value><value name="ADD1"><shadow type="math_number" id="3bcO$uC,.9tc@TZTmTZm"><field name="NUM">2525</field></shadow></value></block></value></block></value></block></statement></block><block type="spritesoverlap" id="V9H2lg!L5YWTNLgmUrb4" x="652" y="636"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="!vwD*M5X;nd~/XyH3@nQ"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite</field></block></value><value name="kind"><shadow type="spritekind" id="y=.k1zv?BmQET5s}0n4$"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="UB#Cm5pvtMw83rU@GHx!"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="zYkE$`r1FK|ySexSY0KZ"><field name="MEMBER">tp_sala</field></shadow></value><statement name="HANDLER"><block type="spritesetpos" id="|sFYyck^#A%,lI#rK.7l"><value name="sprite"><block type="variables_get" id="eXLX}:||5h==ba+l;yN?"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="aeybt3jO$(TiQfBb4tL9"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="s,*O:Tq3A`J~[a]+E@?S"><field name="index">2782</field></shadow></value></block></statement></block><block type="spritesoverlap" id="gtHvM.zx_!UzJI^*bxVF" x="649" y="816"><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="X8hp_4.kt?((B4v|$`eF"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite</field></block></value><value name="kind"><shadow type="spritekind" id="Z]i+Jvb54sjl;Ph75tWx"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="$81=s^L/W51sWpr{QJhB"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="/,=2CY6T9T#dfHig0NgO"><field name="MEMBER">tp_jefe</field></shadow></value><statement name="HANDLER"><block type="spritesetpos" id="08~.W4V;1guF?oOBML}*"><value name="sprite"><block type="variables_get" id="$@nhG;z79/$kA1F5,xe5"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="x"><shadow type="positionPicker" id="ct|qKES),bzZd;*YA(0y"><field name="index">2573</field></shadow></value><value name="y"><shadow type="positionPicker" id="(mLm+u9b^7Wo3kKw5?5)"><field name="index">2782</field></shadow></value></block></statement></block><block type="keyonevent" id="T({{Wes4+8{{[dw%NvkY" x="-125" y="2899"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="3w{#W5%F/(1+B6p~TW4x"><value name="sprite"><block type="variables_get" id="A0Z4];[?qK,92u3O)%35"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="q4-[i1MRb{MJ++JsA9VR"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=".y%BH5.#)Y^(Ie!TR2v="><field name="predicate">Predicate.MovingRight</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id=")yhX0oxX1+-X5`;]!JjH" x="426" y="2899"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="j`:ur~puh)~)[LK4=V@I"><value name="sprite"><block type="variables_get" id="oFPN4Nj0,dB~KI7vP(.%"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="G.:kPSvve?gdCJ:2YLXW"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="LYnCRuw.=)P[Z3^?7XV3"><field name="predicate">Predicate.FacingUp</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="F,:9G{;(nun-.0sZ0?b|" x="950" y="2899"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="4gXnj{]^FkGgkVuOM#+2"><value name="sprite"><block type="variables_get" id="/f-NR/5fsD4RUBzZTG)^"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="T/kE@rN|6=X0!UJQyV2}"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="k{u7LW}LAf#K}6,^C56E"><field name="predicate">Predicate.MovingDown</field></shadow></value></shadow></value></block></statement></block><block type="keyonevent" id="R`R]9}m@[5AzTd[#0+be" x="1491" y="2899"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Released</field><statement name="HANDLER"><block type="arcade_character_animation_set_state" id="W.]Y1dnOr-y83$4cl_N~"><value name="sprite"><block type="variables_get" id="{.YcyKXd-g7qjn)JB:mx"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="rule"><shadow type="arcade_character_make_rule" id="]Z[UDv/=SVSOFh(*X.`/"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id=".g58X/4HNeX(DZ=x^g;q"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></statement></block><block type="spritesoverlap" id="2O0~-4S_p6Hcy!5mS[;w" x="2042" y="2899"><comment pinned="false" h="80" w="160">Nota: Asegúrate de que los sprites 'npc_controles' y 'npc_historia' estén definidos.</comment><value name="HANDLER_DRAG_PARAM_sprite"><block type="argument_reporter_custom" id="S!-iA|f5#n~yxcDQaM*v"><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">sprite_player</field></block></value><value name="kind"><shadow type="spritekind" id="P@Hae~s0KxJh`zTYiBoe"><field name="MEMBER">Player</field></shadow></value><value name="HANDLER_DRAG_PARAM_otherSprite"><block type="argument_reporter_custom" id="XT0]*/ND2VFX,kOj@yI."><mutation duplicateondrag="true" typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="otherKind"><shadow type="spritekind" id="TOfya}93[zTk-pH]a^L0"><field name="MEMBER">npc</field></shadow></value><statement name="HANDLER"><block type="typescript_statement" id="}=7}9;TwCzcA@DC%`+]}"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_x: number;" numlines="1" declaredvars="delta_x"></mutation><next><block type="typescript_statement" id="d]hqFUaMok_LA1?m2u?E"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let delta_y: number;" numlines="1" declaredvars="delta_y"></mutation><next><block type="variables_set" id="2zu@V/}qP+ll^Q%3MX$4"><field name="VAR" id="gTQ_/7x6g{CUKa$Gu0N!">distancia_repulsion</field><comment pinned="false" h="80" w="160">Definimos la distancia de repulsión (ajustable)</comment><value name="VALUE"><shadow type="math_number" id=".g8[=KeGK_wT!{V3_9w0"><field name="NUM">10</field></shadow></value><next><block type="controls_if" id="U`Z.:J;z@8IqT~U+;Ik1"><comment pinned="false" h="80" w="160">Un pequeño empujón es suficiente para romper el solapamiento.
Verificamos si la colisión es con cualquiera de los NPCs</comment><value name="IF0"><shadow type="logic_boolean" id=",z_F0|vn60pnZy[;mOHd"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="sf*wjAJ+XI6fYlm?k%^1"><field name="OP">OR</field><value name="A"><shadow type="logic_boolean" id="*TQMVFi5%!BD[DIjDsP?"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Ae[uIy?G?V,xq)pvDzH$"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="!Z2]zV!kN+qL}QR3d-xu"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="m{i!}[I(7=XZQt)vsh-)"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="Uo$j}.GcgEHWxtOB;#j:"><field name="NUM">0</field></shadow><block type="variables_get" id="uwn@$IEK$=(:GD1bRD(V"><field name="VAR" id="`OSNA-6riH)rtr1wRFQ(">npc_controles</field></block></value></block></value><value name="B"><shadow type="logic_boolean" id="LrGgL[tJ+14^k(mWTY2z"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="V:ngvPYV7F7kMj]0!|og"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="+FM/bd:.l@-R*{@DiIJ5"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="B5+{d`YdI{D6j^YV*)`f"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="`:YsuCAkn_`/`+B4YjRB"><field name="NUM">0</field></shadow><block type="variables_get" id="N_Yv0Zl?:T%bt3n0cU-V"><field name="VAR" id="6+(fcAxng?EaMr[Sr0Ob">npc_historia</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="ox86yvxV4763fkw4,$dx"><field name="VAR" id="]N4]}4FiT[hjZ?tuYY(?">delta_x</field><comment pinned="false" h="80" w="160">⭐️ Lógica de Repulsión ⭐️
Calcular la diferencia entre las posiciones</comment><value name="VALUE"><shadow type="math_number" id="cov??g_Ufi%D~Iwp$K^V"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="7V8i?]{hV9ieLz[4BpaY"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="M]l!_ABkQ-5oM|w=1I3)"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="5-;bygKtvBRNj!9YsqB/"><field name="property">Sprite.x</field><value name="mySprite"><block type="variables_get" id="q,JNkv{k,92y46xbfqv;"><field name="VAR" id="WXmj6T4eS0KNnnyr(hVq">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="Zo70cXHLz_zC#/?-asi|"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="T~;,C#,Etwmf!*rWpl^-"><field name="property">Sprite.x</field><value name="mySprite"><block type="argument_reporter_custom" id="_|zyWLIp.HdCL4sLqove"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="variables_set" id="!z.YgF#b$OHn5bB16a[P"><field name="VAR" id="6{JI!TN7skRE$Axc4`)(">delta_y</field><value name="VALUE"><shadow type="math_number" id="FBEf2%t^lE;;kSt]h2Bq"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="#+,|FPRt4,7gl,%mHZ?j"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="pqWzt.fwyu^r;cn%.tT|"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="4TKrKqRN{AjdVnEc}YSA"><field name="property">Sprite.y</field><value name="mySprite"><block type="variables_get" id="@}:LYY5HteJa-6LpnO){"><field name="VAR" id="WXmj6T4eS0KNnnyr(hVq">sprite_player</field></block></value></block></value><value name="B"><shadow type="math_number" id="?!x8k#A#QM8VU/b:Reg,"><field name="NUM">0</field></shadow><block type="Sprite_blockCombine_get" id="yww1=6X4ee]Tj[?fc55H"><field name="property">Sprite.y</field><value name="mySprite"><block type="argument_reporter_custom" id="Dl(1f6o%qJ|F0b@0InT."><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value></block></value></block></value><next><block type="controls_if" id="usrr%2.lMCA1e;UM*CYF"><mutation elseif="1" else="1"></mutation><comment pinned="false" h="80" w="160">Repulsión Horizontal (Si la diferencia es significativa)</comment><value name="IF0"><shadow type="logic_boolean" id="Zvf.eD3+4evnXC}/x[xA"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="7ge/I*OYsGRd3W5x47H?"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="FQciE5%sq.=iq!!@xInS"><field name="NUM">0</field></shadow><block type="math_op3" id=":![MKLL{Y9]@yt-,y7(m"><value name="x"><block type="variables_get" id="K78y,ZzwLrX/dX~[w8+I"><field name="VAR" id="]N4]}4FiT[hjZ?tuYY(?">delta_x</field></block></value></block></value><value name="B"><shadow type="math_number" id="]w[r9_2F|gNJBrNxaNJL"><field name="NUM">0</field></shadow><block type="math_op3" id="U~SZ|s}If=u|e6E[Wo9-"><value name="x"><block type="variables_get" id="RLeaF$GTjN;mxF6#.rep"><field name="VAR" id="6{JI!TN7skRE$Axc4`)(">delta_y</field></block></value></block></value></block></value><statement name="DO0"><block type="controls_if" id="5#X)qy5[SKHvp}y9ga$V"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id=":O-cno4*..SBc%a;r%ER"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="AY{4cS0u.i,)ECt/F9s-"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="j2+1Ew*n:B@B@l#~MFu~"><field name="NUM">0</field></shadow><block type="variables_get" id=")]@E^zl?wfg$;q~rFeY="><field name="VAR" id="]N4]}4FiT[hjZ?tuYY(?">delta_x</field></block></value><value name="B"><shadow type="math_number" id="I#(6!22y9Rh`OQKvB)P="><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="Sprite_blockCombine_change" id="!G}`Q`E#%dPTRKu4d%7:"><field name="property">Sprite.x@set</field><comment pinned="false" h="80" w="160">Jugador a la derecha del NPC, lo empuja más a la derecha</comment><value name="mySprite"><block type="variables_get" id="+lVyoT5P]*e9zOqiee`r"><field name="VAR" id="WXmj6T4eS0KNnnyr(hVq">sprite_player</field></block></value><value name="value"><block type="variables_get" id="(LWpONyq$i,XPta__vCF"><field name="VAR" id="gTQ_/7x6g{CUKa$Gu0N!">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="JHowu-SX%!zWi)~(VBYA"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.x -= distancia_repulsion" numlines="1"></mutation></block></statement></block></statement><value name="IF1"><shadow type="logic_boolean" id="I9p@KgP]LK/7Wn{+q5[#"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?@~}BLVWg;-.[VQ)F:%r"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="F$QXEH`SXUQ,uYC!L8|8"><field name="NUM">0</field></shadow><block type="variables_get" id="rhlJ%og{5A3%xP$#*O~T"><field name="VAR" id="6{JI!TN7skRE$Axc4`)(">delta_y</field></block></value><value name="B"><shadow type="math_number" id="`nRGeGGVMY3CM~h9#lj4"><field name="NUM">0</field></shadow></value></block></value><statement name="DO1"><block type="Sprite_blockCombine_change" id="fVf7s#01d,E4JlpYd@{A"><field name="property">Sprite.y@set</field><comment pinned="false" h="80" w="160">Jugador debajo del NPC, lo empuja hacia abajo</comment><value name="mySprite"><block type="variables_get" id="98Ptw_`:DJ}MrZ=lRh!|"><field name="VAR" id="WXmj6T4eS0KNnnyr(hVq">sprite_player</field></block></value><value name="value"><block type="variables_get" id="]I6zty7sNPQMCGON@{Xu"><field name="VAR" id="gTQ_/7x6g{CUKa$Gu0N!">distancia_repulsion</field></block></value></block></statement><statement name="ELSE"><block type="typescript_statement" id="9NTz[p!JO=L!Ki%8XFks"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="sprite_player.y -= distancia_repulsion" numlines="1"></mutation></block></statement></block></next></block></next></block></statement><next><block type="controls_if" id="Ar6UZvc89!wiVzr5***`"><mutation elseif="1"></mutation><comment pinned="false" h="80" w="160">---------------------------</comment><value name="IF0"><shadow type="logic_boolean" id="+$L$@yQ6mGXZIPejJY!l"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Y2GQS7AhS|U?s7HA)ewe"><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="VL)@7igaaxMdgg,BURI~"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id=".2^`lxOH#wI6n!sa23ZQ"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="GEglhc075~D`JYx8FK{e"><field name="NUM">0</field></shadow><block type="variables_get" id="h*@KnrP.DN52,REtnA0g"><field name="VAR" id="`OSNA-6riH)rtr1wRFQ(">npc_controles</field></block></value></block></value><statement name="DO0"><block type="game_show_long_text" id="3@(GauTqZL9qdrr:Tk}."><field name="layout">DialogLayout.Bottom</field><value name="str"><shadow type="text" id="w/*opXjFJs;KPsiblGR)"><field name="TEXT"></field></shadow><block type="text_join" id="tTZJl0.%Sq|yMz;)FI,e" inline="false"><mutation items="5"></mutation><value name="ADD0"><shadow type="text" id="5YD9jGWBVG=LEl*9amjO"><field name="TEXT"></field></shadow><block type="typescript_expression" id=";:w?5*`n1MU7jRgZNrb}"><field name="EXPRESSION">`
                ¡Alto ahí, recluta!
                `</field></block></value><value name="ADD1"><shadow type="text" id=",S6+TJ;2}LKa9fqy@w|G"><field name="TEXT"></field></shadow><block type="typescript_expression" id="XN#K1[[h35^+lF5|v+L,"><field name="EXPRESSION">`
                Este lugar mastica novatos como tú.
                `</field></block></value><value name="ADD2"><shadow type="text" id="krAC36ztPrr|Xg]T1XUa"><field name="TEXT"></field></shadow><block type="typescript_expression" id="%#0Gt{YlV?)Zynys):P*"><field name="EXPRESSION">`
                Si quieres vivir, aprende esto:
                `</field></block></value><value name="ADD3"><shadow type="text" id="fLaqxj[,*5#Lb2;mE*P7"><field name="TEXT"></field></shadow><block type="typescript_expression" id="03|G?M0[Hs$m(fu_xcfZ"><field name="EXPRESSION">`
                (A): ¡DODGE ROLL! Ruedas y eres intocable por un segundo.
                `</field></block></value><value name="ADD4"><shadow type="text" id="`6$}TS0#0|ez)S9*Hg%V"><field name="TEXT">(B): ¡FUEGO! Dispara antes de que te disparen a ti.</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="#O^4q0kQbvhKB[rm|_81"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="uZoUteuqEe;B_9XVm~9="><field name="OP">EQ</field><value name="A"><shadow type="math_number" id="^{kESf1ko,~D!8U}Cb*|"><field name="NUM">0</field></shadow><block type="argument_reporter_custom" id="Ax4tgwW:W?hG|g~LVbtE"><mutation typename="Sprite"></mutation><field name="VALUE">otherSprite</field></block></value><value name="B"><shadow type="math_number" id="$2~?;8!hYQ/e+r|DPv{|"><field name="NUM">0</field></shadow><block type="variables_get" id="*lL]ZFT.~}TSF3=hv7#l"><field name="VAR" id="6+(fcAxng?EaMr[Sr0Ob">npc_historia</field></block></value></block></value><statement name="DO1"><block type="game_show_long_text" id="HT3{p/_N{;*V17~3}18v"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">--- 2. LA BALITA ---
Parte 1: El aviso</comment><value name="str"><shadow type="text" id="lyfV7s6C:u[A#,39:K[^"><field name="TEXT"></field></shadow><block type="text_join" id="KIZFN.iD/TP+B;2kcPjx"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="iJ?WfUl=;O8bH(]pzTWD"><field name="TEXT"></field></shadow><block type="typescript_expression" id="@hg)olS+GhjgjP+sU-Wk"><field name="EXPRESSION">`
                Hola... no pareces de por aquí.
                `</field></block></value><value name="ADD1"><shadow type="text" id="BVU%(7C[qvj,!`4n~Er!"><field name="TEXT"></field></shadow><block type="typescript_expression" id="~G%bPF[:g7VvX!`=^F4;"><field name="EXPRESSION">`
                Bienvenido a la 'Cripta del Calibre Perdido'.
                `</field></block></value><value name="ADD2"><shadow type="text" id="7m/ZYzYoy_YZCk!OhH?Y"><field name="TEXT">Antes esto era una fragua sagrada, pero 'El Detonador' lo corrompió todo...</field></shadow></value></block></value><next><block type="game_show_long_text" id="!N/We(c/AzEDf#o717om"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 2: La leyenda</comment><value name="str"><shadow type="text" id="Tl4$xl2,?flPaxb^D5Un"><field name="TEXT"></field></shadow><block type="text_join" id="yi+o;U[sRh0]q%E~wJ;N"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="oU?EX_]v)qvt@vQ5@BFp"><field name="TEXT"></field></shadow><block type="typescript_expression" id="|gXG7`fRab7M54pmQFIa"><field name="EXPRESSION">`
                Ahora, mis hermanos balas se han vuelto locos por la Pólvora Negra.
                `</field></block></value><value name="ADD1"><shadow type="text" id="ux!bat=W!J7)dhbZU`{9"><field name="TEXT">Pero dicen que en el fondo existe el el 'Núcleo de Plomo'...</field></shadow></value></block></value><next><block type="game_show_long_text" id="+GySfObz+(5Bcv@;oHe_"><field name="layout">DialogLayout.Bottom</field><comment pinned="false" h="80" w="160">Parte 3: El reto</comment><value name="str"><shadow type="text" id="^J`!n)U[1YqymfU/)#L5"><field name="TEXT"></field></shadow><block type="text_join" id="@tib=Kn|$5T`A=*DMB[L"><mutation items="3"></mutation><value name="ADD0"><shadow type="text" id="l/{,l{%R/$a!T}gFSP_/"><field name="TEXT"></field></shadow><block type="typescript_expression" id="de|B|Qqf4Ju*bL-b1!7["><field name="EXPRESSION">`
                Si logras llegar y vencer a los Guardianes, el Núcleo te concederá un deseo:
                `</field></block></value><value name="ADD1"><shadow type="text" id="4g8u$Bq^SGUL1?6}U;aE"><field name="TEXT"></field></shadow><block type="typescript_expression" id="gZnL3an?EqHYCj]K|cC$"><field name="EXPRESSION">"¡Cambiar tu pasado!\n"</field></block></value><value name="ADD2"><shadow type="text" id="Nc(PV;WY)(7W=,|qOy.n"><field name="TEXT">¿Tienes el valor (y la munición) para intentarlo? Suerte... la necesitarás. </field></shadow></value></block></value></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="]SZgT#$TQT6nvgk|+Am@" x="3910" y="2899"><mutation name="spawn_enemis_multiple" functionid="ouuLeJRPa)ffNU{pS!Xu"></mutation><field name="function_name">spawn_enemis_multiple</field><comment pinned="false" h="80" w="160">⭐️ NUEVA FUNCIÓN: Genera múltiples enemigos en diferentes posiciones</comment><statement name="STACK"><block type="function_call" id="f?rG?6XoF7AyJp8@2@nz"><mutation name="cordenadas_sala1" functionid="qvR;c^I%aiCr(Pd8iY{~"></mutation><next><block type="typescript_statement" id="[s}2e#oDl9q|GE0]eou_"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let nuevo_enemigo: Sprite;" numlines="1" declaredvars="nuevo_enemigo"></mutation><next><block type="typescript_statement" id="_=U|)ywbOca8lQmxy~9g"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let x_coord: number;" numlines="1" declaredvars="x_coord"></mutation><next><block type="typescript_statement" id="hIC96^/;Rb7bB5kiyQ4%"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let y_coord: number;" numlines="1" declaredvars="y_coord"></mutation><next><block type="pxt_controls_for_of" id="CG20*QzP.3W%n@wSoED!"><value name="VAR"><block type="variables_get_reporter" id="8`2ptDRaO=X:?n=?4Lv4"><mutation duplicateondrag="true"></mutation><field name="VAR" id="gl`Ob0trB_)S:/6I7(kn">pos_tile</field></block></value><value name="LIST"><block type="variables_get" id="|,jR]Ziu7;0b3f$:Io5L"><field name="VAR" id="7/V#j84x{j]_vj]/{`Y.">POSICIONES_ENEMIGOS</field></block></value><statement name="DO"><block type="variables_set" id="r1I]3hvX**M@JU:Qs1U$"><field name="VAR" id="@8xK+r1K?-H,Q(ouf##c">nuevo_enemigo</field><value name="VALUE"><shadow type="math_number" id="yrRzm(Z)WRgkSZ}C]1.*"><field name="NUM">0</field></shadow><block type="spritescreate" id="%y=:EUxJ/+z0:4yvkm/k"><value name="img"><shadow type="screen_image_picker" id="6v[aoCiIMQG_csG``F7l"><field name="img">img`
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
. . . . . . . . . . . . . . . . 
`</field><data>{"commentRefs":[],"fieldData":{"img":null}}</data></shadow></value><value name="kind"><shadow type="spritekind" id="f%^!/iPQt[XO^/viQfwN"><field name="MEMBER">bullet_poryectile</field></shadow></value></block></value><next><block type="variables_set" id="E.8mh94OI/3Rbr}g;tOP"><field name="VAR" id="!wpNkHuV41Qv9E?^bEu_">x_coord</field><value name="VALUE"><shadow type="math_number" id="{[U#eI+5RbEyJf^`]lC`"><field name="NUM">0</field></shadow><block type="lists_index_get" id="On-Dg)q54x[~Iz^]gegI"><value name="LIST"><block type="variables_get" id="3g_wljlHy|c(3eboheAZ"><field name="VAR" id="gl`Ob0trB_)S:/6I7(kn">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="wE[NG!{0j!U3`t#c3;m}"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="im;|8j}uNvM%Z~Ix$@/5"><field name="VAR" id="hh:]sTm|6!6HUtGBOnV$">y_coord</field><comment pinned="false" h="80" w="160">El primer elemento es la X</comment><value name="VALUE"><shadow type="math_number" id="_`otqOy|^/c_%Y`,scKW"><field name="NUM">0</field></shadow><block type="lists_index_get" id="E*V`=)ZfcWN.gg8b`*5."><value name="LIST"><block type="variables_get" id="ShFEV+50T]e`F-e@{uVM"><field name="VAR" id="gl`Ob0trB_)S:/6I7(kn">pos_tile</field></block></value><value name="INDEX"><shadow type="math_number" id="A`MGTM(=6B?|Bj.^Lm_l"><field name="NUM">1</field></shadow></value></block></value><next><block type="spritesetpos" id="Ym|121z{m8hU%[?%pW?#"><comment pinned="false" h="80" w="160">El segundo elemento es la Y</comment><value name="sprite"><block type="variables_get" id="{w-J(I(iE6kr(qQObCIk"><field name="VAR" id="@8xK+r1K?-H,Q(ouf##c">nuevo_enemigo</field></block></value><value name="x"><shadow type="positionPicker" id="TAZPgYakNQqZC#Zp938t"><field name="index">0</field></shadow><block type="variables_get" id="0/aA/6gE[0||N8_Dqu)z"><field name="VAR" id="!wpNkHuV41Qv9E?^bEu_">x_coord</field></block></value><value name="y"><shadow type="positionPicker" id="oiOU@V%)?!-$W]xX1e+7"><field name="index">0</field></shadow><block type="variables_get" id="H17iAm30B*N:j,Wdzb`t"><field name="VAR" id="hh:]sTm|6!6HUtGBOnV$">y_coord</field></block></value><next><block type="arcade_character_loop_frames" id="[SNKN4,{*$7gB3Ara=f2"><comment pinned="false" h="80" w="160">Configuración de animaciones para ESTE enemigo (repetir para cada uno)</comment><value name="sprite"><block type="variables_get" id="PW_,4DhzD{Z2jv?[TRz|"><field name="VAR" id="@8xK+r1K?-H,Q(ouf##c">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id=",%aQC=udu~uKdg`wQ4q+"><field name="frames">assets.animation`myAnim`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim16"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="dq1fARArlWO;E*t[jWwk"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="V]U;neblQWiq5oVFmRIb"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="$h0,eXl#$%Qi;]f1(`Y!"><field name="predicate">Predicate.FacingLeft</field></shadow></value></shadow></value><next><block type="arcade_character_loop_frames" id="~{W%$L2QF-wvkK;M1qn:"><value name="sprite"><block type="variables_get" id="}b3dRg4x5J?8TtYDLr.."><field name="VAR" id="@8xK+r1K?-H,Q(ouf##c">nuevo_enemigo</field></block></value><value name="frames"><shadow type="animation_editor" id="caGiCazGTvp#bAj:V^P`"><field name="frames">assets.animation`myAnim0`</field><data>{"commentRefs":[],"fieldData":{"frames":"myAnimations.anim17"}}</data></shadow></value><value name="frameInterval"><shadow type="timePicker" id="Z:mATYmC_Zc]vMR$Om@1"><field name="ms">200</field></shadow></value><value name="rule"><shadow type="arcade_character_make_rule" id="e6,Rnsx@6n/3c5IVMR%*"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="p1"><shadow type="arcade_character_predicate" id="vmnlQZI%rT*PPfT1$@,|"><field name="predicate">Predicate.FacingRight</field></shadow></value></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="Lx%*{aFRB@MxsE|+B@cs" x="-125" y="4560"><mutation name="mode_attack" functionid="?r@8@Kt#fso3GUwiB0Dt"></mutation><field name="function_name">mode_attack</field><comment pinned="false" h="80" w="160">--- Inicialización del Juego ---</comment><statement name="STACK"><block type="pxt_controls_for_of" id="%L6f(#=zn^,Lc0LK0i}A"><comment pinned="false" h="80" w="160">⭐️ OPTIMIZACIÓN: Itera sobre TODOS los enemigos para que todos sigan al jugador</comment><value name="VAR"><block type="variables_get_reporter" id="ip9}Q+*NWW=^BZGGF8BZ"><mutation duplicateondrag="true"></mutation><field name="VAR" id="E0@x)8WvsDEYljTm.e}Z">un_enemigo</field></block></value><value name="LIST"><block type="allOfKind" id="f}a5224|Wez*CuQl@u_!"><value name="kind"><shadow type="spritekind" id="1O|R,u=tRdLdsC:#Dn6n"><field name="MEMBER">bullet_poryectile</field></shadow></value></block></value><statement name="DO"><block type="spriteFollowOtherSprite" id="@`3y5tPr[E}HSdv$A;lh"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="1" _input_init="true"></mutation><value name="sprite"><block type="variables_get" id="+ZPfz}el5q*JmVdm*Ys5"><field name="VAR" id="E0@x)8WvsDEYljTm.e}Z">un_enemigo</field></block></value><value name="target"><block type="variables_get" id="4CTeThLkhRfVXX~;7Ni~"><field name="VAR" id="(Dd7^L}aW4ctQZHESwk@">mySprite</field></block></value><value name="speed"><shadow type="math_number" id="@97,=BzKT,Lr?)_#:W9g"><field name="NUM">100</field></shadow></value></block></statement></block></statement></block></xml>